{
  "openapi": "3.1.0",
  "info": {
    "title": "Project Beta API",
    "description": "AI-powered content generation platform API",
    "version": "0.7.417"
  },
  "paths": {
    "/api/v2/brands": {
      "post": {
        "tags": [
          "brands"
        ],
        "summary": "Create Brand",
        "description": "Create a new brand and automatically trigger knowledge workflow.\n\nCreates a new brand with server-generated ID and immediately starts\na knowledge extraction workflow in the background.\n\nArgs:\n    firebase_user: Authenticated Firebase user (injected by auth dependency)\n    request: Brand creation request",
        "operationId": "create_brand_api_v2_brands_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BrandCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Brand created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BrandResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request data"
          },
          "409": {
            "description": "Brand with this name already exists"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "brands"
        ],
        "summary": "List Brands",
        "description": "List brands belonging to the authenticated user.\n\nReturns a list of brands owned by the authenticated user with pagination support.\nSecurity: Only returns brands belonging to the authenticated user.",
        "operationId": "list_brands_api_v2_brands_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Maximum brands to return",
              "default": 20,
              "title": "Limit"
            },
            "description": "Maximum brands to return"
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "description": "Number of brands to skip",
              "default": 0,
              "title": "Offset"
            },
            "description": "Number of brands to skip"
          }
        ],
        "responses": {
          "200": {
            "description": "List of brands returned",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/BrandResponse"
                  },
                  "title": "Response List Brands Api V2 Brands Get"
                }
              }
            }
          },
          "401": {
            "description": "Authentication required"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/brands/{brand_id}": {
      "put": {
        "tags": [
          "brands"
        ],
        "summary": "Update Brand",
        "description": "Update an existing brand.\n\nUpdates an existing brand. Returns 404 if the brand doesn't exist.\nOnly provided fields will be updated (partial update).",
        "operationId": "update_brand_api_v2_brands__brand_id__put",
        "parameters": [
          {
            "name": "brand_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The brand ID",
              "title": "Brand Id"
            },
            "description": "The brand ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BrandUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Brand updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BrandResponse"
                }
              }
            }
          },
          "404": {
            "description": "Brand not found"
          },
          "400": {
            "description": "Invalid request data"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "brands"
        ],
        "summary": "Get Brand",
        "description": "Get brand information.\n\nReturns the brand details and status.\nReturns 404 if brand doesn't exist.\n\nRMM-2 Compliant Pattern:\n- Use GET /brands/{brand_id} for basic brand data\n- Use GET /brands/{brand_id}?include=files to explicitly request file URLs\n- Replaces non-compliant pattern: GET /brands/{brand_id}/with-files (hyphenated segment)\n\nQuery Parameters:\n- include: Optional comma-separated list of additional data to include\n          Supported values: 'files' (includes brand_guidelines_url, logo_url)\n          Example: ?include=files\n\nNote: File URLs (brand_guidelines_url, logo_url) are always included in the\nresponse for backward compatibility. The include parameter is provided to\ndemonstrate RMM-2 best practices using query parameters instead of hyphenated\npath segments.",
        "operationId": "get_brand_api_v2_brands__brand_id__get",
        "parameters": [
          {
            "name": "brand_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The brand ID",
              "title": "Brand Id"
            },
            "description": "The brand ID"
          },
          {
            "name": "include",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Comma-separated list of additional data to include (e.g., 'files')",
              "title": "Include"
            },
            "description": "Comma-separated list of additional data to include (e.g., 'files')"
          }
        ],
        "responses": {
          "200": {
            "description": "Brand information returned",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BrandResponse"
                }
              }
            }
          },
          "404": {
            "description": "Brand not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/brands/{brand_id}/onboarding/progress": {
      "patch": {
        "tags": [
          "brands"
        ],
        "summary": "Update Brand Onboarding Progress",
        "description": "Update brand onboarding progress step.\n\nTracks onboarding workflow progress including current step, completed steps,\nand optional metadata to keep the frontend aligned with backend state.",
        "operationId": "update_brand_onboarding_progress_api_v2_brands__brand_id__onboarding_progress_patch",
        "parameters": [
          {
            "name": "brand_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The brand ID",
              "title": "Brand Id"
            },
            "description": "The brand ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BrandOnboardingProgressUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Brand onboarding progress updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BrandOnboardingProgressResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid progress data"
          },
          "404": {
            "description": "Brand not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/brands/{brand_id}/files": {
      "post": {
        "tags": [
          "brands"
        ],
        "summary": "Upload Brand Files",
        "description": "Upload brand files (guidelines PDF and logo) with async LLM extraction.\n\nIssue #1386: Migrated to brand-crawler publisher pattern.\n\nProper REST endpoint for uploading brand files to an existing brand.\nExtracts structured brand information (colors, typography, photography)\nfrom PDF brand guidelines via brand-crawler service (async).\n\nThe extraction is now async - file is uploaded immediately, and\nbrand-crawler processes the PDF in the background.",
        "operationId": "upload_brand_files",
        "parameters": [
          {
            "name": "brand_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The brand ID",
              "title": "Brand Id"
            },
            "description": "The brand ID"
          }
        ],
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_upload_brand_files"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Brand files uploaded and processed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BrandFileUploadResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid file format or size"
          },
          "404": {
            "description": "Brand not found"
          },
          "413": {
            "description": "File too large"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "brands"
        ],
        "summary": "Update Brand Files",
        "description": "Update brand files (guidelines PDF and logo).\n\nProper REST endpoint for updating brand files.\nReplaces the non-RESTful /with-files endpoint.",
        "operationId": "update_brand_files",
        "parameters": [
          {
            "name": "brand_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The brand ID",
              "title": "Brand Id"
            },
            "description": "The brand ID"
          }
        ],
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_update_brand_files"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Brand files updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BrandResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid file format or size"
          },
          "404": {
            "description": "Brand not found"
          },
          "413": {
            "description": "File too large"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/brands/{brand_id}/summaries": {
      "post": {
        "tags": [
          "brands"
        ],
        "summary": "Generate Brand Summary",
        "description": "Trigger brand summary generation via brand-crawler.\n\nIssue #1386: Migrated to brand-crawler publisher pattern.\nIssue #1102: RMM L2 compliance - renamed from /summary to /summaries.\n\n**RMM L2 Compliance**: POST /api/v2/brands/{brand_id}/summaries\n- Summaries modeled as a resource collection\n- POST creates a new summary generation request\n- Returns 202 Accepted with correlation info\n\nSummary is generated asynchronously by brand-crawler:\n- Generates 60-word brand summary via LLM\n- Includes: mission, vision, values, tone/voice, persona, industry, vertical\n- Excludes: brand colors, service lists, location\n- Brand record is updated with summary when complete",
        "operationId": "generate_brand_summary_api_v2_brands__brand_id__summaries_post",
        "parameters": [
          {
            "name": "brand_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The brand ID",
              "title": "Brand Id"
            },
            "description": "The brand ID"
          }
        ],
        "responses": {
          "202": {
            "description": "Brand summary generation triggered",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BrandSummaryResponse"
                }
              }
            }
          },
          "404": {
            "description": "Brand not found"
          },
          "500": {
            "description": "Failed to trigger summary generation"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/brands/{brand_id}/summary": {
      "post": {
        "tags": [
          "brands"
        ],
        "summary": "Generate Brand Summary Deprecated",
        "description": "[DEPRECATED] Use POST /brands/{brand_id}/summaries instead.\n\nIssue #1102: This endpoint is deprecated for RMM L2 compliance.\nThe new endpoint uses plural 'summaries' to properly model the resource collection.\n\nThis deprecated endpoint will be removed in a future release.",
        "operationId": "generate_brand_summary_deprecated_api_v2_brands__brand_id__summary_post",
        "deprecated": true,
        "parameters": [
          {
            "name": "brand_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The brand ID",
              "title": "Brand Id"
            },
            "description": "The brand ID"
          }
        ],
        "responses": {
          "202": {
            "description": "Brand summary generation triggered",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BrandSummaryResponse"
                }
              }
            }
          },
          "404": {
            "description": "Brand not found"
          },
          "500": {
            "description": "Failed to trigger summary generation"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/brands/{brand_id}/knowledge/status": {
      "get": {
        "tags": [
          "brands"
        ],
        "summary": "Get Brand Knowledge Status",
        "description": "Get the status of brand knowledge extraction (Phase 1: Progressive Brand Knowledge).\n\nReturns the current status and progress of the brand's knowledge extraction workflow,\nincluding whether quick extraction and deep crawl phases are complete.\n\nThis endpoint enables the frontend to:\n- Show instant brand creation feedback\n- Display real-time progress of knowledge extraction\n- Determine when to enable features that require knowledge data\n- Poll for updates during background processing\n\nPhase Architecture:\n- Phase 1 (Instant): Brand created in < 1 second with status \"not_started\"\n- Phase 2 (Quick): Quick extraction adds colors/industry in < 3 seconds\n- Phase 3 (Deep): Deep crawl runs in background (minutes to hours)\n- Phase 4 (Enhancement): Campaigns improve as brand knowledge grows\n\nRMM Level 2 Compliance:\n- GET to /brands/{brand_id}/knowledge/status retrieves status resource\n- Resource-oriented URL structure\n- No verbs in URL path",
        "operationId": "get_brand_knowledge_status_api_v2_brands__brand_id__knowledge_status_get",
        "parameters": [
          {
            "name": "brand_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The brand ID",
              "title": "Brand Id"
            },
            "description": "The brand ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Knowledge extraction status returned",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BrandKnowledgeStatusResponse"
                }
              }
            }
          },
          "404": {
            "description": "Brand not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/brands/{brand_id}/crawl/status": {
      "get": {
        "tags": [
          "brands"
        ],
        "summary": "Get Brand Crawl Status",
        "description": "Get real-time brand crawl progress (Issue #1279).\n\nReturns comprehensive crawl status information so the frontend can show\nusers real-time progress during website crawling operations.\n\nStatus Values:\n- not_started: No crawl has been initiated\n- pending: Crawl queued but not yet started\n- estimating: Analyzing website structure\n- crawling: Actively crawling pages\n- extracting: Extracting brand assets from crawled content\n- uploading: Saving extracted assets\n- complete: Crawl finished successfully\n- failed: Crawl encountered an error\n\nRMM Level 2 Compliance:\n- GET retrieves crawl status sub-resource\n- Resource-oriented hierarchical URL structure\n- /crawl/status follows RMM-2 path pattern",
        "operationId": "get_brand_crawl_status_api_v2_brands__brand_id__crawl_status_get",
        "parameters": [
          {
            "name": "brand_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The brand ID",
              "title": "Brand Id"
            },
            "description": "The brand ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Brand crawl status returned",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BrandCrawlStatusResponse"
                }
              }
            }
          },
          "404": {
            "description": "Brand not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/brands/{brand_id}/location/extractions": {
      "post": {
        "tags": [
          "brands"
        ],
        "summary": "Create Location Extraction",
        "description": "Extract physical locations from text or brand knowledge.\n\nExtracts structured physical location information (address, city, state, country)\nfrom either provided text or from the brand's stored knowledge base.\n\nRMM Level 2 Compliant Pattern:\n- POST creates a new location-extraction resource\n- Resource-oriented URL: /brands/{id}/location/extractions (hierarchical)\n- Uses noun-based resource name (no verbs or hyphens in path)\n- Returns 200 OK with extracted data (extraction is idempotent)\n\nBusiness Context:\n- Enables location-based marketing and targeting\n- Extracts from brand website content, social media, or provided text\n- Uses AI/LLM for intelligent location extraction\n- Results are structured for easy querying and filtering\n\nRequest Body:\n- text (optional): Text content to extract locations from\n- If text not provided, extracts from brand's stored knowledge\n\nArgs:\n    brand_id: The brand identifier\n    request: LocationExtractionRequest with optional text\n    extractor_service: Injected ExtractorService for extraction\n\nReturns:\n    LocationExtractionResponse with list of extracted locations\n\nRaises:\n    HTTPException: 404 if brand not found, 400 for invalid data, 500 on failure",
        "operationId": "create_location_extraction_api_v2_brands__brand_id__location_extractions_post",
        "parameters": [
          {
            "name": "brand_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The brand ID",
              "title": "Brand Id"
            },
            "description": "The brand ID"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LocationExtractionRequest",
                "description": "Optional text to extract locations from"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Physical locations extracted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LocationExtractionResponse"
                }
              }
            }
          },
          "404": {
            "description": "Brand not found"
          },
          "400": {
            "description": "Invalid request data"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/brands/{brand_id}/extract/locations": {
      "post": {
        "tags": [
          "brands"
        ],
        "summary": "Extract Brand Locations",
        "description": "Extract physical locations from text or brand knowledge.\n\nDEPRECATED: This endpoint uses a verb in the path which violates RMM Level 2.\nUse POST /brands/{brand_id}/location/extractions instead.\nThis endpoint will be removed in 6 months.\n\nDeprecation date: 2025-12-29\nRemoval date: 2026-06-29\nReplacement: POST /api/v2/brands/{brand_id}/location/extractions",
        "operationId": "extract_brand_locations_api_v2_brands__brand_id__extract_locations_post",
        "deprecated": true,
        "parameters": [
          {
            "name": "brand_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The brand ID",
              "title": "Brand Id"
            },
            "description": "The brand ID"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LocationExtractionRequest",
                "description": "Optional text to extract locations from"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Physical locations extracted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LocationExtractionResponse"
                }
              }
            }
          },
          "404": {
            "description": "Brand not found"
          },
          "400": {
            "description": "Invalid request data"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/brands/{brand_id}/knowledge/workflows": {
      "post": {
        "tags": [
          "brand-workflow"
        ],
        "summary": "Start Knowledge Workflow",
        "description": "Start knowledge discovery workflow for a brand.\n\nCreates a new workflow resource that orchestrates website crawling,\ncontent extraction, and knowledge storage. This is an explicit trigger\nfollowing RMM Level 2 principles.\n\nThe workflow runs asynchronously. Poll the status endpoint to monitor progress.\n\nDesign Pattern (RMM L2):\n- POST creates a workflow resource (not an RPC \"scrape\" action)\n- Returns 202 Accepted (async processing)\n- Provides workflow_id for status polling\n- Idempotent: multiple POSTs return existing workflow if already running",
        "operationId": "start_knowledge_workflow_api_v2_brands__brand_id__knowledge_workflows_post",
        "parameters": [
          {
            "name": "brand_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The brand ID",
              "title": "Brand Id"
            },
            "description": "The brand ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/WorkflowRequest"
              }
            }
          }
        },
        "responses": {
          "202": {
            "description": "Workflow started successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WorkflowResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request data"
          },
          "404": {
            "description": "Brand not found"
          },
          "409": {
            "description": "Workflow already running for this brand"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/brands/{brand_id}/knowledge/workflows/{workflow_id}": {
      "get": {
        "tags": [
          "brand-workflow"
        ],
        "summary": "Get Brand Workflow",
        "description": "Get the status of the knowledge collection workflow.\n\nReturns the current status of the background workflow including\nprogress, current step, and any results. This endpoint is used\nby the frontend to monitor the progress of the knowledge extraction\nthat was initiated internally during brand creation.\n\nIssue #1268: Migrated from WorkflowService to DB-based status tracking.\nStatus is now read from the brand's knowledge_status field.",
        "operationId": "get_brand_workflow_api_v2_brands__brand_id__knowledge_workflows__workflow_id__get",
        "parameters": [
          {
            "name": "brand_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The brand ID",
              "title": "Brand Id"
            },
            "description": "The brand ID"
          },
          {
            "name": "workflow_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The workflow ID",
              "title": "Workflow Id"
            },
            "description": "The workflow ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Workflow status returned",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WorkflowResponse"
                }
              }
            }
          },
          "404": {
            "description": "No workflow found for this brand"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/brands/{brand_id}/knowledge": {
      "get": {
        "tags": [
          "brand-workflow"
        ],
        "summary": "Get Brand Knowledge V2",
        "description": "Get extracted brand knowledge in V2 format with pagination.\n\nReturns the extracted brand knowledge including personality traits,\ntone attributes, color palette, products, and descriptions. This endpoint\nprovides the structured knowledge after workflow completion.\n\nRMM L2 Compliant: Supports `view` query parameter to control response type.\n- view=summary: Returns summary statistics (replaces /knowledge/summary)\n- view not specified: Returns full knowledge list with pagination\n\nSupports pagination parameters for future compatibility when multiple\nknowledge entries per brand are supported.",
        "operationId": "get_brand_knowledge_v2_api_v2_brands__brand_id__knowledge_get",
        "parameters": [
          {
            "name": "brand_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The brand ID",
              "title": "Brand Id"
            },
            "description": "The brand ID"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Number of items to return",
              "default": 10,
              "title": "Limit"
            },
            "description": "Number of items to return"
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "description": "Number of items to skip",
              "default": 0,
              "title": "Offset"
            },
            "description": "Number of items to skip"
          },
          {
            "name": "view",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "View mode: 'summary' for summary statistics. If not provided, returns full knowledge list.",
              "enum": [
                "summary"
              ],
              "title": "View"
            },
            "description": "View mode: 'summary' for summary statistics. If not provided, returns full knowledge list."
          }
        ],
        "responses": {
          "200": {
            "description": "Brand knowledge returned",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BrandKnowledgeV2ListResponse"
                }
              }
            }
          },
          "404": {
            "description": "Brand knowledge not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/brands/{brand_id}/knowledge/summary": {
      "get": {
        "tags": [
          "brand-workflow"
        ],
        "summary": "Get Brand Knowledge Summary By Brand",
        "description": "Get summary statistics for a brand's knowledge entries.\n\nDEPRECATED: This endpoint uses '/summary' as a path segment for a view.\nUse GET /brands/{brand_id}/knowledge?view=summary instead.\nThis endpoint will be removed on 2026-07-01.\n\nDeprecation date: 2026-01-01\nRemoval date: 2026-07-01\nReplacement: GET /api/v2/brands/{brand_id}/knowledge?view=summary",
        "operationId": "get_brand_knowledge_summary_by_brand",
        "deprecated": true,
        "parameters": [
          {
            "name": "brand_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The brand ID",
              "title": "Brand Id"
            },
            "description": "The brand ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Brand knowledge summary returned",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BrandKnowledgeBrandSummaryResponse"
                }
              }
            }
          },
          "404": {
            "description": "No knowledge found for brand"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/campaigns": {
      "post": {
        "tags": [
          "campaigns"
        ],
        "summary": "Create Campaign",
        "description": "Create a new campaign and auto-trigger content generation.\n\nCreates a new campaign with server-generated ID. The campaign name should be unique.\nUser ID is extracted from the authenticated user's JWT token for security.\n\nAfter successful campaign creation, automatically triggers content generation\nin the background using FastAPI BackgroundTasks. This ensures the API\nreturns immediately (< 1 second) while content generation runs asynchronously.\n\nArchitecture Note (Issue #1296):\n- Uses ContentGenerationPublisher for Pub/Sub-based content generation\n- Frontend NEVER waits for content generation completion\n- Content generation triggers happen in background tasks\n- Frontend polls /campaigns/{id}/workflow/status for progress\n- Skinny message pattern: only campaign_id is sent to content-generator\n\nArgs:\n    background_tasks: FastAPI background tasks for async content generation\n    firebase_user: Authenticated Firebase user (injected by auth dependency)\n    request: Campaign creation request (user_id extracted from JWT, not body)\n    brand_repository: Repository for brand data access\n    campaign_service: Service for campaign CRUD operations\n    content_generation_publisher: Publisher for content generation requests\n\nReturns:\n    CampaignResponse: The created campaign (content generation runs in background)\n\nRaises:\n    HTTPException: 401 if authentication fails, 400 for invalid data",
        "operationId": "create_campaign_api_v2_campaigns_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CampaignCreateRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Campaign created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CampaignResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request data"
          },
          "401": {
            "description": "Unauthorized - invalid or missing authentication token"
          },
          "409": {
            "description": "Campaign with this name already exists"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "campaigns"
        ],
        "summary": "List Campaigns",
        "description": "List all campaigns for the authenticated user.\n\nArgs:\n    firebase_user: Authenticated Firebase user (injected by auth dependency)\n\nReturns:\n    List of campaigns for the authenticated user",
        "operationId": "list_campaigns_api_v2_campaigns_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "user_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Deprecated: campaigns now scoped to authenticated user",
              "title": "User Id"
            },
            "description": "Deprecated: campaigns now scoped to authenticated user",
            "deprecated": true
          }
        ],
        "responses": {
          "200": {
            "description": "List of campaigns returned",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/CampaignResponse"
                  },
                  "title": "Response List Campaigns Api V2 Campaigns Get"
                }
              }
            }
          },
          "400": {
            "description": "Missing or invalid user_id parameter"
          },
          "401": {
            "description": "Unauthorized - invalid or missing authentication token"
          },
          "422": {
            "description": "Validation Error"
          }
        }
      }
    },
    "/api/v2/campaigns/{campaign_id}": {
      "put": {
        "tags": [
          "campaigns"
        ],
        "summary": "Update Campaign",
        "description": "Update an existing campaign (full update).\n\nUpdates an existing campaign. Returns 404 if the campaign doesn't exist.\nOnly provided fields will be updated (partial update).",
        "operationId": "update_campaign_api_v2_campaigns__campaign_id__put",
        "parameters": [
          {
            "name": "campaign_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The campaign ID",
              "title": "Campaign Id"
            },
            "description": "The campaign ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CampaignUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Campaign updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CampaignResponse"
                }
              }
            }
          },
          "404": {
            "description": "Campaign not found"
          },
          "400": {
            "description": "Invalid request data"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "campaigns"
        ],
        "summary": "Patch Campaign",
        "description": "Partially update a campaign (e.g., publish).\n\nThis is the RMM Level 2 compliant endpoint for partial campaign updates.\nInstead of POST /campaigns/{id}/publish, use PATCH with status update.\n\nExample: To publish a campaign, send PATCH with {\"status\": \"published\"}",
        "operationId": "patch_campaign_api_v2_campaigns__campaign_id__patch",
        "parameters": [
          {
            "name": "campaign_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The campaign ID",
              "title": "Campaign Id"
            },
            "description": "The campaign ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CampaignUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Campaign updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CampaignResponse"
                }
              }
            }
          },
          "404": {
            "description": "Campaign not found"
          },
          "400": {
            "description": "Invalid request data"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "campaigns"
        ],
        "summary": "Get Campaign",
        "description": "Get campaign information.\n\nReturns the campaign details and status.\nReturns 404 if campaign doesn't exist.",
        "operationId": "get_campaign_api_v2_campaigns__campaign_id__get",
        "parameters": [
          {
            "name": "campaign_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The campaign ID",
              "title": "Campaign Id"
            },
            "description": "The campaign ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Campaign information returned",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CampaignResponse"
                }
              }
            }
          },
          "404": {
            "description": "Campaign not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "campaigns"
        ],
        "summary": "Delete Campaign",
        "description": "Delete a campaign.\n\nDeletes the specified campaign. Returns 204 on successful deletion.\nReturns 404 if campaign doesn't exist.",
        "operationId": "delete_campaign_api_v2_campaigns__campaign_id__delete",
        "parameters": [
          {
            "name": "campaign_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The campaign ID",
              "title": "Campaign Id"
            },
            "description": "The campaign ID"
          }
        ],
        "responses": {
          "204": {
            "description": "Campaign deleted successfully"
          },
          "404": {
            "description": "Campaign not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/campaigns/{campaign_id}/statistics": {
      "get": {
        "tags": [
          "campaigns"
        ],
        "summary": "Get Campaign Statistics",
        "description": "Get campaign statistics.\n\nReturns detailed statistics for a specific campaign including engagement metrics,\nplatform breakdown, content performance, content status breakdown, and campaign progress.",
        "operationId": "get_campaign_statistics_api_v2_campaigns__campaign_id__statistics_get",
        "parameters": [
          {
            "name": "campaign_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The campaign ID",
              "title": "Campaign Id"
            },
            "description": "The campaign ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Campaign statistics returned",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CampaignStatistics"
                }
              }
            }
          },
          "404": {
            "description": "Campaign not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/campaigns/{campaign_id}/workflow/status": {
      "get": {
        "tags": [
          "campaigns"
        ],
        "summary": "Get Campaign Workflow Status",
        "description": "Get workflow status for a campaign's content generation.\n\nReturns the current status of the campaign's content generation workflow.\nUsed by the frontend to poll for progress during content generation.\n\nIssue #1227: Missing workflow-status endpoint for campaigns.\nIssue #1298: DB-based status for Pub/Sub content generation.\nIssue #1268: Removed WorkflowService - fully DB-based now.\n\nThis endpoint uses a DB-first approach:\n1. Query database for content generation status\n2. Calculate progress from Content record counts\n3. Return pending status if workflow started but no content yet\n\nThe workflow status includes:\n- status: pending, running, completed, or failed\n- progress: completion percentage (0-100)\n- message: human-readable progress message (e.g., \"Generating post 10 of 21\")\n- current_step: the currently executing workflow step\n\nArgs:\n    campaign_id: The campaign ID\n    campaign_service: Service for campaign CRUD operations\n    content_repository: Repository for content data (to get post counts)\n\nReturns:\n    WorkflowStatusResponse with status, progress, and message\n\nRaises:\n    HTTPException: 404 if campaign not found or no workflow started",
        "operationId": "get_campaign_workflow_status_api_v2_campaigns__campaign_id__workflow_status_get",
        "parameters": [
          {
            "name": "campaign_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The campaign ID",
              "title": "Campaign Id"
            },
            "description": "The campaign ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Workflow status returned",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WorkflowStatusResponse"
                }
              }
            }
          },
          "404": {
            "description": "Campaign not found or no workflow started"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/campaigns/{campaign_id}/content/generations": {
      "post": {
        "tags": [
          "campaigns"
        ],
        "summary": "Trigger Content Generation",
        "description": "Trigger content generation for a campaign.\n\nPublishes a content generation request to the content-generator service.\nThe request is processed asynchronously - this endpoint returns immediately\nwith a 202 Accepted response.\n\nThis endpoint uses the new Pub/Sub-based content generation architecture:\n- Sends a skinny message containing only the campaign_id\n- The content-generator service fetches full context from the database\n- Generation progress can be monitored via the workflow status endpoint\n\nArgs:\n    campaign_id: The campaign ID to generate content for\n    firebase_user: Authenticated user (from JWT token)\n    campaign_service: Service for campaign operations\n    content_generation_publisher: Publisher for content generation requests\n\nReturns:\n    ContentGenerationResponse with message_id for tracking\n\nRaises:\n    HTTPException: 404 if campaign not found, 500 if publishing fails",
        "operationId": "trigger_content_generation_api_v2_campaigns__campaign_id__content_generations_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "campaign_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The campaign ID",
              "title": "Campaign Id"
            },
            "description": "The campaign ID"
          }
        ],
        "responses": {
          "202": {
            "description": "Content generation request accepted",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContentGenerationResponse"
                }
              }
            }
          },
          "404": {
            "description": "Campaign not found"
          },
          "500": {
            "description": "Failed to trigger content generation"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/campaigns/{campaign_id}/publications": {
      "post": {
        "tags": [
          "campaigns"
        ],
        "summary": "Create Campaign Publication",
        "description": "Create a campaign publication (RMM L2: publication is a resource).\n\nDirect port from V1 POST /api/v1/campaign/publish endpoint.\n\nRMM L2 Rationale:\n- Publications are resources representing published campaign instances\n- Creating publication is resource creation (not RPC-style /publish)\n- Publications track platform, schedule, and status\n\nThis endpoint:\n- Validates campaign exists and has approved content\n- Schedules posts via Cloud Scheduler (TODO)\n- Returns publication summary with scheduling results",
        "operationId": "create_campaign_publication_api_v2_campaigns__campaign_id__publications_post",
        "parameters": [
          {
            "name": "campaign_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The campaign ID",
              "title": "Campaign Id"
            },
            "description": "The campaign ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CampaignPublicationCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Publication created and scheduled successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CampaignPublicationResponse"
                }
              }
            }
          },
          "404": {
            "description": "Campaign not found"
          },
          "400": {
            "description": "Invalid publication data"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/campaigns/{campaign_id}/specifications": {
      "post": {
        "tags": [
          "campaigns"
        ],
        "summary": "Generate Campaign Specifications",
        "description": "Generate campaign specifications using LLM analysis.\n\nDirect port from V1 /api/v1/llm/openai endpoint used by CampaignDetails.tsx.\n\nAnalyzes campaign data (objective, audience, product features) and generates\nstructured specifications including:\n- key_features: Product benefits and competitive features\n- audience: Target audience description with demographics\n- purpose: Campaign goal and focus description\n\nRMM L2 Design: Specifications are a computed sub-resource of campaign.\nPOST generates new specs from current campaign data using LLM analysis.",
        "operationId": "generate_campaign_specifications_api_v2_campaigns__campaign_id__specifications_post",
        "parameters": [
          {
            "name": "campaign_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The campaign ID",
              "title": "Campaign Id"
            },
            "description": "The campaign ID"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CampaignSpecificationRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Campaign specifications generated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CampaignSpecificationResponse"
                }
              }
            }
          },
          "404": {
            "description": "Campaign not found"
          },
          "500": {
            "description": "Failed to generate specifications"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/campaigns/{campaign_id}/audience/suggestions": {
      "post": {
        "tags": [
          "campaigns"
        ],
        "summary": "Create Audience Suggestions",
        "description": "Generate audience emotion and interest suggestions for campaign.\n\nRMM L2 Compliant: Uses hierarchical path '/audience/suggestions'.\n\nThis endpoint:\n- Fetches campaign and brand data\n- Constructs LLM prompt for audience analysis\n- Generates emotion and interest arrays using GPT-4\n- Returns exactly 3 items in each array",
        "operationId": "create_audience_suggestions_api_v2_campaigns__campaign_id__audience_suggestions_post",
        "parameters": [
          {
            "name": "campaign_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The campaign ID",
              "title": "Campaign Id"
            },
            "description": "The campaign ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Audience suggestions generated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AudienceSuggestionsResponse"
                }
              }
            }
          },
          "404": {
            "description": "Campaign not found"
          },
          "500": {
            "description": "Failed to generate suggestions"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/campaigns/{campaign_id}/audience-suggestions": {
      "post": {
        "tags": [
          "campaigns"
        ],
        "summary": "Generate Audience Suggestions",
        "description": "Generate audience emotion and interest suggestions for campaign.\n\nDEPRECATED: This endpoint uses hyphenated path '/audience-suggestions'.\nUse /audience/suggestions instead for RMM L2 compliance.\nThis endpoint will be removed on 2026-07-01.\n\nDeprecation date: 2026-01-01\nRemoval date: 2026-07-01\nReplacement: POST /api/v2/campaigns/{campaign_id}/audience/suggestions",
        "operationId": "generate_audience_suggestions_api_v2_campaigns__campaign_id__audience_suggestions_post",
        "deprecated": true,
        "parameters": [
          {
            "name": "campaign_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The campaign ID",
              "title": "Campaign Id"
            },
            "description": "The campaign ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Audience suggestions generated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AudienceSuggestionsResponse"
                }
              }
            }
          },
          "404": {
            "description": "Campaign not found"
          },
          "500": {
            "description": "Failed to generate suggestions"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/campaigns/{campaign_id}/exports/approval/status": {
      "get": {
        "tags": [
          "campaigns"
        ],
        "summary": "Get Exports Approval Status",
        "description": "Get detailed export approval status for a campaign.\n\nRMM L2 Compliant: Uses hierarchical path '/exports/approval/status'.\n\nReturns detailed approval status for the export workflow including:\n- Whether all content is approved\n- Count of approved posts\n- Total count of posts\n- List of unapproved content IDs (for UI to show what needs approval)\n\nUsed by export functionality to:\n- Enable/disable export button\n- Show which content items need approval before export\n- Provide detailed feedback to user\n\nReturns:\n    - approved: true if all content is approved, false otherwise\n    - approved_content: number of approved posts\n    - total_content: total number of posts in campaign\n    - unapproved_content_ids: list of content IDs that are not approved",
        "operationId": "get_exports_approval_status_api_v2_campaigns__campaign_id__exports_approval_status_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "campaign_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The campaign ID",
              "title": "Campaign Id"
            },
            "description": "The campaign ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Export approval status returned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CampaignExportApprovalStatus"
                }
              }
            }
          },
          "404": {
            "description": "Campaign content not found"
          },
          "500": {
            "description": "Failed to get export approval status"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/campaigns/{campaign_id}/export/approval-status": {
      "get": {
        "tags": [
          "campaigns"
        ],
        "summary": "Get Campaign Export Approval Status",
        "description": "Get detailed export approval status for a campaign.\n\nDEPRECATED: This endpoint uses procedural namespace '/export/approval-status'.\nUse /exports/approval/status instead for RMM L2 compliance.\nThis endpoint will be removed on 2026-07-01.\n\nDeprecation date: 2026-01-01\nRemoval date: 2026-07-01\nReplacement: GET /api/v2/campaigns/{campaign_id}/exports/approval/status",
        "operationId": "get_campaign_export_approval_status_api_v2_campaigns__campaign_id__export_approval_status_get",
        "deprecated": true,
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "campaign_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The campaign ID",
              "title": "Campaign Id"
            },
            "description": "The campaign ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Export approval status returned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CampaignExportApprovalStatus"
                }
              }
            }
          },
          "404": {
            "description": "Campaign content not found"
          },
          "500": {
            "description": "Failed to get export approval status"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/campaigns/{campaign_id}/export": {
      "get": {
        "tags": [
          "campaigns"
        ],
        "summary": "Get Campaign Export Data",
        "description": "Get campaign export data with content negotiation (RMM L2 compliant).\n\nUses the Accept header for format selection instead of path-based format.\nCurrently supports: application/pdf\n\nRMM L2 Rationale:\n- Export data is a computed sub-resource of campaign\n- Format is requested via Accept header (content negotiation)\n- Follows HTTP specification for representation selection\n\nThis endpoint:\n- Returns all data needed for export generation\n- Includes campaign, brand, and content information\n- Supports content negotiation via Accept header\n- Performance target: <2s response time\n\nArgs:\n    response: FastAPI response object for setting headers\n    campaign_id: The campaign ID\n    accept: Accept header specifying desired format (default: application/pdf)\n    campaign_export_repo: Repository for export data\n\nReturns:\n    CampaignExportData with campaign, brand, and content information\n\nRaises:\n    404: Campaign not found\n    406: Requested format not acceptable",
        "operationId": "get_campaign_export_data_api_v2_campaigns__campaign_id__export_get",
        "parameters": [
          {
            "name": "campaign_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The campaign ID",
              "title": "Campaign Id"
            },
            "description": "The campaign ID"
          },
          {
            "name": "accept",
            "in": "header",
            "required": false,
            "schema": {
              "type": "string",
              "description": "Content type for export format (e.g., application/pdf)",
              "default": "application/pdf",
              "title": "Accept"
            },
            "description": "Content type for export format (e.g., application/pdf)"
          }
        ],
        "responses": {
          "200": {
            "description": "Export data returned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CampaignExportData"
                }
              }
            }
          },
          "404": {
            "description": "Campaign not found"
          },
          "406": {
            "description": "Requested format not supported"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/campaigns/{campaign_id}/export/pdf": {
      "get": {
        "tags": [
          "campaigns"
        ],
        "summary": "Get Campaign Pdf Export Data",
        "description": "Get campaign PDF export data.\n\nDEPRECATED: Use GET /campaigns/{campaign_id}/export with Accept header.\n\nThis endpoint is deprecated and will be removed on 2026-06-28.\nPlease migrate to the new content-negotiation endpoint:\n- New endpoint: GET /api/v2/campaigns/{campaign_id}/export\n- Use Accept header: Accept: application/pdf\n\nDirect port from V1 GET /api/v1/getPdfData?campaign_id={id} endpoint.\nUsed by frontend src/shared/utils/exportUtils.ts:51 for PDF generation.\n\nRMM L2 Note:\n- This endpoint violates RMM L2 by specifying format in the URL path\n- Format should be requested using the Accept HTTP header\n- See Issue #1097 for migration details",
        "operationId": "get_campaign_pdf_export_data_api_v2_campaigns__campaign_id__export_pdf_get",
        "deprecated": true,
        "parameters": [
          {
            "name": "campaign_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The campaign ID",
              "title": "Campaign Id"
            },
            "description": "The campaign ID"
          }
        ],
        "responses": {
          "200": {
            "description": "PDF export data returned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CampaignExportData"
                }
              }
            }
          },
          "404": {
            "description": "Campaign not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/campaigns/{campaign_id}/policy": {
      "post": {
        "tags": [
          "campaigns"
        ],
        "summary": "Create Scene Mix Policy",
        "description": "Create a scene mix policy for a campaign.\n\nCreates content mixing rules and policies for campaign content generation.",
        "operationId": "create_scene_mix_policy_api_v2_campaigns__campaign_id__policy_post",
        "parameters": [
          {
            "name": "campaign_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The campaign ID",
              "title": "Campaign Id"
            },
            "description": "The campaign ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SceneMixPolicyCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Policy created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SceneMixPolicyResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request data"
          },
          "500": {
            "description": "Server error"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "campaigns"
        ],
        "summary": "Get Scene Mix Policy",
        "description": "Get scene mix policy for a campaign.\n\nReturns the content mixing policy configuration for the specified campaign.",
        "operationId": "get_scene_mix_policy_api_v2_campaigns__campaign_id__policy_get",
        "parameters": [
          {
            "name": "campaign_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The campaign ID",
              "title": "Campaign Id"
            },
            "description": "The campaign ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Policy returned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SceneMixPolicyResponse"
                }
              }
            }
          },
          "404": {
            "description": "Policy not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/campaigns/{campaign_id}/plan": {
      "post": {
        "tags": [
          "campaigns"
        ],
        "summary": "Create Scene Mix Plan",
        "description": "Create a scene mix plan for a campaign.\n\nCreates a content generation plan with scheduling and content mix specifications.",
        "operationId": "create_scene_mix_plan_api_v2_campaigns__campaign_id__plan_post",
        "parameters": [
          {
            "name": "campaign_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The campaign ID",
              "title": "Campaign Id"
            },
            "description": "The campaign ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SceneMixPlanCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Plan created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SceneMixPlanResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request data"
          },
          "500": {
            "description": "Server error"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "campaigns"
        ],
        "summary": "Get Scene Mix Plan",
        "description": "Get scene mix plan for a campaign.\n\nReturns the content generation plan and schedule for the specified campaign.",
        "operationId": "get_scene_mix_plan_api_v2_campaigns__campaign_id__plan_get",
        "parameters": [
          {
            "name": "campaign_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The campaign ID",
              "title": "Campaign Id"
            },
            "description": "The campaign ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Plan returned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SceneMixPlanResponse"
                }
              }
            }
          },
          "404": {
            "description": "Plan not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "campaigns"
        ],
        "summary": "Update Scene Mix Plan",
        "description": "Update a scene mix plan for a campaign.\n\nUpdates an existing content generation plan. Increments the policy version\nwhen significant changes are made.",
        "operationId": "update_scene_mix_plan_api_v2_campaigns__campaign_id__plan_put",
        "parameters": [
          {
            "name": "campaign_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The campaign ID",
              "title": "Campaign Id"
            },
            "description": "The campaign ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SceneMixPlanUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Plan updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SceneMixPlanResponse"
                }
              }
            }
          },
          "404": {
            "description": "Plan not found"
          },
          "500": {
            "description": "Server error"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "campaigns"
        ],
        "summary": "Delete Scene Mix Plan",
        "description": "Delete a scene mix plan for a campaign.\n\nRemoves the content generation plan from the specified campaign.",
        "operationId": "delete_scene_mix_plan_api_v2_campaigns__campaign_id__plan_delete",
        "parameters": [
          {
            "name": "campaign_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The campaign ID",
              "title": "Campaign Id"
            },
            "description": "The campaign ID"
          }
        ],
        "responses": {
          "204": {
            "description": "Plan deleted successfully"
          },
          "404": {
            "description": "Plan not found"
          },
          "500": {
            "description": "Server error"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/campaigns/{campaign_id}/plan/preview": {
      "post": {
        "tags": [
          "campaigns"
        ],
        "summary": "Preview Scene Mix Plan",
        "description": "Preview a scene mix plan with diversity metrics.\n\nGenerates a preview of the content plan with diversity metrics without\npersisting to the database. Use this endpoint during planning to evaluate\ndifferent configurations before committing.\n\nReturns:\n    Policy preview with mix_goal, subtype_weights, rationale, and\n    diversity_metrics for the proposed plan configuration.",
        "operationId": "preview_scene_mix_plan_api_v2_campaigns__campaign_id__plan_preview_post",
        "parameters": [
          {
            "name": "campaign_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The campaign ID",
              "title": "Campaign Id"
            },
            "description": "The campaign ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SceneMixPlanPreviewRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Preview generated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SceneMixPlanPreviewResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request data"
          },
          "500": {
            "description": "Server error"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/plans": {
      "get": {
        "tags": [
          "campaigns"
        ],
        "summary": "Get All Plans",
        "description": "Get all scene mix plans.\n\nReturns a paginated list of all content generation plans across campaigns.",
        "operationId": "get_all_plans_api_v2_plans_get",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 1,
              "title": "Page"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 10,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Plans list returned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PlanListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/campaigns/{campaign_id}/diversity/metrics": {
      "get": {
        "tags": [
          "campaigns"
        ],
        "summary": "Get Diversity Metrics",
        "description": "Get diversity metrics for a campaign's generated content.\n\nCalculates diversity scores across multiple dimensions:\n- Scene type distribution (human, product, ingredient)\n- Subtype variety within scene types\n- Shot diversity (angles, backdrops, lens, lighting)\n\nAlso validates content against the campaign's scene mix policy.\n\nReturns:\n    DiversityMetricsResponse with overall score, breakdowns, and recommendations",
        "operationId": "get_diversity_metrics_api_v2_campaigns__campaign_id__diversity_metrics_get",
        "parameters": [
          {
            "name": "campaign_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The campaign ID",
              "title": "Campaign Id"
            },
            "description": "The campaign ID"
          },
          {
            "name": "threshold",
            "in": "query",
            "required": false,
            "schema": {
              "type": "number",
              "maximum": 1.0,
              "minimum": 0.0,
              "description": "Minimum diversity threshold (0-1)",
              "default": 0.7,
              "title": "Threshold"
            },
            "description": "Minimum diversity threshold (0-1)"
          }
        ],
        "responses": {
          "200": {
            "description": "Diversity metrics returned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DiversityMetricsResponse"
                }
              }
            }
          },
          "404": {
            "description": "Campaign not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/campaigns/{campaign_id}/diversity/validations": {
      "post": {
        "tags": [
          "campaigns"
        ],
        "summary": "Validate Content Diversity",
        "description": "Validate content diversity against policy and calculate scores.\n\nUse this endpoint to validate content diversity before generation\nor to analyze a specific set of content items.\n\nArgs:\n    campaign_id: Campaign ID\n    content_items: List of content items to analyze\n    threshold: Minimum diversity threshold\n\nReturns:\n    DiversityMetricsResponse with validation results and recommendations",
        "operationId": "validate_content_diversity_api_v2_campaigns__campaign_id__diversity_validations_post",
        "parameters": [
          {
            "name": "campaign_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The campaign ID",
              "title": "Campaign Id"
            },
            "description": "The campaign ID"
          },
          {
            "name": "threshold",
            "in": "query",
            "required": false,
            "schema": {
              "type": "number",
              "maximum": 1.0,
              "minimum": 0.0,
              "description": "Minimum diversity threshold (0-1)",
              "default": 0.7,
              "title": "Threshold"
            },
            "description": "Minimum diversity threshold (0-1)"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/ContentItemForScoring"
                },
                "description": "Content items to validate",
                "title": "Content Items"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Diversity validation completed",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DiversityMetricsResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid content data"
          },
          "404": {
            "description": "Campaign not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/content/{content_id}/captions": {
      "post": {
        "tags": [
          "captions"
        ],
        "summary": "Generate Caption",
        "description": "Generate captions for content.",
        "operationId": "generate_caption_api_v2_content__content_id__captions_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "content_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Content Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CaptionCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CaptionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "captions"
        ],
        "summary": "Get Captions",
        "description": "Get all captions for a content item.",
        "operationId": "get_captions_api_v2_content__content_id__captions_get",
        "parameters": [
          {
            "name": "content_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Content Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/CaptionResponse"
                  },
                  "title": "Response Get Captions Api V2 Content  Content Id  Captions Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/content/{content_id}/captions/{caption_id}/versions": {
      "post": {
        "tags": [
          "captions"
        ],
        "summary": "Create Caption Version",
        "description": "**DEPRECATED**: Use POST /posts/{post_id}/versions with target='text' instead. This endpoint will be removed on 2025-03-31. See https://docs.matchpointai.com/api/post-versioning for migration guide.",
        "operationId": "create_caption_version",
        "deprecated": true,
        "parameters": [
          {
            "name": "content_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Content Id"
            }
          },
          {
            "name": "caption_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Caption Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CaptionRegenerateRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CaptionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/content/{content_id}/captions/{caption_id}": {
      "delete": {
        "tags": [
          "captions"
        ],
        "summary": "Delete Caption",
        "description": "Delete a specific caption.",
        "operationId": "delete_caption_api_v2_content__content_id__captions__caption_id__delete",
        "parameters": [
          {
            "name": "content_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Content Id"
            }
          },
          {
            "name": "caption_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Caption Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/content/{content_id}/approvals": {
      "post": {
        "tags": [
          "content-approval"
        ],
        "summary": "Approve Content",
        "description": "Approve or unapprove content for a specific day.\n\nThis endpoint allows users to approve/reject content for a specific day.\nUpdates approval status in database and manages approval counters.\nDirect port from V1 tag v0.2.46.\n\nArgs:\n    firebase_user: Authenticated Firebase user (injected by auth dependency)\n    content_id: ID of the content to approve\n    request: Approval request with week, day, and post data\n    content_approval_service: Injected service\n\nReturns:\n    Updated day data with approval status\n\nRaises:\n    HTTPException: 404 if content not found, 400 if request invalid",
        "operationId": "approve_content_api_v2_content__content_id__approvals_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "content_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "description": "ID of the content to approve",
              "title": "Content Id"
            },
            "description": "ID of the content to approve"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ContentApprovalRequest",
                "description": "Approval request"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContentApprovalResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/campaigns/{campaign_id}/content/approvals": {
      "post": {
        "tags": [
          "content-approval"
        ],
        "summary": "Create bulk content approvals",
        "description": "Bulk approve all content for a campaign. Creates approval records for multiple content items atomically.",
        "operationId": "create_content_approvals_api_v2_campaigns__campaign_id__content_approvals_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "campaign_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "description": "Campaign ID",
              "title": "Campaign Id"
            },
            "description": "Campaign ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BulkContentApprovalRequest",
                "description": "Bulk approval request"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Bulk approval completed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BulkContentApprovalResponse"
                }
              }
            }
          },
          "404": {
            "description": "Campaign or content not found"
          },
          "400": {
            "description": "Invalid request data"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/campaigns/{campaign_id}/content/approve-all": {
      "post": {
        "tags": [
          "content-approval"
        ],
        "summary": "[DEPRECATED] Bulk approve campaign content",
        "description": "DEPRECATED: Use POST /campaigns/{id}/content-approvals instead. This endpoint will be removed in a future version.",
        "operationId": "bulk_approve_campaign_content_api_v2_campaigns__campaign_id__content_approve_all_post",
        "deprecated": true,
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "campaign_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "description": "Campaign ID",
              "title": "Campaign Id"
            },
            "description": "Campaign ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BulkContentApprovalRequest",
                "description": "Bulk approval request"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Bulk approval completed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BulkContentApprovalResponse"
                }
              }
            }
          },
          "404": {
            "description": "Campaign or content not found"
          },
          "400": {
            "description": "Invalid request data"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/content/{content_id}": {
      "patch": {
        "tags": [
          "content"
        ],
        "summary": "Update Content",
        "description": "Update content fields (e.g., approval status).\n\nThis is the RMM Level 2 compliant endpoint for content updates\nincluding approval. Instead of POST /content/{id}/approve, we use\nPATCH /content/{id} with approved=true.\n\nExample: To approve content, send PATCH with {\"approved\": 1}",
        "operationId": "update_content_api_v2_content__content_id__patch",
        "parameters": [
          {
            "name": "content_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Content Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ContentUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContentResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/campaigns/{campaign_id}/content": {
      "get": {
        "tags": [
          "content"
        ],
        "summary": "Get Campaign Content",
        "description": "Get content for a campaign.\n\nThis is the RMM Level 2 compliant endpoint for retrieving campaign content.\nReturns the full content structure with weeks, days, and posts.\n\nIssue #1257: Self-healing retry logic\nOn every GET request, checks for stuck image generation tasks and\nautomatically retries them in the background.\n\nStatus codes:\n- 200: Content exists and is returned\n- 204: Campaign exists but content not generated yet (poll again)\n- 404: Campaign does not exist",
        "operationId": "get_campaign_content_api_v2_campaigns__campaign_id__content_get",
        "parameters": [
          {
            "name": "campaign_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Campaign Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Content found and returned",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GeneratedContent"
                }
              }
            }
          },
          "204": {
            "description": "Campaign exists but content not ready yet"
          },
          "404": {
            "description": "Campaign not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/content/{content_id}/status": {
      "patch": {
        "tags": [
          "content"
        ],
        "summary": "Update Content Status",
        "description": "Update content approval status.\n\nRMM L2 Compliance: Status is a field on the content resource (not /approve action).\nThis replaces the V1 POST /api/v1/contentgen/approve endpoint.\n\nArgs:\n    firebase_user: Authenticated Firebase user (injected by auth dependency)\n    content_id: UUID of the content to update\n    status_update: New status and optional metadata\n    content_status_service: Injected status service\n\nReturns:\n    ContentStatusResponse with updated status and metadata\n\nRaises:\n    HTTPException: 400 for invalid transition, 404 if content not found",
        "operationId": "update_content_status_api_v2_content__content_id__status_patch",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "content_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Content ID",
              "title": "Content Id"
            },
            "description": "Content ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ContentStatusUpdate",
                "description": "Status update request"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContentStatusResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/content/{content_id}/exports": {
      "post": {
        "tags": [
          "content-exports"
        ],
        "summary": "Create Content Export",
        "description": "Create export tracking record for content.\n\nRMM L2: Creates an export resource (not RPC-style \"track-export\" action).\nThis endpoint replaces V1's POST /contentgen/track-export.\n\nArgs:\n    content_id: UUID of the content being exported\n    export_data: Export tracking data (platform, timestamp, metadata)\n\nReturns:\n    Created export record with ID and timestamps\n\nRaises:\n    404: Content not found\n    422: Invalid export data",
        "operationId": "create_content_export_api_v2_content__content_id__exports_post",
        "parameters": [
          {
            "name": "content_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Content Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ContentExportCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContentExportResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "content-exports"
        ],
        "summary": "List Content Exports",
        "description": "List all export records for a content item.\n\nRMM L2: Retrieves export resources for a content item.\nReturns list ordered by exported_at descending (most recent first).\n\nArgs:\n    content_id: UUID of the content\n\nReturns:\n    List of export records with total count\n\nRaises:\n    404: Content not found\n    422: Invalid content_id format",
        "operationId": "list_content_exports_api_v2_content__content_id__exports_get",
        "parameters": [
          {
            "name": "content_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Content Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContentExportListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/outputs/{pair_id}/feedback": {
      "post": {
        "tags": [
          "feedback"
        ],
        "summary": "Submit feedback for content",
        "description": "Submit user feedback (thumbs up/down, tags, ratings, comments) for a specific content/post pair. Feeds online learning system.",
        "operationId": "submit_feedback_api_v2_outputs__pair_id__feedback_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "pair_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Content/Post ID to provide feedback for",
              "title": "Pair Id"
            },
            "description": "Content/Post ID to provide feedback for"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ContentFeedbackCreate",
                "description": "Feedback submission data"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContentFeedbackResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "feedback"
        ],
        "summary": "Get feedback for content",
        "description": "Retrieve all feedback submissions for a specific content/post pair.",
        "operationId": "get_feedback_for_pair_api_v2_outputs__pair_id__feedback_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "pair_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Content/Post ID to get feedback for",
              "title": "Pair Id"
            },
            "description": "Content/Post ID to get feedback for"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ContentFeedbackResponse"
                  },
                  "title": "Response Get Feedback For Pair Api V2 Outputs  Pair Id  Feedback Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/feedback/aggregates": {
      "get": {
        "tags": [
          "feedback"
        ],
        "summary": "Get feedback aggregates",
        "description": "Get aggregated feedback statistics for a campaign including thumbs up/down counts, average ratings, tag distribution, and accuracy metrics.",
        "operationId": "get_feedback_aggregates_api_v2_feedback_aggregates_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "campaignId",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Campaign ID to get aggregates for",
              "title": "Campaignid"
            },
            "description": "Campaign ID to get aggregates for"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContentFeedbackAggregates"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/feedback/batch/collect": {
      "post": {
        "tags": [
          "feedback"
        ],
        "summary": "Submit batch feedback",
        "description": "Submit multiple feedback items in a single request for bulk processing.",
        "operationId": "submit_batch_feedback_api_v2_feedback_batch_collect_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ContentFeedbackBatchCreate",
                "description": "Batch of feedback items to submit"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BatchFeedbackResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v2/content/{content_id}/images": {
      "post": {
        "tags": [
          "content-images"
        ],
        "summary": "Upload Content Image",
        "description": "Upload/associate an image with content.\n\nRMM L2: Resource creation via POST with 201 status and Location header.\n\nArgs:\n    content_id: Content ID (path parameter)\n    request: Image upload request with URL and optional caption\n    response: FastAPI response object for headers\n    service: Injected content image service\n\nReturns:\n    Created content image response\n\nRaises:\n    HTTPException: 422 if validation fails",
        "operationId": "upload_content_image_api_v2_content__content_id__images_post",
        "parameters": [
          {
            "name": "content_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Content Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ContentImageUploadRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContentImageResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/content/{content_id}/images/generations": {
      "post": {
        "tags": [
          "content-images"
        ],
        "summary": "Generate Content Image",
        "description": "**DEPRECATED**: Use POST /posts/{post_id}/versions with target='media' instead. This endpoint will be removed on 2025-03-31. See https://docs.matchpointai.com/api/post-versioning for migration guide.",
        "operationId": "generate_content_image_api_v2_content__content_id__images_generations_post",
        "deprecated": true,
        "parameters": [
          {
            "name": "content_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Content Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ContentImageGenerateRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContentImageResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/content/{content_id}/images/{image_id}": {
      "patch": {
        "tags": [
          "content-images"
        ],
        "summary": "Update Image Prompt",
        "description": "Update the prompt for an existing image (does not regenerate).\n\nRMM L2: PATCH for partial resource update.\n\nThis endpoint allows updating the image prompt without triggering\nregeneration. Use POST /images/{image_id}/regenerations to regenerate.\n\nArgs:\n    content_id: Content ID (path parameter, for URL consistency)\n    image_id: Image ID to update\n    request: Image update request with new prompt\n    service: Injected content image service\n\nReturns:\n    Updated content image response\n\nRaises:\n    HTTPException: 404 if image not found\n    HTTPException: 422 if validation fails",
        "operationId": "update_image_prompt_api_v2_content__content_id__images__image_id__patch",
        "parameters": [
          {
            "name": "content_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Content Id"
            }
          },
          {
            "name": "image_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Image Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ContentImageUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContentImageResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/content/{content_id}/images/{image_id}/regenerations": {
      "post": {
        "tags": [
          "content-images"
        ],
        "summary": "Regenerate Image",
        "description": "Regenerate an existing image with optional custom prompt.\n\nRMM L2: Resource creation via POST with 201 status and Location header.\nThe endpoint uses '/regenerations' (noun) to comply with RMM L2.\n\nThis endpoint triggers image regeneration using either:\n- The existing prompt (if custom_prompt not provided)\n- A new custom prompt (which also updates the stored prompt)\n\nArgs:\n    content_id: Content ID (path parameter)\n    image_id: Image ID to regenerate\n    request: Regeneration request with optional custom prompt\n    response: FastAPI response object for headers\n    service: Injected content image service\n\nReturns:\n    Regenerated content image response\n\nRaises:\n    HTTPException: 404 if image not found\n    HTTPException: 400 if generation limit exceeded or no prompt available\n    HTTPException: 500 if regeneration fails",
        "operationId": "regenerate_image_api_v2_content__content_id__images__image_id__regenerations_post",
        "parameters": [
          {
            "name": "content_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Content Id"
            }
          },
          {
            "name": "image_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Image Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ContentImageRegenerateRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContentImageResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/content/{content_id}/prompt": {
      "get": {
        "tags": [
          "content-prompts"
        ],
        "summary": "Get Content Prompt",
        "description": "Get image prompt data for a content item.\n\nThis endpoint retrieves image_prompt data from content.\nUsed by frontend to display/edit image generation prompts.\n\nCan filter by week/day/post_id to get specific prompt.\n\nArgs:\n    content_id: Content ID (string, converted to int internally)\n    week: Optional week number filter\n    day: Optional day number filter\n    post_id: Optional post ID filter\n    content_service: Injected content service\n\nReturns:\n    ContentPromptResponse with image_prompt data\n\nRaises:\n    HTTPException: 404 if content not found",
        "operationId": "get_content_prompt_api_v2_content__content_id__prompt_get",
        "parameters": [
          {
            "name": "content_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Content ID",
              "title": "Content Id"
            },
            "description": "Content ID"
          },
          {
            "name": "week",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Week number filter",
              "title": "Week"
            },
            "description": "Week number filter"
          },
          {
            "name": "day",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Day number filter",
              "title": "Day"
            },
            "description": "Day number filter"
          },
          {
            "name": "post_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Post ID filter",
              "title": "Post Id"
            },
            "description": "Post ID filter"
          }
        ],
        "responses": {
          "200": {
            "description": "Prompt data retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContentPromptResponse"
                }
              }
            }
          },
          "404": {
            "description": "Content not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "content-prompts"
        ],
        "summary": "Update Content Prompt",
        "description": "Update image prompt for a content item.\n\nThis endpoint updates image_prompt data in content.\nUsed by frontend to edit image generation prompts.\n\nArgs:\n    content_id: Content ID\n    request: Prompt update request with new image_prompt\n    content_service: Injected content service\n\nReturns:\n    ContentPromptResponse with updated prompt data\n\nRaises:\n    HTTPException: 404 if content not found",
        "operationId": "update_content_prompt_api_v2_content__content_id__prompt_put",
        "parameters": [
          {
            "name": "content_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Content ID",
              "title": "Content Id"
            },
            "description": "Content ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ContentPromptUpdate",
                "description": "Prompt update data"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Prompt updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContentPromptResponse"
                }
              }
            }
          },
          "404": {
            "description": "Content not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/content/{content_id}/text/versions": {
      "post": {
        "tags": [
          "content-text-versions"
        ],
        "summary": "Update Text Versions",
        "description": "Update text versions for a specific post.\n\nRMM L2: Uses POST for action that updates text, text_versions,\nand selected_image_index fields in content_data.\n\nThis endpoint allows the frontend to:\n- Edit post text after generation\n- Maintain text version history\n- Select which image to display\n\nArgs:\n    content_id: Content ID (path parameter)\n    request: Text versions update request\n    service: Injected text versions service\n\nReturns:\n    UpdateTextVersionsResponse with success status\n\nRaises:\n    HTTPException: 404 if content not found\n    HTTPException: 422 if validation fails",
        "operationId": "update_text_versions_api_v2_content__content_id__text_versions_post",
        "parameters": [
          {
            "name": "content_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Content Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateTextVersionsRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UpdateTextVersionsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/content/{content_id}/versions": {
      "post": {
        "tags": [
          "content-versions"
        ],
        "summary": "Create Content Version",
        "description": "**DEPRECATED**: Use POST /posts/{post_id}/versions with target='all' instead. This endpoint will be removed on 2025-03-31. See https://docs.matchpointai.com/api/post-versioning for migration guide.",
        "operationId": "create_content_version_api_v2_content__content_id__versions_post",
        "deprecated": true,
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "content_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Content Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ContentVersionCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContentVersionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/campaigns/{campaign_id}/content/workflows": {
      "post": {
        "tags": [
          "content-workflows"
        ],
        "summary": "Start Campaign Content Workflow",
        "description": "Start a content generation workflow for a campaign.\n\nThis endpoint publishes a content generation request to Pub/Sub,\ntriggering the content-generator service asynchronously.\nThe workflow runs in the background, orchestrating:\n1. Campaign plan generation (scene mix)\n2. Text content generation using LLM\n3. Image generation using AI\n\nIssue #1297: Migrated from GCP Workflows to Pub/Sub-based content-generator.\nThe message_id from Pub/Sub is used as the workflow_id for tracking.\n\nRMM Level 2 Compliance:\n- POST creates a workflow resource (not an RPC \"generate\" action)\n- Returns 202 Accepted (async processing)\n- Provides workflow_id for status polling",
        "operationId": "start_campaign_content_workflow_api_v2_campaigns__campaign_id__content_workflows_post",
        "parameters": [
          {
            "name": "campaign_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Campaign Id"
            }
          }
        ],
        "responses": {
          "202": {
            "description": "Workflow started successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CampaignWorkflowResponse"
                }
              }
            }
          },
          "404": {
            "description": "Campaign not found"
          },
          "500": {
            "description": "Failed to start workflow"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/crawls": {
      "get": {
        "tags": [
          "crawl-analytics"
        ],
        "summary": "Get Crawl Stats",
        "description": "Get crawl statistics with flexible query parameters.\n\nThis unified endpoint replaces the individual report-style endpoints\nfor RMM L2 compliance. Use the 'view' parameter to select the type\nof statistics to retrieve.\n\nArgs:\n    view: Type of statistics view (overview, trends, errors, brands)\n    days: Number of days to analyze (1-365, default: 30)\n    limit: Maximum results for errors (1-100) or brands (1-200)\n    interval: Aggregation interval for trends (\"day\" or \"hour\")\n    analytics_service: Injected analytics service\n\nReturns:\n    Statistics based on the selected view type",
        "operationId": "get_crawl_stats_api_v2_crawls_get",
        "parameters": [
          {
            "name": "view",
            "in": "query",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/CrawlStatsView",
              "description": "View type: overview, trends, errors, or brands"
            },
            "description": "View type: overview, trends, errors, or brands"
          },
          {
            "name": "days",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 365,
              "minimum": 1,
              "default": 30,
              "title": "Days"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer",
                  "maximum": 200,
                  "minimum": 1
                },
                {
                  "type": "null"
                }
              ],
              "description": "Max results (errors/brands)",
              "title": "Limit"
            },
            "description": "Max results (errors/brands)"
          },
          {
            "name": "interval",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "pattern": "^(day|hour)$"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Interval for trends view",
              "title": "Interval"
            },
            "description": "Interval for trends view"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "anyOf": [
                    {
                      "$ref": "#/components/schemas/CrawlStatsOverview"
                    },
                    {
                      "$ref": "#/components/schemas/CrawlStatsTrends"
                    },
                    {
                      "$ref": "#/components/schemas/CrawlStatsErrors"
                    },
                    {
                      "$ref": "#/components/schemas/CrawlStatsBrands"
                    }
                  ],
                  "title": "Response Get Crawl Stats Api V2 Crawls Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/crawls/overview": {
      "get": {
        "tags": [
          "crawl-analytics"
        ],
        "summary": "Get Crawl Overview",
        "description": "Get overview statistics for crawl monitoring.\n\nDEPRECATED: Use GET /crawls?view=overview instead.\n\nProvides key metrics like total brands crawled, average success rate,\naverage crawl time, and total pages crawled in the specified period.\n\nArgs:\n    response: FastAPI response for adding deprecation headers\n    days: Number of days to analyze (1-365, default: 30)\n    analytics_service: Injected analytics service\n\nReturns:\n    Overview statistics for crawl operations",
        "operationId": "get_crawl_overview_api_v2_crawls_overview_get",
        "deprecated": true,
        "parameters": [
          {
            "name": "days",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 365,
              "minimum": 1,
              "default": 30,
              "title": "Days"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CrawlStatsOverview"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/crawls/trends": {
      "get": {
        "tags": [
          "crawl-analytics"
        ],
        "summary": "Get Crawl Trends",
        "description": "Get time series trends for crawl performance.\n\nDEPRECATED: Use GET /crawls?view=trends instead.\n\nProvides daily or hourly aggregated data showing completed vs failed\ncrawls over time with success rate calculations.\n\nArgs:\n    response: FastAPI response for adding deprecation headers\n    days: Number of days to analyze (1-365, default: 30)\n    interval: Aggregation interval - \"day\" or \"hour\" (default: \"day\")\n    analytics_service: Injected analytics service\n\nReturns:\n    Time series trends data",
        "operationId": "get_crawl_trends_api_v2_crawls_trends_get",
        "deprecated": true,
        "parameters": [
          {
            "name": "days",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 365,
              "minimum": 1,
              "default": 30,
              "title": "Days"
            }
          },
          {
            "name": "interval",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "pattern": "^(day|hour)$",
              "default": "day",
              "title": "Interval"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CrawlStatsTrends"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/crawls/errors": {
      "get": {
        "tags": [
          "crawl-analytics"
        ],
        "summary": "Get Crawl Errors",
        "description": "Get error analysis for crawl failures.\n\nDEPRECATED: Use GET /crawls?view=errors instead.\n\nProvides breakdown of most common error types, counts, and last\noccurrences to help identify and fix crawl issues.\n\nArgs:\n    response: FastAPI response for adding deprecation headers\n    days: Number of days to analyze (1-365, default: 30)\n    limit: Maximum number of error types to return (1-100, default: 10)\n    analytics_service: Injected analytics service\n\nReturns:\n    Error analysis with top error types",
        "operationId": "get_crawl_errors_api_v2_crawls_errors_get",
        "deprecated": true,
        "parameters": [
          {
            "name": "days",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 365,
              "minimum": 1,
              "default": 30,
              "title": "Days"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 10,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CrawlStatsErrors"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/crawls/brands": {
      "get": {
        "tags": [
          "crawl-analytics"
        ],
        "summary": "Get Brand Crawl Stats",
        "description": "Get brand-level crawl performance statistics.\n\nDEPRECATED: Use GET /crawls?view=brands instead.\n\nProvides performance metrics for each brand including total pages,\nsuccess rates, and last crawl timestamps.\n\nArgs:\n    response: FastAPI response for adding deprecation headers\n    days: Number of days to analyze (1-365, default: 30)\n    limit: Maximum number of brands to return (1-200, default: 50)\n    analytics_service: Injected analytics service\n\nReturns:\n    Brand-level performance statistics",
        "operationId": "get_brand_crawl_stats_api_v2_crawls_brands_get",
        "deprecated": true,
        "parameters": [
          {
            "name": "days",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 365,
              "minimum": 1,
              "default": 30,
              "title": "Days"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 200,
              "minimum": 1,
              "default": 50,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CrawlStatsBrands"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/health": {
      "get": {
        "tags": [
          "health"
        ],
        "summary": "Health Check",
        "description": "Health check endpoint with database write verification.\n\nPerforms comprehensive database health check:\n1. Writes a test record to verify DB accepts writes\n2. Reads it back to verify data persistence\n3. Deletes it to clean up\n\nReturns:\n    200 OK with {\"status\": \"healthy\", \"database\": {...}} if all checks pass\n    503 Service Unavailable with error details if any check fails",
        "operationId": "health_check_api_v2_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/v2/integrations/redirects": {
      "post": {
        "tags": [
          "integrations"
        ],
        "summary": "Get Integration Redirects",
        "description": "Get OAuth redirect URI for platform integration.\n\nThis is the RMM-2 compliant endpoint that replaces /integrations/redirect-uri.\nUses single-word resource name 'redirects' instead of hyphenated 'redirect-uri'.",
        "operationId": "get_integration_redirects_api_v2_integrations_redirects_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/IntegrationRedirectRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IntegrationRedirectResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/integrations/redirect-uri": {
      "post": {
        "tags": [
          "integrations"
        ],
        "summary": "Get Integration Redirect Uri",
        "description": "Get OAuth redirect URI for platform integration.\n\nDEPRECATED: This endpoint uses a hyphenated resource name which violates RMM-2.\nUse /integrations/redirects instead. This endpoint will be removed in 6 months.\n\nDeprecation date: 2025-10-21\nRemoval date: 2026-04-21\nReplacement: POST /api/v2/integrations/redirects",
        "operationId": "get_integration_redirect_uri_api_v2_integrations_redirect_uri_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/IntegrationRedirectRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IntegrationRedirectResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "deprecated": true
      }
    },
    "/api/v2/integrations": {
      "get": {
        "tags": [
          "integrations"
        ],
        "summary": "Get Integrations",
        "description": "Get all configured integrations for the authenticated user.\n\nArgs:\n    firebase_user: Authenticated Firebase user (injected by auth dependency)\n    integration_repo: Injected integration repository\n\nReturns:\n    List of integrations with total count\n\nRaises:\n    HTTPException: 401 if authentication fails\n    HTTPException: 500 if database query fails",
        "operationId": "get_integrations_api_v2_integrations_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IntegrationsListResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v2/integrations/{platform}/sessions": {
      "post": {
        "tags": [
          "integrations"
        ],
        "summary": "Create Integration Session",
        "description": "Create a new integration session with a platform.\n\nRMM Level 2 Compliant Pattern:\n- POST creates a new session resource\n- Resource-oriented URL: /integrations/{platform}/sessions\n- Uses noun-based resource name (no verbs in path)\n- Returns 201 Created with the new session/integration\n\nArgs:\n    platform: Platform name (instagram, facebook, linkedin, twitter)\n    request: Integration authentication request with tokens/code\n    firebase_user: Authenticated Firebase user (injected by auth dependency)\n    integration_repo: Injected integration repository\n\nReturns:\n    Created integration with ID\n\nRaises:\n    HTTPException: 400 if integration already exists or validation fails\n    HTTPException: 401 if authentication fails\n    HTTPException: 500 if database operation fails",
        "operationId": "create_integration_session_api_v2_integrations__platform__sessions_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "platform",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Platform"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/IntegrationAuthRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IntegrationResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/integrations/{platform}/auth": {
      "post": {
        "tags": [
          "integrations"
        ],
        "summary": "Authenticate Integration",
        "description": "Authenticate with a platform and store integration.\n\nDEPRECATED: This endpoint uses a verb in the path which violates RMM Level 2.\nUse POST /integrations/{platform}/sessions instead.\nThis endpoint will be removed in 6 months.\n\nDeprecation date: 2025-12-29\nRemoval date: 2026-06-29\nReplacement: POST /api/v2/integrations/{platform}/sessions\n\nArgs:\n    platform: Platform name (instagram, facebook, linkedin, twitter)\n    request: Integration authentication request with tokens/code\n    response: FastAPI Response object for adding headers\n    firebase_user: Authenticated Firebase user (injected by auth dependency)\n    integration_repo: Injected integration repository\n\nReturns:\n    Created integration with ID\n\nRaises:\n    HTTPException: 400 if integration already exists or validation fails\n    HTTPException: 401 if authentication fails\n    HTTPException: 500 if database operation fails",
        "operationId": "authenticate_integration_api_v2_integrations__platform__auth_post",
        "deprecated": true,
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "platform",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Platform"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/IntegrationAuthRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IntegrationResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/integrations/{platform}": {
      "delete": {
        "tags": [
          "integrations"
        ],
        "summary": "Disconnect Integration",
        "description": "Disconnect a platform integration.\n\nArgs:\n    platform: Platform name (instagram, facebook, linkedin, twitter)\n    firebase_user: Authenticated Firebase user (injected by auth dependency)\n    integration_repo: Injected integration repository\n\nReturns:\n    None (204 No Content)\n\nRaises:\n    HTTPException: 401 if authentication fails\n    HTTPException: 404 if integration not found\n    HTTPException: 500 if database operation fails",
        "operationId": "disconnect_integration_api_v2_integrations__platform__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "platform",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Platform"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/integrations/instagram/oauth": {
      "post": {
        "tags": [
          "integrations"
        ],
        "summary": "Instagram Oauth",
        "description": "Exchange Instagram OAuth authorization code for access token.\n\nThis endpoint handles the Instagram OAuth callback by:\n1. Exchanging the authorization code for a short-lived token\n2. Exchanging the short-lived token for a long-lived token (60 days)\n3. Fetching user profile information\n4. Storing the integration in the database\n\nRMM Level 2 Compliance:\n- POST to /integrations/instagram/oauth creates a new OAuth integration\n- HTTP verb (POST) indicates resource creation\n- Returns 201 Created on success\n\nArgs:\n    firebase_user: Authenticated Firebase user (injected by auth dependency)\n    request: Instagram OAuth request with authorization code and redirect URI\n    instagram_oauth_service: Injected Instagram OAuth service\n\nReturns:\n    Instagram OAuth response with access token and user info\n\nRaises:\n    HTTPException: 400 if OAuth exchange fails (invalid code, etc.)\n    HTTPException: 500 if server error occurs",
        "operationId": "instagram_oauth_api_v2_integrations_instagram_oauth_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/InstagramOAuthRequest",
                "description": "Instagram OAuth request"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InstagramOAuthResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v2/metrics": {
      "get": {
        "tags": [
          "metrics"
        ],
        "summary": "Prometheus Metrics",
        "description": "Returns Prometheus-compatible metrics for monitoring.",
        "operationId": "get_metrics_api_v2_metrics_get",
        "responses": {
          "200": {
            "description": "Prometheus metrics in text format",
            "content": {
              "text/plain": {}
            }
          }
        }
      }
    },
    "/api/v2/posts/{post_id}/versions": {
      "post": {
        "tags": [
          "post-versions"
        ],
        "summary": "Create a new version of a post",
        "description": "Create a new version of a post by regenerating text, media, or both.\n\n        Returns 202 Accepted immediately. Use the status_url to poll for completion.\n\n        **Targets:**\n        - `text`: Regenerate caption/text only\n        - `media`: Regenerate specific media item (requires media_id)\n        - `all`: Regenerate both text and media",
        "operationId": "create_post_version",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "post_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Post Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateVersionRequest"
              }
            }
          }
        },
        "responses": {
          "202": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CreateVersionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "post-versions"
        ],
        "summary": "Get version history for a post",
        "description": "Returns complete version history with lineage information.",
        "operationId": "get_post_versions",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "post_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Post Id"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Max versions to return",
              "default": 50,
              "title": "Limit"
            },
            "description": "Max versions to return"
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "description": "Offset for pagination",
              "default": 0,
              "title": "Offset"
            },
            "description": "Offset for pagination"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VersionHistoryResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/versions/{request_id}/status": {
      "get": {
        "tags": [
          "post-versions"
        ],
        "summary": "Get status of version creation request",
        "description": "Poll status of async version creation.",
        "operationId": "get_version_status",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "request_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Request Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VersionStatusResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/prompts": {
      "get": {
        "tags": [
          "prompts"
        ],
        "summary": "List Prompts",
        "description": "List application prompts with optional category filtering.\n\nBusiness Context:\nReturns system-level AI prompts used for content generation.\nFiltering by category helps frontend fetch only relevant prompts.\n\nPerformance:\n- Response time: <10ms (in-memory cache)\n- Cache-Control header set for client-side caching\n- No database calls required\n\nRMM Level 2:\n- HTTP GET for resource retrieval\n- Query parameter for filtering (not in URL path)\n- Returns 200 OK with list of prompts\n\nArgs:\n    response: FastAPI response object for setting headers\n    category: Optional category filter (brand, content, campaign)\n    prompts_service: Injected prompts service\n\nReturns:\n    PromptsListResponse containing matching prompts\n\nExample:\n    GET /api/v2/prompts\n    GET /api/v2/prompts?category=brand\n\nResponse:\n    {\n      \"prompts\": [\n        {\n          \"id\": \"brand_summary_v1\",\n          \"category\": \"brand\",\n          \"template\": \"Create a summary for {brand_name}...\",\n          \"variables\": [\"brand_name\"],\n          \"version\": \"1.0.0\",\n          \"description\": \"Brand summary generation\"\n        }\n      ],\n      \"total\": 1\n    }",
        "operationId": "list_prompts_api_v2_prompts_get",
        "parameters": [
          {
            "name": "category",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter prompts by category (e.g., 'brand', 'content', 'campaign')",
              "title": "Category"
            },
            "description": "Filter prompts by category (e.g., 'brand', 'content', 'campaign')",
            "example": "brand"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PromptsListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "prompts"
        ],
        "summary": "Create Prompt",
        "description": "Create a new prompt.\n\nBusiness Context:\nCreates a new AI prompt template that can be used for content generation.\nThe prompt ID must be unique across all prompts.\n\nRMM Level 2:\n- HTTP POST for resource creation\n- POST to collection endpoint (/prompts)\n- Returns 201 Created with new resource\n- Location header would point to new resource (best practice)\n\nArgs:\n    request: Prompt creation data\n    prompts_service: Injected prompts service\n\nReturns:\n    Created prompt with all fields\n\nRaises:\n    HTTPException: 409 if prompt ID already exists\n    HTTPException: 400 if validation fails\n\nExample:\n    POST /api/v2/prompts\n    {\n      \"id\": \"content_variation_v1\",\n      \"category\": \"content\",\n      \"template\": \"Generate variations...\",\n      \"variables\": [\"brand_name\"],\n      \"version\": \"1.0.0\",\n      \"description\": \"Content variation generator\"\n    }",
        "operationId": "create_prompt_api_v2_prompts_post",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PromptCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Prompt created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PromptResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request data"
          },
          "409": {
            "description": "Prompt with this ID already exists"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/signups": {
      "post": {
        "tags": [
          "signups"
        ],
        "summary": "Create Signup",
        "description": "Create a new beta signup from landing page form.\n\nThis endpoint captures beta signup submissions from the landing page\nContact form. No authentication is required as this is a public endpoint\nfor prospective users.\n\nArgs:\n    request: Signup data including name, email, and industry\n\nReturns:\n    SignupResponse with created signup data and ID\n\nRaises:\n    HTTPException 400: If email already exists or data is invalid\n    HTTPException 500: If signup creation fails due to server error",
        "operationId": "create_signup_api_v2_signups_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SignupCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Signup created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SignupResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request data or email already exists"
          },
          "500": {
            "description": "Internal server error"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/threads/{thread_id}/messages": {
      "post": {
        "tags": [
          "threads"
        ],
        "summary": "Create Message",
        "description": "Add a message to a thread.\n\nCreates a new message in the conversation thread.\nAutomatically updates the thread's updated_at timestamp.\n\nSecurity:\n- Requires Firebase authentication\n- User ID extracted from authenticated token\n- Users can only add messages to their own threads",
        "operationId": "create_message_api_v2_threads__thread_id__messages_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "thread_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The thread ID",
              "title": "Thread Id"
            },
            "description": "The thread ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ThreadMessageCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Message created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ThreadMessageResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request data"
          },
          "401": {
            "description": "Authentication required"
          },
          "404": {
            "description": "Thread not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "threads"
        ],
        "summary": "Get Messages",
        "description": "Get messages for a thread.\n\nReturns messages in chronological order (oldest first).\nSupports pagination for long conversations.\n\nSecurity:\n- Requires Firebase authentication\n- User ID extracted from authenticated token\n- Users can only see messages from their own threads",
        "operationId": "get_messages_api_v2_threads__thread_id__messages_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "thread_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The thread ID",
              "title": "Thread Id"
            },
            "description": "The thread ID"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 200,
              "minimum": 1,
              "description": "Maximum number of messages",
              "default": 50,
              "title": "Limit"
            },
            "description": "Maximum number of messages"
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "description": "Number of messages to skip",
              "default": 0,
              "title": "Offset"
            },
            "description": "Number of messages to skip"
          }
        ],
        "responses": {
          "200": {
            "description": "List of messages returned",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ThreadMessageResponse"
                  },
                  "title": "Response Get Messages Api V2 Threads  Thread Id  Messages Get"
                }
              }
            }
          },
          "401": {
            "description": "Authentication required"
          },
          "404": {
            "description": "Thread not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/url/content/fetches": {
      "post": {
        "tags": [
          "url-content-fetches"
        ],
        "summary": "Create a URL content fetch",
        "description": "Create a URL content fetch operation to extract text content, metadata, and optionally images from a URL. This is the RMM Level 2 compliant replacement for /utilities/fetch-url-content.",
        "operationId": "create_url_content_fetch_api_v2_url_content_fetches_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/URLContentRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/URLContentResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/users": {
      "post": {
        "tags": [
          "users"
        ],
        "summary": "Register Native User",
        "description": "Register a new user with native email/password authentication.\n\nCreates a new user account with native authentication (password stored\nsecurely with bcrypt) and sends an email verification link via SendGrid.\n\nThe user must verify their email before they can log in.\n\nRMM Level 2 Compliance:\n- POST to /users collection creates new user resource\n- HTTP verb (POST) indicates create action\n- No verbs in URL path\n- Returns 201 Created with user resource\n\nArgs:\n    request: User registration data including email, password (min 8 chars), and name\n\nReturns:\n    UserRegistrationResponse with user data and email verification status\n\nRaises:\n    HTTPException 400: If email already exists or data is invalid\n    HTTPException 500: If registration fails due to server error",
        "operationId": "register_native_user_api_v2_users_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NativeUserCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "User registered successfully, email verification sent",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserRegistrationResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request data or email already exists"
          },
          "500": {
            "description": "Internal server error during registration"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/verifications": {
      "post": {
        "tags": [
          "users"
        ],
        "summary": "Verify Email",
        "description": "Verify user email with verification token.\n\nVerifies the user's email address using the token sent during registration.\nAfter successful verification, the user can log in.\n\nRMM Level 2 Compliance:\n- POST to /verifications creates new verification resource (state change)\n- HTTP verb (POST) indicates create/submit action\n- No verbs in URL path\n\nArgs:\n    request: Email verification request with token\n\nReturns:\n    UserResponse with email_verified=True\n\nRaises:\n    HTTPException 400: If token is invalid or expired\n    HTTPException 500: If verification fails due to server error",
        "operationId": "verify_email_api_v2_verifications_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/EmailVerificationRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Email verified successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid or expired verification token"
          },
          "500": {
            "description": "Internal server error during verification"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/verifications/resend": {
      "post": {
        "tags": [
          "users"
        ],
        "summary": "Resend Verification Email Public",
        "description": "Resend email verification email (public endpoint, no auth required).\n\nThis endpoint allows unauthenticated users to request a new verification\nemail. This is necessary because users cannot authenticate until their\nemail is verified, but they may need to request a new verification email\nif the original one expired or was lost.\n\nSecurity consideration: Always returns success message regardless of\nwhether the email exists or was sent, to prevent email enumeration attacks.\n\nRMM Level 2 Compliance:\n- Resource-based URL: /verifications/resend\n- HTTP method (POST) indicates action\n- No verbs in URL path (resend is a sub-resource, not a verb)\n- Returns generic response for security\n\nArgs:\n    request: Request containing user email address\n\nReturns:\n    ResendVerificationResponse with generic success message",
        "operationId": "resend_verification_email_public_api_v2_verifications_resend_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ResendVerificationRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Request processed (email sent if user exists and is unverified)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ResendVerificationResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/sessions": {
      "post": {
        "tags": [
          "users"
        ],
        "summary": "Create Session",
        "description": "Create or refresh an authentication session (RMM L2 compliant).\n\nThis unified endpoint handles both login and token refresh operations\nbased on the grant_type parameter in the request body.\n\nSupported grant types:\n- \"password\": Login with email and password\n- \"refresh_token\": Refresh an existing session using refresh token\n\nRMM Level 2 Compliance:\n- POST to /sessions creates/refreshes session resource\n- HTTP verb (POST) indicates create action\n- No verbs in URL path\n- Grant type differentiates operation (OAuth2 pattern)\n\nArgs:\n    request: Session request with grant_type and appropriate fields\n\nReturns:\n    SessionResponse with tokens and optionally user profile\n\nRaises:\n    HTTPException 400: If required fields are missing or invalid\n    HTTPException 401: If authentication/refresh fails\n    HTTPException 500: If server error occurs",
        "operationId": "create_session_api_v2_sessions_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SessionRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Session created/refreshed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SessionResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request (missing fields or invalid grant_type)"
          },
          "401": {
            "description": "Authentication failed or token invalid"
          },
          "500": {
            "description": "Internal server error"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      },
      "delete": {
        "tags": [
          "users"
        ],
        "summary": "Delete Session",
        "description": "Delete authentication session (logout).\n\nInvalidates the current user's token by adding it to the blacklist.\nAfter logout, the token will be rejected by the authentication middleware.\n\nRMM Level 2 Compliance:\n- DELETE to /sessions deletes the session resource\n- HTTP verb (DELETE) indicates delete action\n- No verbs in URL path (not /logout, but DELETE /sessions)\n\nArgs:\n    firebase_user: Decoded token claims (injected by auth dependency)\n    credentials: HTTP Bearer token credentials from request header\n    token_blacklist_service: Injected token blacklist service\n\nReturns:\n    LogoutResponse with confirmation message\n\nRaises:\n    HTTPException 401: If authentication token is missing or invalid\n    HTTPException 500: If logout fails due to server error",
        "operationId": "delete_session_api_v2_sessions_delete",
        "responses": {
          "200": {
            "description": "Logout successful, token invalidated",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LogoutResponse"
                }
              }
            }
          },
          "401": {
            "description": "Authentication required or token invalid"
          },
          "500": {
            "description": "Internal server error during logout"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v2/passwords": {
      "post": {
        "tags": [
          "users"
        ],
        "summary": "Create Password Reset",
        "description": "Create a password reset request (RMM Level 2 compliant).\n\nCreates a new password-reset resource and sends an email with reset token\nto the user if the email exists.\n\nSecurity consideration: Always returns success message regardless of whether\nemail exists, to prevent email enumeration attacks.\n\nRMM Level 2 Compliance:\n- POST to /passwords creates new password-reset resource\n- Resource-based URL (noun, not verb)\n- Returns 201 Created with generic success message\n\nArgs:\n    request: Password reset creation request with email\n\nReturns:\n    PasswordResetCreateResponse with generic success message",
        "operationId": "create_password_reset_api_v2_passwords_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PasswordResetCreateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Password reset request created (email sent if exists)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PasswordResetCreateResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/passwords/{token}": {
      "put": {
        "tags": [
          "users"
        ],
        "summary": "Update Password Reset",
        "description": "Complete a password reset by setting new password (RMM Level 2 compliant).\n\nUpdates the password-reset resource identified by token, setting the\nuser's new password.\n\nRMM Level 2 Compliance:\n- PUT to /passwords/{token} updates the resource\n- Token in path as resource identifier\n- New password in request body\n- Resource-based URL structure\n\nArgs:\n    token: Password reset token from email (path parameter)\n    request: Password reset update request with new password\n\nReturns:\n    PasswordResetUpdateResponse with success message\n\nRaises:\n    HTTPException 400: If reset token is invalid or expired\n    HTTPException 500: If password reset fails",
        "operationId": "update_password_reset_api_v2_passwords__token__put",
        "parameters": [
          {
            "name": "token",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "description": "Password reset token from email",
              "title": "Token"
            },
            "description": "Password reset token from email"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PasswordResetUpdateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Password reset successful",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PasswordResetUpdateResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid or expired reset token"
          },
          "500": {
            "description": "Internal server error"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/auth/forgot-password": {
      "post": {
        "tags": [
          "users"
        ],
        "summary": "Forgot Password",
        "description": "Initiate password reset flow by sending email with reset token.\n\nDEPRECATED: This endpoint uses a verb in the path which violates RMM Level 2.\nUse POST /passwords instead.\nThis endpoint will be removed in 6 months.\n\nDeprecation date: 2025-12-29\nRemoval date: 2026-06-29\nReplacement: POST /api/v2/passwords\n\nSecurity consideration: Always returns success message regardless of whether\nemail exists, to prevent email enumeration attacks.",
        "operationId": "forgot_password_api_v2_auth_forgot_password_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ForgotPasswordRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Password reset email sent (if email exists)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ForgotPasswordResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "deprecated": true
      }
    },
    "/api/v2/auth/reset-password": {
      "post": {
        "tags": [
          "users"
        ],
        "summary": "Reset Password",
        "description": "Reset password using reset token from email.\n\nDEPRECATED: This endpoint uses a verb in the path which violates RMM Level 2.\nUse PUT /passwords/{token} instead.\nThis endpoint will be removed in 6 months.\n\nDeprecation date: 2025-12-29\nRemoval date: 2026-06-29\nReplacement: PUT /api/v2/passwords/{token}",
        "operationId": "reset_password_api_v2_auth_reset_password_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ResetPasswordRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Password reset successful",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ResetPasswordResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid or expired reset token"
          },
          "500": {
            "description": "Internal server error"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "deprecated": true
      }
    },
    "/api/v2/auth/refresh": {
      "post": {
        "tags": [
          "users"
        ],
        "summary": "Refresh Token",
        "description": "Refresh an expiring or expired JWT token.\n\nDEPRECATED: This endpoint uses a verb in the path which violates RMM Level 2.\nUse POST /sessions with grant_type=refresh_token instead.\nThis endpoint will be removed in 6 months.\n\nDeprecation date: 2025-12-29\nRemoval date: 2026-06-29\nReplacement: POST /api/v2/sessions with body {\"grant_type\": \"refresh_token\", \"refresh_token\": \"...\"}\n\nThis endpoint allows native auth users to refresh their JWT tokens\nwithout requiring re-authentication. The endpoint accepts expired tokens\n(within a reasonable grace period) and issues a new token with fresh\nexpiration.\n\nSecurity considerations:\n- Validates token signature and structure\n- Checks if token is blacklisted (logged out)\n- Preserves original token claims in new token\n- Does not extend refresh capability indefinitely\n\nArgs:\n    response: FastAPI Response object for adding headers\n    credentials: HTTP Bearer token credentials from request header\n    auth_service: Injected authentication service\n    token_blacklist_service: Injected token blacklist service\n\nReturns:\n    TokenRefreshResponse with new access token and expiration time\n\nRaises:\n    HTTPException 401: If token is invalid, malformed, or blacklisted\n    HTTPException 500: If token refresh fails due to server error",
        "operationId": "refresh_token_api_v2_auth_refresh_post",
        "responses": {
          "200": {
            "description": "Token refreshed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TokenRefreshResponse"
                }
              }
            }
          },
          "401": {
            "description": "Invalid or malformed token"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "deprecated": true,
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v2/users/me": {
      "get": {
        "tags": [
          "users"
        ],
        "summary": "Get Current User",
        "description": "Get current authenticated user profile.\n\nRetrieves the profile of the currently authenticated user based on\ntheir authentication token. Supports both Firebase Auth and native\nemail/password authentication.\n\nFor native auth users:\n- Token contains uid = database user ID\n- Look up user by ID directly\n\nFor Firebase auth users:\n- Token contains uid = Firebase UID\n- Look up user by Firebase UID, or create if first login (lazy sync)\n\nThis endpoint implements lazy user creation for Firebase Auth users.\nIf a user authenticates via Firebase but doesn't have a database record,\none is created automatically using data from the Firebase token.\n\nThe response includes a has_brand field indicating whether the user\nhas any associated brands in the system.\n\nRMM Level 2 Compliance:\n- Resource-based URL: /users/me\n- HTTP method (GET) indicates read action\n- No verbs in URL path\n- Uses /me convention for current authenticated user\n\nArgs:\n    firebase_user: Decoded token claims (injected by auth dependency)\n    user_service: Injected user service\n\nReturns:\n    UserResponse with user profile data including has_brand field\n\nRaises:\n    HTTPException 401: If authentication token is missing or invalid\n    HTTPException 500: If database or server error occurs",
        "operationId": "get_current_user_api_v2_users_me_get",
        "responses": {
          "200": {
            "description": "Current user profile retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserResponse"
                }
              }
            }
          },
          "401": {
            "description": "Authentication required or token invalid"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v2/users/me/verifications": {
      "post": {
        "tags": [
          "users"
        ],
        "summary": "Resend Verification Email",
        "description": "Resend email verification email to current user.\n\nResends the email verification email with a new verification token\nto the currently authenticated user. Only works for native auth users\nwho have not yet verified their email.\n\nRMM Level 2 Compliance:\n- Resource-based URL: /users/me/verifications\n- HTTP method (POST) indicates create action\n- No verbs in URL path\n- Uses /me convention for current authenticated user\n\nArgs:\n    firebase_user: Decoded token claims (injected by auth dependency)\n    user_service: Injected user service\n\nReturns:\n    ResendVerificationResponse with success status and message\n\nRaises:\n    HTTPException 400: If email already verified or user not eligible\n    HTTPException 401: If authentication token is missing or invalid\n    HTTPException 500: If email send fails or server error occurs",
        "operationId": "resend_verification_email_api_v2_users_me_verifications_post",
        "responses": {
          "200": {
            "description": "Verification email resent successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ResendVerificationResponse"
                }
              }
            }
          },
          "400": {
            "description": "Email already verified or user not eligible"
          },
          "401": {
            "description": "Authentication required or token invalid"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v2/utilities/fetch-url-content": {
      "post": {
        "tags": [
          "utilities"
        ],
        "summary": "Fetch content from URL (DEPRECATED)",
        "description": "DEPRECATED: This endpoint will be removed in a future version. Use POST /url/content/fetches instead. Fetch and extract text content, metadata, and optionally images from a URL.",
        "operationId": "fetch_url_content_api_v2_utilities_fetch_url_content_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/URLContentRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/URLContentResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "deprecated": true
      }
    }
  },
  "components": {
    "schemas": {
      "AudienceSuggestionsResponse": {
        "properties": {
          "audience_emotion": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "maxItems": 3,
            "minItems": 3,
            "title": "Audience Emotion",
            "description": "Array of 3 emotional triggers that resonate with target audience"
          },
          "audience_interests": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "maxItems": 3,
            "minItems": 3,
            "title": "Audience Interests",
            "description": "Array of 3 interest categories relevant to target audience"
          }
        },
        "type": "object",
        "required": [
          "audience_emotion",
          "audience_interests"
        ],
        "title": "AudienceSuggestionsResponse",
        "description": "Response schema for audience suggestions.\n\nPort from V1 AudienceForm.tsx (lines 54-87) which extracts two arrays:\n- audienceEmotion: emotional triggers for the target audience\n- audienceInterests: interest categories for the target audience",
        "example": {
          "audience_emotion": [
            "excited",
            "inspired",
            "curious"
          ],
          "audience_interests": [
            "technology",
            "innovation",
            "sustainability"
          ]
        }
      },
      "BatchFeedbackResponse": {
        "properties": {
          "submittedCount": {
            "type": "integer",
            "title": "Submittedcount",
            "description": "Number of feedback items successfully submitted",
            "default": 0
          },
          "failedCount": {
            "type": "integer",
            "title": "Failedcount",
            "description": "Number of feedback items that failed to submit",
            "default": 0
          },
          "feedbackIds": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Feedbackids",
            "description": "IDs of successfully submitted feedback"
          }
        },
        "type": "object",
        "title": "BatchFeedbackResponse",
        "description": "Schema for batch feedback submission response."
      },
      "Body_update_brand_files": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Name",
            "description": "Brand name"
          },
          "website": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Website",
            "description": "Brand website URL"
          },
          "brand_colors": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Brand Colors",
            "description": "JSON array of RGB hex codes"
          },
          "industry": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Industry",
            "description": "Brand industry"
          },
          "target_audience": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Target Audience",
            "description": "Target audience"
          },
          "brand_guidelines": {
            "anyOf": [
              {
                "type": "string",
                "format": "binary"
              },
              {
                "type": "null"
              }
            ],
            "title": "Brand Guidelines"
          },
          "logo": {
            "anyOf": [
              {
                "type": "string",
                "format": "binary"
              },
              {
                "type": "null"
              }
            ],
            "title": "Logo"
          }
        },
        "type": "object",
        "title": "Body_update_brand_files"
      },
      "Body_upload_brand_files": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Name",
            "description": "Brand name"
          },
          "website": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Website",
            "description": "Brand website URL"
          },
          "brand_colors": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Brand Colors",
            "description": "JSON array of RGB hex codes"
          },
          "industry": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Industry",
            "description": "Brand industry"
          },
          "target_audience": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Target Audience",
            "description": "Target audience"
          },
          "brand_guidelines": {
            "anyOf": [
              {
                "type": "string",
                "format": "binary"
              },
              {
                "type": "null"
              }
            ],
            "title": "Brand Guidelines"
          },
          "logo": {
            "anyOf": [
              {
                "type": "string",
                "format": "binary"
              },
              {
                "type": "null"
              }
            ],
            "title": "Logo"
          }
        },
        "type": "object",
        "title": "Body_upload_brand_files"
      },
      "BrandCrawlAssetsInfo": {
        "properties": {
          "colorsFound": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Colorsfound",
            "description": "Number of brand colors found",
            "default": 0
          },
          "fontsFound": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Fontsfound",
            "description": "Number of fonts identified",
            "default": 0
          },
          "imagesFound": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Imagesfound",
            "description": "Number of images discovered",
            "default": 0
          },
          "logosFound": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Logosfound",
            "description": "Number of logos identified",
            "default": 0
          }
        },
        "type": "object",
        "title": "BrandCrawlAssetsInfo",
        "description": "Assets discovered during brand crawl."
      },
      "BrandCrawlPerformance": {
        "properties": {
          "brand_id": {
            "type": "string",
            "title": "Brand Id",
            "description": "Brand identifier"
          },
          "brand_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Brand Name",
            "description": "Brand name if available"
          },
          "total_pages": {
            "type": "integer",
            "title": "Total Pages",
            "description": "Total pages crawled for brand"
          },
          "successful_pages": {
            "type": "integer",
            "title": "Successful Pages",
            "description": "Successfully crawled pages"
          },
          "failed_pages": {
            "type": "integer",
            "title": "Failed Pages",
            "description": "Failed crawl attempts"
          },
          "success_rate": {
            "type": "number",
            "title": "Success Rate",
            "description": "Success rate percentage"
          },
          "average_duration_seconds": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Average Duration Seconds",
            "description": "Average crawl duration"
          },
          "last_crawl_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Crawl At",
            "description": "Most recent crawl"
          }
        },
        "type": "object",
        "required": [
          "brand_id",
          "total_pages",
          "successful_pages",
          "failed_pages",
          "success_rate"
        ],
        "title": "BrandCrawlPerformance",
        "description": "Crawl performance metrics for a single brand."
      },
      "BrandCrawlProgressInfo": {
        "properties": {
          "pagesEstimated": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Pagesestimated",
            "description": "Estimated total pages to crawl",
            "default": 0
          },
          "pagesCrawled": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Pagescrawled",
            "description": "Pages successfully crawled",
            "default": 0
          },
          "pagesFailed": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Pagesfailed",
            "description": "Pages that failed to crawl",
            "default": 0
          },
          "pagesPending": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Pagespending",
            "description": "Pages waiting to be crawled",
            "default": 0
          },
          "percentage": {
            "type": "number",
            "maximum": 100.0,
            "minimum": 0.0,
            "title": "Percentage",
            "description": "Crawl completion percentage",
            "default": 0.0
          }
        },
        "type": "object",
        "title": "BrandCrawlProgressInfo",
        "description": "Progress metrics for brand crawl status."
      },
      "BrandCrawlStatusResponse": {
        "properties": {
          "brandId": {
            "type": "string",
            "title": "Brandid",
            "description": "Brand ID"
          },
          "crawlJobId": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Crawljobid",
            "description": "ID of the current crawl job (if any)"
          },
          "status": {
            "type": "string",
            "enum": [
              "pending",
              "estimating",
              "crawling",
              "extracting",
              "uploading",
              "complete",
              "failed",
              "not_started"
            ],
            "title": "Status",
            "description": "Current crawl status"
          },
          "progress": {
            "$ref": "#/components/schemas/BrandCrawlProgressInfo",
            "description": "Detailed progress metrics"
          },
          "assets": {
            "$ref": "#/components/schemas/BrandCrawlAssetsInfo",
            "description": "Assets discovered during crawl"
          },
          "timing": {
            "$ref": "#/components/schemas/BrandCrawlTimingInfo",
            "description": "Timing information"
          },
          "currentPage": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Currentpage",
            "description": "URL of the page currently being crawled"
          },
          "errorMessage": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Errormessage",
            "description": "Error message if status is 'failed'"
          }
        },
        "type": "object",
        "required": [
          "brandId",
          "status",
          "progress",
          "assets",
          "timing"
        ],
        "title": "BrandCrawlStatusResponse",
        "description": "Response schema for brand crawl progress endpoint (Issue #1279).\n\nProvides real-time status updates for brand crawl operations so the\nfrontend can show users progress during website crawling."
      },
      "BrandCrawlTimingInfo": {
        "properties": {
          "startedAt": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Startedat",
            "description": "When the crawl started"
          },
          "estimatedCompletion": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Estimatedcompletion",
            "description": "Estimated completion time"
          },
          "elapsedSeconds": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Elapsedseconds",
            "description": "Seconds elapsed since crawl started",
            "default": 0
          }
        },
        "type": "object",
        "title": "BrandCrawlTimingInfo",
        "description": "Timing information for brand crawl."
      },
      "BrandCreate": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 255,
            "minLength": 1,
            "title": "Name"
          },
          "website": {
            "type": "string",
            "title": "Website",
            "description": "Brand website URL"
          },
          "brandColors": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Brandcolors",
            "description": "List of brand colors (RGB hex codes from color picker)"
          },
          "industry": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Industry",
            "description": "Brand industry or sector"
          },
          "targetAudience": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Targetaudience",
            "description": "Description of target audience"
          }
        },
        "type": "object",
        "required": [
          "name",
          "website"
        ],
        "title": "BrandCreate",
        "description": "Schema for creating a new brand."
      },
      "BrandFileUploadResponse": {
        "properties": {
          "brandId": {
            "type": "string",
            "title": "Brandid",
            "description": "Brand ID"
          },
          "brandGuidelinesUrl": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Brandguidelinesurl",
            "description": "Google Cloud Storage URL for uploaded brand guidelines PDF"
          },
          "logoUrl": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Logourl",
            "description": "Google Cloud Storage URL for uploaded logo image"
          },
          "extractedData": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Extracteddata",
            "description": "Extracted brand information from PDF (colors, typography, photography)"
          }
        },
        "type": "object",
        "required": [
          "brandId"
        ],
        "title": "BrandFileUploadResponse",
        "description": "Response schema for brand file upload with LLM extraction."
      },
      "BrandKnowledgeBrandSummaryResponse": {
        "properties": {
          "brandId": {
            "type": "string",
            "title": "Brandid",
            "description": "Brand ID"
          },
          "totalEntries": {
            "type": "integer",
            "title": "Totalentries",
            "description": "Total number of knowledge entries for this brand"
          },
          "lastUpdated": {
            "type": "string",
            "format": "date-time",
            "title": "Lastupdated",
            "description": "Last update timestamp"
          },
          "categoryBreakdown": {
            "$ref": "#/components/schemas/CategoryBreakdown",
            "description": "Breakdown by category (traits, products, colors)"
          }
        },
        "type": "object",
        "required": [
          "brandId",
          "totalEntries",
          "lastUpdated",
          "categoryBreakdown"
        ],
        "title": "BrandKnowledgeBrandSummaryResponse",
        "description": "Summary statistics for a specific brand's knowledge."
      },
      "BrandKnowledgeStatusResponse": {
        "properties": {
          "brandId": {
            "type": "string",
            "title": "Brandid",
            "description": "Brand ID"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Current knowledge extraction status (not_started, quick_extract_pending, quick_extract_complete, deep_crawl_pending, deep_crawl_running, deep_crawl_complete, failed)"
          },
          "progress": {
            "type": "integer",
            "maximum": 100.0,
            "minimum": 0.0,
            "title": "Progress",
            "description": "Overall progress percentage (0-100)"
          },
          "quickExtractComplete": {
            "type": "boolean",
            "title": "Quickextractcomplete",
            "description": "Whether quick extraction phase is complete"
          },
          "deepCrawlComplete": {
            "type": "boolean",
            "title": "Deepcrawlcomplete",
            "description": "Whether deep crawl phase is complete"
          },
          "lastUpdated": {
            "type": "string",
            "format": "date-time",
            "title": "Lastupdated",
            "description": "When the knowledge status was last updated"
          },
          "metadata": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "additionalProperties": true,
            "title": "Metadata",
            "description": "Additional metadata about knowledge extraction (pages crawled, etc.)"
          }
        },
        "type": "object",
        "required": [
          "brandId",
          "status",
          "progress",
          "quickExtractComplete",
          "deepCrawlComplete",
          "lastUpdated"
        ],
        "title": "BrandKnowledgeStatusResponse",
        "description": "Response schema for brand knowledge extraction status (Phase 1: Progressive Brand Knowledge)."
      },
      "BrandKnowledgeV2ListResponse": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/BrandKnowledgeV2Response"
            },
            "type": "array",
            "title": "Items",
            "description": "List of brand knowledge entries"
          },
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "Total number of knowledge entries for this brand"
          },
          "limit": {
            "type": "integer",
            "title": "Limit",
            "description": "Number of items per page"
          },
          "offset": {
            "type": "integer",
            "title": "Offset",
            "description": "Number of items skipped"
          }
        },
        "type": "object",
        "required": [
          "items",
          "total",
          "limit",
          "offset"
        ],
        "title": "BrandKnowledgeV2ListResponse",
        "description": "V2 Paginated response model for brand knowledge list."
      },
      "BrandKnowledgeV2Response": {
        "properties": {
          "brandId": {
            "type": "string",
            "title": "Brandid",
            "description": "Brand ID"
          },
          "personalityTraits": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Personalitytraits",
            "description": "2-5 lowercase adjectives describing brand personality"
          },
          "toneAttributes": {
            "$ref": "#/components/schemas/ToneAttributesV2",
            "description": "Structured tone characteristics"
          },
          "colorPalette": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Colorpalette",
            "description": "3-5 hex color codes from brand visual identity"
          },
          "products": {
            "items": {
              "$ref": "#/components/schemas/ProductV2"
            },
            "type": "array",
            "title": "Products",
            "description": "List of products with name and category"
          },
          "brandDescription": {
            "type": "string",
            "maxLength": 200,
            "title": "Branddescription",
            "description": "1-2 sentences describing the brand"
          },
          "valueProposition": {
            "type": "string",
            "maxLength": 200,
            "title": "Valueproposition",
            "description": "1-2 sentences describing the value proposition"
          },
          "targetAudience": {
            "type": "string",
            "maxLength": 200,
            "title": "Targetaudience",
            "description": "1-2 sentences describing the target audience"
          }
        },
        "type": "object",
        "required": [
          "brandId",
          "personalityTraits",
          "toneAttributes",
          "colorPalette",
          "products",
          "brandDescription",
          "valueProposition",
          "targetAudience"
        ],
        "title": "BrandKnowledgeV2Response",
        "description": "V2 Response model for simplified brand knowledge extraction."
      },
      "BrandOnboardingProgressResponse": {
        "properties": {
          "brandId": {
            "type": "string",
            "title": "Brandid",
            "description": "Brand ID"
          },
          "currentStep": {
            "type": "string",
            "title": "Currentstep",
            "description": "Current step in the onboarding process"
          },
          "completedSteps": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Completedsteps",
            "description": "List of completed steps in chronological order"
          },
          "progressPercentage": {
            "type": "integer",
            "maximum": 100.0,
            "minimum": 0.0,
            "title": "Progresspercentage",
            "description": "Overall progress percentage (0-100)",
            "default": 0
          },
          "metadata": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "additionalProperties": true,
            "title": "Metadata",
            "description": "Additional metadata about the current step or progress"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "title": "Updatedat",
            "description": "When the progress was last updated"
          }
        },
        "type": "object",
        "required": [
          "brandId",
          "currentStep",
          "updatedAt"
        ],
        "title": "BrandOnboardingProgressResponse",
        "description": "Schema for brand onboarding progress response."
      },
      "BrandOnboardingProgressUpdate": {
        "properties": {
          "currentStep": {
            "type": "string",
            "maxLength": 100,
            "title": "Currentstep",
            "description": "Current step in the onboarding process (e.g., 'brand-info', 'assets-upload', 'knowledge-review')"
          },
          "completedSteps": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Completedsteps",
            "description": "List of completed steps in chronological order"
          },
          "progressPercentage": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 100.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Progresspercentage",
            "description": "Overall progress percentage (0-100)"
          },
          "metadata": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "additionalProperties": true,
            "title": "Metadata",
            "description": "Additional metadata about the current step or progress"
          }
        },
        "type": "object",
        "required": [
          "currentStep"
        ],
        "title": "BrandOnboardingProgressUpdate",
        "description": "Schema for updating brand onboarding progress step."
      },
      "BrandProfileExport": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "website": {
            "type": "string",
            "title": "Website"
          },
          "brandColors": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Brandcolors"
          },
          "industry": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Industry"
          },
          "targetAudience": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Targetaudience"
          },
          "logoUrl": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Logourl"
          },
          "mission": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Mission"
          },
          "values": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Values"
          },
          "brandPersona": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Brandpersona"
          },
          "toneOfVoice": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Toneofvoice"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "website"
        ],
        "title": "BrandProfileExport",
        "description": "Brand profile data for export documents."
      },
      "BrandResponse": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 255,
            "minLength": 1,
            "title": "Name"
          },
          "website": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Website"
          },
          "id": {
            "type": "string",
            "title": "ID"
          },
          "brandGuidelinesUrl": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Brandguidelinesurl",
            "description": "Google Cloud Storage URL for brand guidelines PDF"
          },
          "logoUrl": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Logourl",
            "description": "Google Cloud Storage URL for brand logo"
          },
          "brandColors": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Brandcolors",
            "description": "Brand colors (RGB hex codes from frontend or extracted during crawling)"
          },
          "industry": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Industry"
          },
          "targetAudience": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Targetaudience"
          },
          "status": {
            "$ref": "#/components/schemas/BrandStatus"
          },
          "workflowId": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Workflowid",
            "description": "ID of the associated brand extraction workflow"
          },
          "knowledgeStatus": {
            "type": "string",
            "title": "Knowledgestatus",
            "description": "Status of knowledge extraction (not_started, quick_extract_pending, quick_extract_complete, deep_crawl_pending, deep_crawl_running, deep_crawl_complete, failed)",
            "default": "not_started"
          },
          "knowledgeProgress": {
            "type": "integer",
            "maximum": 100.0,
            "minimum": 0.0,
            "title": "Knowledgeprogress",
            "description": "Knowledge extraction progress percentage (0-100)",
            "default": 0
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "name",
          "id",
          "status",
          "createdAt",
          "updatedAt"
        ],
        "title": "BrandResponse",
        "description": "Schema for brand responses."
      },
      "BrandStatus": {
        "type": "string",
        "enum": [
          "onboarding",
          "active",
          "inactive"
        ],
        "title": "BrandStatus",
        "description": "Brand status enumeration."
      },
      "BrandSummaryResponse": {
        "properties": {
          "brandId": {
            "type": "string",
            "title": "Brandid",
            "description": "The brand ID this summary belongs to"
          },
          "summary": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 1000
              },
              {
                "type": "null"
              }
            ],
            "title": "Summary",
            "description": "Generated brand summary (60 words or less), or None if async",
            "examples": [
              "TechCorp is committed to democratizing AI technology, envisioning a future where intelligent systems enhance human potential. Operating in the technology industry, the brand emphasizes innovation and accessibility, communicating with a professional yet approachable voice. Known for its modern design, it embodies an innovative persona, effectively serving the enterprise software vertical."
            ]
          },
          "message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Message",
            "description": "Status message for async operations"
          },
          "correlationId": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Correlationid",
            "description": "Correlation ID for tracking async operations"
          }
        },
        "type": "object",
        "required": [
          "brandId"
        ],
        "title": "BrandSummaryResponse",
        "description": "Schema for brand summary response.\n\nIssue #1386: Updated to support async pattern with optional summary.\n\nReturns a generated cohesive brand summary paragraph based on the brand's\nmission, vision, values, tone/voice, persona, industry, and vertical.\n\nFor async operations:\n- summary is None (generation in progress)\n- message contains status info\n- correlation_id can be used for tracking\n\nFollowing V1 implementation (ReviewForm.tsx):\n- Generated via LLM (brand-crawler service)\n- 60 words or less\n- Single cohesive paragraph\n- Includes: mission, vision, values, tone/voice, persona, industry, vertical\n- Excludes: brand colors, service lists, location"
      },
      "BrandUpdate": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Name"
          },
          "website": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Website",
            "description": "Brand website URL"
          },
          "brandGuidelinesUrl": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Brandguidelinesurl"
          },
          "logoUrl": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Logourl"
          },
          "brandColors": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Brandcolors",
            "description": "List of brand colors (RGB hex codes)"
          },
          "industry": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Industry"
          },
          "targetAudience": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Targetaudience"
          },
          "status": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/BrandStatus"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "type": "object",
        "title": "BrandUpdate",
        "description": "Schema for updating an existing brand."
      },
      "BulkContentApprovalRequest": {
        "properties": {
          "content_ids": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Content Ids",
            "description": "Optional list of specific content IDs to approve. If empty, approves all campaign content."
          }
        },
        "type": "object",
        "title": "BulkContentApprovalRequest",
        "description": "Request schema for bulk approving all campaign content.\n\nSimplified version for approving all content items in a campaign."
      },
      "BulkContentApprovalResponse": {
        "properties": {
          "approved_count": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Approved Count",
            "description": "Number of content items successfully approved"
          },
          "failed_count": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Failed Count",
            "description": "Number of content items that failed to approve"
          },
          "failed_ids": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Failed Ids",
            "description": "List of content IDs that failed to approve"
          }
        },
        "type": "object",
        "required": [
          "approved_count",
          "failed_count"
        ],
        "title": "BulkContentApprovalResponse",
        "description": "Response schema for bulk content approval operation.\n\nReturns counts and any failed IDs."
      },
      "CampaignCreateRequest": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 255,
            "minLength": 1,
            "title": "Name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "brandId": {
            "type": "string",
            "minLength": 1,
            "title": "Brand ID",
            "description": "ID of the brand this campaign belongs to. Required for all campaigns."
          },
          "durationWeeks": {
            "type": "integer",
            "maximum": 52.0,
            "minimum": 1.0,
            "title": "Duration Weeks",
            "description": "Campaign duration in weeks. Required to calculate total content count."
          },
          "postsPerDay": {
            "type": "integer",
            "maximum": 10.0,
            "minimum": 1.0,
            "title": "Posts Per Day",
            "description": "Number of posts per day. Required to calculate total content count."
          },
          "campaignType": {
            "$ref": "#/components/schemas/CampaignType",
            "title": "Campaign Type",
            "description": "Type of media content for the campaign",
            "default": "image"
          },
          "platforms": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Platforms",
            "description": "List of social media platforms for the campaign (e.g., ['instagram', 'facebook'])"
          },
          "intent": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Intent",
            "description": "Campaign intent or objective (e.g., 'awareness', 'engagement', 'conversion')"
          },
          "campaignVariables": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "additionalProperties": true,
            "title": "Campaign Variables"
          },
          "audienceGender": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Audience Gender",
            "description": "Target audience gender list (e.g., ['female'], ['male', 'female'], ['diverse'])"
          },
          "audienceAgeRange": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Audience Age Range",
            "description": "Target audience age ranges (e.g., ['18-24'], ['25-34', '35-44'])"
          }
        },
        "type": "object",
        "required": [
          "name",
          "brandId",
          "durationWeeks",
          "postsPerDay"
        ],
        "title": "CampaignCreateRequest",
        "description": "Schema for API request to create a new campaign.\n\nNote: user_id is extracted from JWT token, not from request body.\nThis prevents users from creating campaigns on behalf of others."
      },
      "CampaignExportApprovalStatus": {
        "properties": {
          "approved": {
            "type": "boolean",
            "title": "Approved",
            "description": "Whether all content is approved for export"
          },
          "approved_content": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Approved Content",
            "description": "Number of approved posts"
          },
          "total_content": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Total Content",
            "description": "Total number of posts"
          },
          "unapproved_content_ids": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Unapproved Content Ids",
            "description": "List of unapproved content IDs"
          }
        },
        "type": "object",
        "required": [
          "approved",
          "approved_content",
          "total_content"
        ],
        "title": "CampaignExportApprovalStatus",
        "description": "Response schema for campaign export approval status.\n\nReturns detailed approval status for export functionality including\nlist of unapproved content IDs."
      },
      "CampaignExportData": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "durationWeeks": {
            "type": "integer",
            "title": "Durationweeks"
          },
          "postsPerDay": {
            "type": "integer",
            "title": "Postsperday"
          },
          "campaignVariables": {
            "type": "object",
            "title": "Campaignvariables"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "title": "Createdat"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "title": "Updatedat"
          },
          "brand": {
            "$ref": "#/components/schemas/BrandProfileExport"
          },
          "content": {
            "items": {
              "$ref": "#/components/schemas/ContentExport"
            },
            "type": "array",
            "title": "Content"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "durationWeeks",
          "postsPerDay",
          "createdAt",
          "updatedAt",
          "brand"
        ],
        "title": "CampaignExportData",
        "description": "Complete campaign data for export documents."
      },
      "CampaignPublicationCreate": {
        "properties": {
          "timezone": {
            "type": "string",
            "title": "Timezone",
            "description": "IANA timezone for scheduling"
          },
          "scheduled_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Scheduled At",
            "description": "Optional scheduled publication time"
          }
        },
        "type": "object",
        "required": [
          "timezone"
        ],
        "title": "CampaignPublicationCreate",
        "description": "Request schema for creating a publication.\n\nDirect port from V1 PublishRequest model with timezone field.\nRMM L2: Creating a publication is resource creation, not an action."
      },
      "CampaignPublicationResponse": {
        "properties": {
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Publication status message"
          },
          "scheduled": {
            "type": "integer",
            "title": "Scheduled",
            "description": "Number of posts successfully scheduled"
          },
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "Total number of posts processed"
          },
          "posts": {
            "items": {
              "$ref": "#/components/schemas/PublishedPostSummary"
            },
            "type": "array",
            "title": "Posts",
            "description": "Details of scheduled posts"
          },
          "publication_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Publication Id",
            "description": "Unique publication identifier"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "Publication creation timestamp"
          }
        },
        "type": "object",
        "required": [
          "message",
          "scheduled",
          "total"
        ],
        "title": "CampaignPublicationResponse",
        "description": "Response schema for publication creation.\n\nDirect port from V1 publish endpoint response format.\nTracks publication status and scheduled posts."
      },
      "CampaignResponse": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 255,
            "minLength": 1,
            "title": "Name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "brandId": {
            "type": "string",
            "minLength": 1,
            "title": "Brand ID",
            "description": "ID of the brand this campaign belongs to. Required for all campaigns."
          },
          "durationWeeks": {
            "type": "integer",
            "maximum": 52.0,
            "minimum": 1.0,
            "title": "Duration Weeks",
            "description": "Campaign duration in weeks. Required to calculate total content count."
          },
          "postsPerDay": {
            "type": "integer",
            "maximum": 10.0,
            "minimum": 1.0,
            "title": "Posts Per Day",
            "description": "Number of posts per day. Required to calculate total content count."
          },
          "campaignType": {
            "$ref": "#/components/schemas/CampaignType",
            "title": "Campaign Type",
            "description": "Type of media content for the campaign",
            "default": "image"
          },
          "platforms": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Platforms",
            "description": "List of social media platforms for the campaign (e.g., ['instagram', 'facebook'])"
          },
          "intent": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Intent",
            "description": "Campaign intent or objective (e.g., 'awareness', 'engagement', 'conversion')"
          },
          "campaignVariables": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "additionalProperties": true,
            "title": "Campaign Variables"
          },
          "audienceGender": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Audience Gender",
            "description": "Target audience gender list (e.g., ['female'], ['male', 'female'], ['diverse'])"
          },
          "audienceAgeRange": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Audience Age Range",
            "description": "Target audience age ranges (e.g., ['18-24'], ['25-34', '35-44'])"
          },
          "id": {
            "type": "integer",
            "title": "ID"
          },
          "userId": {
            "type": "string",
            "title": "User ID",
            "description": "ID of the user who owns this campaign."
          },
          "status": {
            "$ref": "#/components/schemas/CampaignStatus"
          },
          "workflowId": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Workflow ID",
            "description": "ID of the content generation workflow execution"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          },
          "startDate": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Campaign Start Date"
          },
          "timezone": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Campaign Timezone"
          },
          "postingDate": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "First Post Date"
          },
          "contentCount": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Total Content Count",
            "default": 0
          },
          "approvedCount": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Approved Content Count",
            "default": 0
          },
          "pendingCount": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Pending Content Count",
            "default": 0
          },
          "generatingCount": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Generating Content Count",
            "default": 0
          },
          "currentWeek": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Current Week Number",
            "description": "Current week number in campaign (1-indexed), 0 if not started"
          },
          "formattedDateRange": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Formatted Date Range",
            "description": "Human-readable date range (e.g., 'Jan 1 - Jan 31, 2025')"
          },
          "postingSchedule": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Posting Schedule",
            "description": "Array of posting times with timezone (e.g., ['9 AM GMT', '2 PM GMT'])"
          },
          "weekProgress": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Week Progress Percentage",
            "description": "Campaign progress as percentage (0.0 to 100.0)"
          },
          "isCompleted": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Is Campaign Completed",
            "description": "Whether campaign end date has passed"
          },
          "daysRemaining": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Days Remaining",
            "description": "Number of days remaining in campaign (0 if completed)"
          }
        },
        "type": "object",
        "required": [
          "name",
          "brandId",
          "durationWeeks",
          "postsPerDay",
          "id",
          "userId",
          "status",
          "createdAt",
          "updatedAt"
        ],
        "title": "CampaignResponse",
        "description": "Schema for campaign responses."
      },
      "CampaignSpecificationRequest": {
        "properties": {},
        "type": "object",
        "title": "CampaignSpecificationRequest",
        "description": "Request schema for campaign specification generation (optional, can be empty)."
      },
      "CampaignSpecificationResponse": {
        "properties": {
          "keyFeatures": {
            "type": "string",
            "title": "Keyfeatures",
            "description": "Concise description of the product's benefits based on product features"
          },
          "audience": {
            "type": "string",
            "title": "Audience",
            "description": "Description of target audience including age, gender, interests, and emotional goals"
          },
          "purpose": {
            "type": "string",
            "title": "Purpose",
            "description": "Description explaining the goal of the campaign and its focus"
          }
        },
        "type": "object",
        "required": [
          "keyFeatures",
          "audience",
          "purpose"
        ],
        "title": "CampaignSpecificationResponse",
        "description": "Response schema for campaign specification generation.\n\nDirect port from V1 CampaignDetails.tsx JSON output format.",
        "example": {
          "audience": "Health-conscious millennials aged 25-40, interested in sustainability and wellness",
          "keyFeatures": "Premium organic ingredients, eco-friendly packaging, supports local farmers",
          "purpose": "Launch new product line focused on environmental responsibility and premium quality"
        }
      },
      "CampaignStatistics": {
        "properties": {
          "campaignId": {
            "type": "integer",
            "title": "Campaign ID"
          },
          "totalPosts": {
            "type": "integer",
            "title": "Total Posts"
          },
          "publishedPosts": {
            "type": "integer",
            "title": "Published Posts"
          },
          "scheduledPosts": {
            "type": "integer",
            "title": "Scheduled Posts"
          },
          "draftPosts": {
            "type": "integer",
            "title": "Draft Posts"
          },
          "totalImpressions": {
            "type": "integer",
            "title": "Total Impressions",
            "default": 0
          },
          "totalEngagements": {
            "type": "integer",
            "title": "Total Engagements",
            "default": 0
          },
          "averageEngagementRate": {
            "type": "number",
            "title": "Average Engagement Rate",
            "default": 0.0
          },
          "platformStats": {
            "additionalProperties": {
              "type": "object"
            },
            "type": "object",
            "title": "Platform Statistics"
          },
          "bestPerformingTime": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Best Performing Time"
          },
          "bestPerformingDay": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Best Performing Day"
          },
          "topPerformingPosts": {
            "items": {
              "type": "object"
            },
            "type": "array",
            "title": "Top Performing Posts"
          },
          "contentTypePerformance": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Content Type Performance"
          },
          "completionPercentage": {
            "type": "number",
            "title": "Campaign Completion %",
            "default": 0.0
          },
          "daysRemaining": {
            "type": "integer",
            "title": "Days Remaining",
            "default": 0
          },
          "postsRemaining": {
            "type": "integer",
            "title": "Posts Remaining",
            "default": 0
          },
          "approvedCount": {
            "type": "integer",
            "title": "Approved Content Count",
            "default": 0
          },
          "pendingReviewCount": {
            "type": "integer",
            "title": "Pending Review Content Count",
            "default": 0
          },
          "generatingCount": {
            "type": "integer",
            "title": "Generating Content Count",
            "default": 0
          },
          "exportedCount": {
            "type": "integer",
            "title": "Exported Content Count",
            "default": 0
          },
          "lastUpdated": {
            "type": "string",
            "format": "date-time",
            "title": "Last Updated"
          }
        },
        "type": "object",
        "required": [
          "campaignId",
          "totalPosts",
          "publishedPosts",
          "scheduledPosts",
          "draftPosts",
          "lastUpdated"
        ],
        "title": "CampaignStatistics",
        "description": "Schema for campaign statistics."
      },
      "CampaignStatus": {
        "type": "string",
        "enum": [
          "draft",
          "active",
          "paused",
          "completed",
          "archived"
        ],
        "title": "CampaignStatus",
        "description": "Campaign status enumeration."
      },
      "CampaignType": {
        "type": "string",
        "enum": [
          "image",
          "video"
        ],
        "title": "CampaignType",
        "description": "Campaign type enumeration for media content types."
      },
      "CampaignUpdate": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "brandId": {
            "anyOf": [
              {
                "type": "string",
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Brand ID",
            "description": "ID of the brand this campaign belongs to. Cannot be set to empty."
          },
          "durationWeeks": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 52.0,
                "minimum": 1.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Duration Weeks"
          },
          "postsPerDay": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 10.0,
                "minimum": 1.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Posts Per Day"
          },
          "status": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/CampaignStatus"
              },
              {
                "type": "null"
              }
            ]
          },
          "campaignType": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/CampaignType"
              },
              {
                "type": "null"
              }
            ],
            "title": "Campaign Type",
            "description": "Type of media content for the campaign"
          },
          "platforms": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Platforms",
            "description": "List of social media platforms for the campaign"
          },
          "intent": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Intent",
            "description": "Campaign intent or objective"
          },
          "campaignVariables": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "additionalProperties": true,
            "title": "Campaign Variables"
          },
          "audienceGender": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Audience Gender",
            "description": "Target audience gender list (e.g., ['female'], ['male', 'female'], ['diverse'])"
          },
          "audienceAgeRange": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Audience Age Range",
            "description": "Target audience age ranges (e.g., ['18-24'], ['25-34', '35-44'])"
          },
          "workflowId": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Workflow ID",
            "description": "ID of the content generation workflow execution"
          }
        },
        "type": "object",
        "title": "CampaignUpdate",
        "description": "Schema for updating an existing campaign."
      },
      "CampaignWorkflowResponse": {
        "properties": {
          "workflowId": {
            "type": "string",
            "title": "Workflowid",
            "description": "Unique workflow execution identifier"
          },
          "campaignId": {
            "type": "integer",
            "title": "Campaignid",
            "description": "Campaign identifier"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Overall workflow status: pending, running, completed, failed"
          },
          "steps": {
            "items": {
              "$ref": "#/components/schemas/CampaignWorkflowStep"
            },
            "type": "array",
            "title": "Steps",
            "description": "Workflow steps with status"
          },
          "createdAt": {
            "type": "string",
            "title": "Createdat",
            "description": "ISO timestamp when workflow was created"
          },
          "progress": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 100.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Progress",
            "description": "Overall progress percentage 0-100"
          },
          "currentStep": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Currentstep",
            "description": "Currently executing step"
          },
          "result": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Result",
            "description": "Final workflow result (only when completed)"
          }
        },
        "type": "object",
        "required": [
          "workflowId",
          "campaignId",
          "status",
          "steps",
          "createdAt"
        ],
        "title": "CampaignWorkflowResponse",
        "description": "Response from campaign content generation workflow."
      },
      "CampaignWorkflowStep": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Step name: planning, generating_text, generating_images, completed"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Step status: pending, running, completed, or failed"
          },
          "started_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Started At",
            "description": "ISO timestamp when step started"
          },
          "completed_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Completed At",
            "description": "ISO timestamp when step completed"
          }
        },
        "type": "object",
        "required": [
          "name",
          "status"
        ],
        "title": "CampaignWorkflowStep",
        "description": "Schema for campaign workflow step tracking."
      },
      "CaptionCreate": {
        "properties": {
          "text": {
            "type": "string",
            "title": "Text",
            "description": "Caption text"
          },
          "platform": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Platform",
            "description": "Target platform (instagram, facebook, linkedin)"
          },
          "tone": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tone",
            "description": "Desired tone (professional, casual, friendly)"
          },
          "hashtags": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Hashtags",
            "description": "Hashtags to include"
          },
          "maxLength": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Maxlength",
            "description": "Maximum caption length"
          },
          "brandVoice": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Brandvoice",
            "description": "Brand voice guidelines"
          }
        },
        "type": "object",
        "required": [
          "text"
        ],
        "title": "CaptionCreate",
        "description": "Schema for creating a caption."
      },
      "CaptionRegenerateRequest": {
        "properties": {
          "feedback": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Feedback",
            "description": "User feedback on current caption"
          },
          "adjustments": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Adjustments",
            "description": "Specific adjustments to make"
          },
          "tone": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tone",
            "description": "New tone to apply"
          },
          "maxLength": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Maxlength",
            "description": "New maximum length"
          },
          "includeHashtags": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Includehashtags",
            "description": "Whether to include hashtags",
            "default": true
          }
        },
        "type": "object",
        "title": "CaptionRegenerateRequest",
        "description": "Schema for regenerating a caption."
      },
      "CaptionResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Caption ID"
          },
          "contentId": {
            "type": "string",
            "title": "Contentid",
            "description": "Parent content ID"
          },
          "text": {
            "type": "string",
            "title": "Text",
            "description": "Caption text"
          },
          "platform": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Platform",
            "description": "Target platform"
          },
          "tone": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tone",
            "description": "Caption tone"
          },
          "hashtags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Hashtags",
            "description": "Included hashtags"
          },
          "approved": {
            "type": "boolean",
            "title": "Approved",
            "description": "Approval status",
            "default": false
          },
          "generatedAt": {
            "type": "string",
            "format": "date-time",
            "title": "Generatedat",
            "description": "Generation timestamp"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "title": "Updatedat",
            "description": "Last update timestamp"
          },
          "metadata": {
            "type": "object",
            "title": "Metadata",
            "description": "Additional metadata"
          }
        },
        "type": "object",
        "required": [
          "id",
          "contentId",
          "text",
          "generatedAt",
          "updatedAt"
        ],
        "title": "CaptionResponse",
        "description": "Schema for caption response."
      },
      "CategoryBreakdown": {
        "properties": {
          "personalityTraits": {
            "type": "integer",
            "title": "Personalitytraits",
            "description": "Number of personality traits",
            "default": 0
          },
          "products": {
            "type": "integer",
            "title": "Products",
            "description": "Number of products",
            "default": 0
          },
          "colorPalette": {
            "type": "integer",
            "title": "Colorpalette",
            "description": "Number of colors in palette",
            "default": 0
          }
        },
        "type": "object",
        "title": "CategoryBreakdown",
        "description": "Category breakdown for brand knowledge."
      },
      "ContentApprovalRequest": {
        "properties": {
          "campaign_content_id": {
            "type": "string",
            "title": "Campaign Content Id",
            "description": "ID of the content document"
          },
          "week": {
            "type": "integer",
            "minimum": 1.0,
            "title": "Week",
            "description": "Week number (1-indexed)"
          },
          "day": {
            "type": "integer",
            "maximum": 7.0,
            "minimum": 1.0,
            "title": "Day",
            "description": "Day number (1-7)"
          },
          "approved": {
            "type": "boolean",
            "title": "Approved",
            "description": "Whether to approve or unapprove"
          },
          "timezone": {
            "type": "string",
            "title": "Timezone",
            "description": "Timezone for scheduling"
          },
          "posts": {
            "patternProperties": {
              "^post_\\d+$": {
                "$ref": "#/components/schemas/PostContent"
              }
            },
            "type": "object",
            "title": "Posts",
            "description": "Map of post keys to post content"
          }
        },
        "type": "object",
        "required": [
          "campaign_content_id",
          "week",
          "day",
          "approved",
          "timezone",
          "posts"
        ],
        "title": "ContentApprovalRequest",
        "description": "Request schema for approving/unapproving content for a specific day.\n\nThis is a direct port of V1's ApproveRequest schema."
      },
      "ContentApprovalResponse": {
        "properties": {
          "approved": {
            "type": "boolean",
            "title": "Approved",
            "description": "Whether the day is approved"
          },
          "posts": {
            "additionalProperties": {
              "type": "object"
            },
            "type": "object",
            "title": "Posts",
            "description": "Updated posts data"
          }
        },
        "type": "object",
        "required": [
          "approved",
          "posts"
        ],
        "title": "ContentApprovalResponse",
        "description": "Response schema for content approval.\n\nReturns the updated day data after approval/unapproval."
      },
      "ContentExport": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "campaignId": {
            "type": "integer",
            "title": "Campaignid"
          },
          "totalPosts": {
            "type": "integer",
            "title": "Totalposts"
          },
          "readyForReview": {
            "type": "integer",
            "title": "Readyforreview"
          },
          "approved": {
            "type": "integer",
            "title": "Approved"
          },
          "contentData": {
            "type": "object",
            "title": "Contentdata"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "title": "Createdat"
          }
        },
        "type": "object",
        "required": [
          "id",
          "campaignId",
          "totalPosts",
          "readyForReview",
          "approved",
          "createdAt"
        ],
        "title": "ContentExport",
        "description": "Content data for export documents (organized by week/day/post)."
      },
      "ContentExportCreate": {
        "properties": {
          "platform": {
            "type": "string",
            "title": "Platform",
            "description": "Platform where content was exported (instagram, facebook, linkedin, etc.)",
            "examples": [
              "instagram",
              "facebook",
              "linkedin",
              "twitter"
            ]
          },
          "exported_at": {
            "type": "string",
            "format": "date-time",
            "title": "Exported At",
            "description": "Timestamp when the content was exported"
          },
          "metadata": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "additionalProperties": true,
            "title": "Metadata",
            "description": "Additional export metadata (post URL, platform-specific IDs, etc.)"
          }
        },
        "type": "object",
        "required": [
          "platform",
          "exported_at"
        ],
        "title": "ContentExportCreate",
        "description": "Schema for creating a new content export record.\n\nRMM L2: Creating an export is creating a resource, not an action."
      },
      "ContentExportListResponse": {
        "properties": {
          "content_id": {
            "type": "string",
            "title": "Content Id",
            "description": "ID of the content"
          },
          "exports": {
            "items": {
              "$ref": "#/components/schemas/ContentExportResponse"
            },
            "type": "array",
            "title": "Exports",
            "description": "List of export records for this content"
          },
          "total_exports": {
            "type": "integer",
            "title": "Total Exports",
            "description": "Total number of exports"
          }
        },
        "type": "object",
        "required": [
          "content_id",
          "exports",
          "total_exports"
        ],
        "title": "ContentExportListResponse",
        "description": "Schema for list of content exports.\n\nRMM L2: GET /content/{id}/exports returns list of export resources."
      },
      "ContentExportResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Unique identifier for the export record"
          },
          "content_id": {
            "type": "string",
            "title": "Content Id",
            "description": "ID of the content that was exported"
          },
          "platform": {
            "type": "string",
            "title": "Platform",
            "description": "Platform where content was exported"
          },
          "exported_at": {
            "type": "string",
            "title": "Exported At",
            "description": "Timestamp when content was exported"
          },
          "created_at": {
            "type": "string",
            "title": "Created At",
            "description": "When the export record was created"
          },
          "metadata": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "additionalProperties": true,
            "title": "Metadata",
            "description": "Additional export metadata"
          }
        },
        "type": "object",
        "required": [
          "id",
          "content_id",
          "platform",
          "exported_at",
          "created_at"
        ],
        "title": "ContentExportResponse",
        "description": "Schema for content export response.\n\nRMM L2: Response includes the created export resource with its ID."
      },
      "ContentFeedbackAggregates": {
        "properties": {
          "campaignId": {
            "type": "string",
            "title": "Campaignid"
          },
          "totalFeedbackCount": {
            "type": "integer",
            "title": "Totalfeedbackcount",
            "description": "Total number of feedback submissions",
            "default": 0
          },
          "thumbsUpCount": {
            "type": "integer",
            "title": "Thumbsupcount",
            "description": "Number of thumbs up ratings",
            "default": 0
          },
          "thumbsDownCount": {
            "type": "integer",
            "title": "Thumbsdowncount",
            "description": "Number of thumbs down ratings",
            "default": 0
          },
          "averageQualityRating": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Averagequalityrating",
            "description": "Average quality rating (1-5)"
          },
          "averageDiversityRating": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Averagediversityrating",
            "description": "Average diversity rating (1-5)"
          },
          "tagDistribution": {
            "type": "object",
            "title": "Tagdistribution",
            "description": "Count of each tag used"
          },
          "sceneTypeAccuracy": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Scenetypeaccuracy",
            "description": "Percentage of correct scene type classifications"
          }
        },
        "type": "object",
        "required": [
          "campaignId"
        ],
        "title": "ContentFeedbackAggregates",
        "description": "Schema for aggregated feedback statistics.\n\nUsed for GET /feedback/aggregates endpoint."
      },
      "ContentFeedbackBatchCreate": {
        "properties": {
          "feedbackItems": {
            "items": {
              "$ref": "#/components/schemas/ContentFeedbackCreate"
            },
            "type": "array",
            "title": "Feedbackitems",
            "description": "List of feedback items to submit"
          }
        },
        "type": "object",
        "required": [
          "feedbackItems"
        ],
        "title": "ContentFeedbackBatchCreate",
        "description": "Schema for batch feedback submission.\n\nUsed for POST /feedback/batch/collect endpoint."
      },
      "ContentFeedbackCreate": {
        "properties": {
          "pairId": {
            "type": "string",
            "title": "Pairid",
            "description": "Content/Post ID being reviewed"
          },
          "thumbs": {
            "anyOf": [
              {
                "type": "string",
                "enum": [
                  "up",
                  "down"
                ]
              },
              {
                "type": "null"
              }
            ],
            "title": "Thumbs",
            "description": "Thumbs up/down rating"
          },
          "tags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Tags",
            "description": "Feedback tags like 'diversity', 'on-brand', 'low-quality'"
          },
          "qualityRating": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 5.0,
                "minimum": 1.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Qualityrating",
            "description": "1-5 star quality rating"
          },
          "diversityRating": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 5.0,
                "minimum": 1.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Diversityrating",
            "description": "1-5 star diversity rating"
          },
          "comments": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Comments",
            "description": "Free-form text feedback"
          },
          "sceneTypeCorrect": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Scenetypecorrect",
            "description": "Whether scene type classification was correct"
          },
          "subtypeMatch": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Subtypematch",
            "description": "Subtype match feedback"
          }
        },
        "type": "object",
        "required": [
          "pairId"
        ],
        "title": "ContentFeedbackCreate",
        "description": "Schema for creating content feedback.\n\nUsed for POST /outputs/{pair_id}/feedback endpoint."
      },
      "ContentFeedbackResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "pairId": {
            "type": "string",
            "title": "Pairid"
          },
          "campaignId": {
            "type": "string",
            "title": "Campaignid"
          },
          "userId": {
            "type": "string",
            "title": "Userid"
          },
          "thumbs": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Thumbs"
          },
          "tags": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tags"
          },
          "qualityRating": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Qualityrating"
          },
          "diversityRating": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Diversityrating"
          },
          "comments": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Comments"
          },
          "sceneTypeCorrect": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Scenetypecorrect"
          },
          "subtypeMatch": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Subtypematch"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "title": "Createdat"
          }
        },
        "type": "object",
        "required": [
          "id",
          "pairId",
          "campaignId",
          "userId",
          "createdAt"
        ],
        "title": "ContentFeedbackResponse",
        "description": "Schema for content feedback response."
      },
      "ContentGenerationResponse": {
        "properties": {
          "campaignId": {
            "type": "integer",
            "title": "Campaign ID",
            "description": "ID of the campaign for which content generation was triggered"
          },
          "messageId": {
            "type": "string",
            "title": "Message ID",
            "description": "ID of the published message for tracking"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Request status (accepted)",
            "default": "accepted"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Human-readable status message",
            "default": "Content generation request accepted"
          }
        },
        "type": "object",
        "required": [
          "campaignId",
          "messageId"
        ],
        "title": "ContentGenerationResponse",
        "description": "Response schema for content generation request.\n\nReturns when a content generation request has been published.\nThe actual generation happens asynchronously."
      },
      "ContentImageGenerateRequest": {
        "properties": {
          "week": {
            "type": "integer",
            "minimum": 1.0,
            "title": "Week",
            "description": "Week number (1-indexed)"
          },
          "day": {
            "type": "integer",
            "maximum": 7.0,
            "minimum": 1.0,
            "title": "Day",
            "description": "Day number (1-7)"
          },
          "post": {
            "type": "integer",
            "minimum": 1.0,
            "title": "Post",
            "description": "Post number (1-indexed)"
          },
          "prompt": {
            "type": "string",
            "title": "Prompt",
            "description": "Image generation prompt"
          },
          "model": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Model",
            "description": "Image model to use (dall-e-3, flux, etc.)",
            "default": "dall-e-3"
          }
        },
        "type": "object",
        "required": [
          "week",
          "day",
          "post",
          "prompt"
        ],
        "title": "ContentImageGenerateRequest",
        "description": "Schema for generating a new content image."
      },
      "ContentImageRegenerateRequest": {
        "properties": {
          "customPrompt": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Customprompt",
            "description": "Optional custom prompt for regeneration. If not provided, uses existing prompt."
          }
        },
        "type": "object",
        "title": "ContentImageRegenerateRequest",
        "description": "Schema for regenerating an existing content image.\n\nIssue #1345: Restore image regeneration endpoint."
      },
      "ContentImageResponse": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id",
            "description": "Image ID"
          },
          "content_id": {
            "type": "integer",
            "title": "Content Id",
            "description": "Content ID"
          },
          "week_num": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Week Num",
            "description": "Week number (1-indexed, optional)"
          },
          "day_num": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Day Num",
            "description": "Day number (1-7, optional)"
          },
          "post_num": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Post Num",
            "description": "Post number (1-indexed, optional)"
          },
          "image_url": {
            "type": "string",
            "title": "Image Url",
            "description": "URL of the image"
          },
          "image_prompt": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Image Prompt",
            "description": "Prompt used to generate the image"
          },
          "caption": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Caption",
            "description": "Image caption or alt text"
          },
          "generation_count": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Generation Count",
            "description": "Number of times image was generated"
          },
          "model_used": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Model Used",
            "description": "Model used for generation"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "Creation timestamp"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At",
            "description": "Last update timestamp"
          }
        },
        "type": "object",
        "required": [
          "id",
          "content_id",
          "image_url",
          "created_at",
          "updated_at"
        ],
        "title": "ContentImageResponse",
        "description": "Schema for content image response."
      },
      "ContentImageUpdate": {
        "properties": {
          "imagePrompt": {
            "type": "string",
            "title": "Imageprompt",
            "description": "New prompt for image regeneration"
          }
        },
        "type": "object",
        "required": [
          "imagePrompt"
        ],
        "title": "ContentImageUpdate",
        "description": "Schema for updating a content image."
      },
      "ContentImageUploadRequest": {
        "properties": {
          "url": {
            "type": "string",
            "minLength": 1,
            "title": "Url",
            "description": "URL of the image to associate"
          },
          "caption": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Caption",
            "description": "Image caption or alt text"
          },
          "altText": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Alttext",
            "description": "Accessibility alt text"
          },
          "width": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Width",
            "description": "Image width in pixels"
          },
          "height": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Height",
            "description": "Image height in pixels"
          }
        },
        "type": "object",
        "required": [
          "url"
        ],
        "title": "ContentImageUploadRequest",
        "description": "Schema for uploading/associating an existing image with content."
      },
      "ContentItemForScoring": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Content item ID"
          },
          "sceneType": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Scenetype",
            "description": "Scene type (human, product, ingredient)"
          },
          "sceneSubtype": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Scenesubtype",
            "description": "Scene subtype (solo, group, hero, macro, etc.)"
          },
          "shotAngle": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Shotangle",
            "description": "Shot angle (wide, medium, close, top-down)"
          },
          "backdrop": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Backdrop",
            "description": "Backdrop type (studio, in-home, outdoor, retail)"
          },
          "lens": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Lens",
            "description": "Lens type (35mm, 50mm, 85mm, macro)"
          },
          "lighting": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Lighting",
            "description": "Lighting style (natural, studio, dramatic, soft)"
          },
          "diversityTags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Diversitytags",
            "description": "Additional diversity tags"
          }
        },
        "type": "object",
        "required": [
          "id"
        ],
        "title": "ContentItemForScoring",
        "description": "Content item structure for diversity scoring.\n\nThis represents the minimal fields needed from content items\nto calculate diversity scores."
      },
      "ContentPromptResponse": {
        "properties": {
          "contentId": {
            "type": "string",
            "title": "Contentid"
          },
          "imagePrompt": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Imageprompt"
          },
          "imagePrompts": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Imageprompts"
          },
          "postId": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Postid"
          },
          "week": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Week"
          },
          "day": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Day"
          }
        },
        "type": "object",
        "required": [
          "contentId"
        ],
        "title": "ContentPromptResponse",
        "description": "Schema for content prompt response.\n\nReturns image_prompt data for a specific content item.\nUsed by frontend to display/edit image generation prompts."
      },
      "ContentPromptUpdate": {
        "properties": {
          "imagePrompt": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Imageprompt"
          },
          "postId": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Postid"
          },
          "week": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Week"
          },
          "day": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Day"
          }
        },
        "type": "object",
        "title": "ContentPromptUpdate",
        "description": "Schema for updating content prompt.\n\nAllows updating image_prompt for a content item."
      },
      "ContentResponse": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "campaignId": {
            "type": "integer",
            "title": "Campaignid"
          },
          "userId": {
            "type": "string",
            "title": "Userid"
          },
          "readyForReview": {
            "type": "integer",
            "title": "Readyforreview"
          },
          "approved": {
            "type": "integer",
            "title": "Approved"
          },
          "exported": {
            "type": "integer",
            "title": "Exported"
          },
          "published": {
            "type": "boolean",
            "title": "Published"
          },
          "totalPosts": {
            "type": "integer",
            "title": "Totalposts"
          },
          "generationCount": {
            "type": "integer",
            "title": "Generationcount",
            "default": 1
          },
          "contentData": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Contentdata"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "title": "Createdat"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "title": "Updatedat"
          }
        },
        "type": "object",
        "required": [
          "id",
          "campaignId",
          "userId",
          "readyForReview",
          "approved",
          "exported",
          "published",
          "totalPosts",
          "contentData",
          "createdAt",
          "updatedAt"
        ],
        "title": "ContentResponse",
        "description": "Schema for content response."
      },
      "ContentStatus": {
        "type": "string",
        "enum": [
          "draft",
          "pending",
          "approved",
          "published",
          "rejected"
        ],
        "title": "ContentStatus",
        "description": "Valid content status values."
      },
      "ContentStatusResponse": {
        "properties": {
          "contentId": {
            "type": "string",
            "title": "Contentid",
            "description": "ID of the content"
          },
          "status": {
            "$ref": "#/components/schemas/ContentStatus",
            "description": "Current status of the content"
          },
          "approvedBy": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Approvedby",
            "description": "User ID who approved the content"
          },
          "approvedAt": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Approvedat",
            "description": "Timestamp when content was approved"
          },
          "rejectedBy": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Rejectedby",
            "description": "User ID who rejected the content"
          },
          "rejectedAt": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Rejectedat",
            "description": "Timestamp when content was rejected"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes",
            "description": "Notes about the status change"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "title": "Updatedat",
            "description": "Timestamp of the status update"
          }
        },
        "type": "object",
        "required": [
          "contentId",
          "status",
          "updatedAt"
        ],
        "title": "ContentStatusResponse",
        "description": "Response after updating content status.\n\nReturns the updated content with its new status and metadata.",
        "example": {
          "approvedAt": "2025-10-02T18:20:00Z",
          "approvedBy": "user123",
          "contentId": "content123",
          "status": "approved",
          "updatedAt": "2025-10-02T18:20:00Z"
        }
      },
      "ContentStatusUpdate": {
        "properties": {
          "status": {
            "$ref": "#/components/schemas/ContentStatus",
            "description": "New status for the content"
          },
          "approvedBy": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Approvedby",
            "description": "User ID who approved/rejected the content"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes",
            "description": "Optional notes about the status change"
          }
        },
        "type": "object",
        "required": [
          "status"
        ],
        "title": "ContentStatusUpdate",
        "description": "Request to update content status.\n\nRMM L2 Compliance: PATCH updates a specific field (status) on the content resource.",
        "example": {
          "approvedBy": "user123",
          "notes": "Looks great!",
          "status": "approved"
        }
      },
      "ContentUpdate": {
        "properties": {
          "readyForReview": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Readyforreview"
          },
          "approved": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Approved"
          },
          "exported": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Exported"
          },
          "published": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Published"
          },
          "totalPosts": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Totalposts"
          },
          "generationCount": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Generationcount"
          },
          "contentData": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Contentdata"
          }
        },
        "type": "object",
        "title": "ContentUpdate",
        "description": "Schema for updating content."
      },
      "ContentVersionCreate": {
        "properties": {
          "parent_content_id": {
            "type": "string",
            "title": "Parent Content Id",
            "description": "ID of the parent content being versioned"
          },
          "custom_prompt": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Custom Prompt",
            "description": "Optional custom prompt for image generation. If not provided, uses parent's prompt."
          }
        },
        "type": "object",
        "required": [
          "parent_content_id"
        ],
        "title": "ContentVersionCreate",
        "description": "Request schema for creating a new content version.\n\nReplaces V1's RegenerationRequest with REST resource approach.\nInstead of \"regenerating\", we're creating a new version.",
        "example": {
          "custom_prompt": "Modern office workspace with natural lighting",
          "parent_content_id": "content-123"
        }
      },
      "ContentVersionResponse": {
        "properties": {
          "version_id": {
            "type": "string",
            "title": "Version Id",
            "description": "Unique ID for this version"
          },
          "parent_content_id": {
            "type": "string",
            "title": "Parent Content Id",
            "description": "ID of parent content"
          },
          "image_url": {
            "type": "string",
            "title": "Image Url",
            "description": "URL of newly generated image"
          },
          "caption_text": {
            "type": "string",
            "title": "Caption Text",
            "description": "Generated caption text"
          },
          "prompt": {
            "type": "string",
            "title": "Prompt",
            "description": "Prompt used for generation"
          },
          "generation_count": {
            "type": "integer",
            "title": "Generation Count",
            "description": "Total number of versions generated for this content"
          },
          "remaining_generations": {
            "type": "integer",
            "title": "Remaining Generations",
            "description": "Remaining generations available in quota"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "Version creation timestamp"
          }
        },
        "type": "object",
        "required": [
          "version_id",
          "parent_content_id",
          "image_url",
          "caption_text",
          "prompt",
          "generation_count",
          "remaining_generations",
          "created_at"
        ],
        "title": "ContentVersionResponse",
        "description": "Response schema for content version creation.\n\nReturns the newly created version with metadata and remaining quota.",
        "example": {
          "caption_text": "Innovative workspace design for modern teams",
          "created_at": "2024-01-15T10:30:00Z",
          "generation_count": 2,
          "image_url": "https://cdn.example.com/image-789.jpg",
          "parent_content_id": "content-123",
          "prompt": "Modern office workspace with natural lighting",
          "remaining_generations": 8,
          "version_id": "version-456"
        }
      },
      "CrawlErrorSummary": {
        "properties": {
          "error_code": {
            "type": "string",
            "title": "Error Code",
            "description": "Error classification code"
          },
          "error_count": {
            "type": "integer",
            "title": "Error Count",
            "description": "Number of occurrences"
          },
          "error_message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Message",
            "description": "Sample error message for this type"
          },
          "last_occurrence": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Occurrence",
            "description": "Most recent occurrence of this error"
          }
        },
        "type": "object",
        "required": [
          "error_code",
          "error_count"
        ],
        "title": "CrawlErrorSummary",
        "description": "Summary of a specific crawl error type."
      },
      "CrawlStatsBrands": {
        "properties": {
          "brands": {
            "items": {
              "$ref": "#/components/schemas/BrandCrawlPerformance"
            },
            "type": "array",
            "title": "Brands",
            "description": "Performance metrics per brand"
          },
          "period_days": {
            "type": "integer",
            "title": "Period Days",
            "description": "Number of days covered"
          }
        },
        "type": "object",
        "required": [
          "brands",
          "period_days"
        ],
        "title": "CrawlStatsBrands",
        "description": "Brand-level crawl performance statistics."
      },
      "CrawlStatsErrors": {
        "properties": {
          "top_errors": {
            "items": {
              "$ref": "#/components/schemas/CrawlErrorSummary"
            },
            "type": "array",
            "title": "Top Errors",
            "description": "Most common error types"
          },
          "total_errors": {
            "type": "integer",
            "title": "Total Errors",
            "description": "Total error count in period"
          },
          "period_days": {
            "type": "integer",
            "title": "Period Days",
            "description": "Number of days covered"
          }
        },
        "type": "object",
        "required": [
          "top_errors",
          "total_errors",
          "period_days"
        ],
        "title": "CrawlStatsErrors",
        "description": "Error analysis for crawl failures."
      },
      "CrawlStatsOverview": {
        "properties": {
          "total_brands_crawled": {
            "type": "integer",
            "title": "Total Brands Crawled",
            "description": "Total number of brands with crawl activity"
          },
          "average_success_rate": {
            "type": "number",
            "title": "Average Success Rate",
            "description": "Overall success rate as percentage (0-100)"
          },
          "average_crawl_time_seconds": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Average Crawl Time Seconds",
            "description": "Average time to complete crawl (seconds)"
          },
          "pages_crawled_total": {
            "type": "integer",
            "title": "Pages Crawled Total",
            "description": "Total pages successfully crawled in period"
          },
          "period_days": {
            "type": "integer",
            "title": "Period Days",
            "description": "Number of days covered by stats"
          }
        },
        "type": "object",
        "required": [
          "total_brands_crawled",
          "average_success_rate",
          "pages_crawled_total",
          "period_days"
        ],
        "title": "CrawlStatsOverview",
        "description": "Overview statistics for crawl monitoring."
      },
      "CrawlStatsTrends": {
        "properties": {
          "data_points": {
            "items": {
              "$ref": "#/components/schemas/CrawlTrendDataPoint"
            },
            "type": "array",
            "title": "Data Points",
            "description": "Time series data points"
          },
          "period_days": {
            "type": "integer",
            "title": "Period Days",
            "description": "Number of days covered"
          },
          "interval": {
            "type": "string",
            "title": "Interval",
            "description": "Aggregation interval (day, hour)"
          }
        },
        "type": "object",
        "required": [
          "data_points",
          "period_days",
          "interval"
        ],
        "title": "CrawlStatsTrends",
        "description": "Time series trends for crawl performance."
      },
      "CrawlStatsView": {
        "type": "string",
        "enum": [
          "overview",
          "trends",
          "errors",
          "brands"
        ],
        "title": "CrawlStatsView",
        "description": "View types for unified crawl stats endpoint."
      },
      "CrawlTrendDataPoint": {
        "properties": {
          "date": {
            "type": "string",
            "title": "Date",
            "description": "Date in ISO format (YYYY-MM-DD)"
          },
          "completed_count": {
            "type": "integer",
            "title": "Completed Count",
            "description": "Crawls completed on this date"
          },
          "failed_count": {
            "type": "integer",
            "title": "Failed Count",
            "description": "Crawls failed on this date"
          },
          "success_rate": {
            "type": "number",
            "title": "Success Rate",
            "description": "Success rate percentage for date"
          }
        },
        "type": "object",
        "required": [
          "date",
          "completed_count",
          "failed_count",
          "success_rate"
        ],
        "title": "CrawlTrendDataPoint",
        "description": "Single data point in crawl trends time series."
      },
      "CreateVersionRequest": {
        "properties": {
          "target": {
            "$ref": "#/components/schemas/VersionRequestTarget",
            "description": "What to regenerate: text, media, or all"
          },
          "mediaId": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Mediaid",
            "description": "Required when target='media'. ID of media to regenerate."
          },
          "modifications": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/VersionModifications"
              },
              {
                "type": "null"
              }
            ],
            "description": "Modification parameters for regeneration"
          }
        },
        "type": "object",
        "required": [
          "target"
        ],
        "title": "CreateVersionRequest",
        "description": "Request to create a new post version."
      },
      "CreateVersionResponse": {
        "properties": {
          "versionRequestId": {
            "type": "string",
            "title": "Versionrequestid",
            "description": "UUID of the version request"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Initial status",
            "default": "pending"
          },
          "statusUrl": {
            "type": "string",
            "title": "Statusurl",
            "description": "URL to poll for status"
          },
          "estimatedCompletionSeconds": {
            "type": "integer",
            "title": "Estimatedcompletionseconds",
            "description": "Estimated seconds to completion",
            "default": 30
          }
        },
        "type": "object",
        "required": [
          "versionRequestId",
          "statusUrl"
        ],
        "title": "CreateVersionResponse",
        "description": "Response when version request is accepted (202 Accepted)."
      },
      "DayContent": {
        "properties": {
          "dayNumber": {
            "type": "integer",
            "title": "Daynumber"
          },
          "approved": {
            "type": "boolean",
            "title": "Approved",
            "default": false
          },
          "postsToGenerate": {
            "type": "integer",
            "title": "Poststogenerate",
            "default": 3
          },
          "posts": {
            "items": {
              "$ref": "#/components/schemas/PostSchema"
            },
            "type": "array",
            "title": "Posts"
          }
        },
        "type": "object",
        "required": [
          "dayNumber"
        ],
        "title": "DayContent",
        "description": "Schema for daily content."
      },
      "DiversityMetrics": {
        "properties": {
          "contentTypeDiversity": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Contenttypediversity",
            "description": "Diversity score for content types (0-1)"
          },
          "themeCoverage": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Themecoverage",
            "description": "Theme coverage score (0-1)"
          },
          "temporalDistribution": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Temporaldistribution",
            "description": "How evenly content is distributed over time (0-1)"
          },
          "overallScore": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Overallscore",
            "description": "Overall diversity score (0-1)"
          }
        },
        "type": "object",
        "required": [
          "contentTypeDiversity",
          "themeCoverage",
          "temporalDistribution",
          "overallScore"
        ],
        "title": "DiversityMetrics",
        "description": "Diversity metrics for plan preview."
      },
      "DiversityMetricsResponse": {
        "properties": {
          "campaignId": {
            "type": "string",
            "title": "Campaignid",
            "description": "Campaign ID"
          },
          "diversityScore": {
            "$ref": "#/components/schemas/DiversityScore",
            "description": "Overall diversity score and breakdown"
          },
          "shotDiversity": {
            "$ref": "#/components/schemas/ShotDiversityMetrics",
            "description": "Detailed shot diversity metrics"
          },
          "sceneMixValidation": {
            "$ref": "#/components/schemas/SceneMixValidationResult",
            "description": "Scene mix validation results"
          },
          "recommendations": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Recommendations",
            "description": "Recommendations for improving diversity"
          }
        },
        "type": "object",
        "required": [
          "campaignId",
          "diversityScore",
          "shotDiversity",
          "sceneMixValidation"
        ],
        "title": "DiversityMetricsResponse",
        "description": "Full diversity metrics response for API endpoint."
      },
      "DiversityScore": {
        "properties": {
          "campaignId": {
            "type": "string",
            "title": "Campaignid",
            "description": "Campaign ID"
          },
          "overallScore": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Overallscore",
            "description": "Overall diversity score (0-1)",
            "default": 0.0
          },
          "sceneTypeScore": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Scenetypescore",
            "description": "Scene type distribution score (0-1)",
            "default": 0.0
          },
          "subtypeVarietyScore": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Subtypevarietyscore",
            "description": "Subtype variety score (0-1)",
            "default": 0.0
          },
          "shotDiversityScore": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Shotdiversityscore",
            "description": "Shot diversity score (0-1)",
            "default": 0.0
          },
          "meetsThreshold": {
            "type": "boolean",
            "title": "Meetsthreshold",
            "description": "Whether score meets configured threshold",
            "default": true
          },
          "threshold": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Threshold",
            "description": "Configured diversity threshold",
            "default": 0.7
          },
          "contentCount": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Contentcount",
            "description": "Number of content items analyzed",
            "default": 0
          },
          "calculatedAt": {
            "type": "string",
            "format": "date-time",
            "title": "Calculatedat",
            "description": "When the score was calculated"
          }
        },
        "type": "object",
        "required": [
          "campaignId"
        ],
        "title": "DiversityScore",
        "description": "Complete diversity score for a content set."
      },
      "EmailVerificationRequest": {
        "properties": {
          "token": {
            "type": "string",
            "minLength": 1,
            "title": "Token",
            "description": "Verification token from email"
          }
        },
        "type": "object",
        "required": [
          "token"
        ],
        "title": "EmailVerificationRequest",
        "description": "Schema for email verification request.\n\nFor POST /api/v2/verifications endpoint.\nVerifies user email using token from verification email."
      },
      "ForgotPasswordRequest": {
        "properties": {
          "email": {
            "type": "string",
            "format": "email",
            "title": "Email",
            "description": "User email address"
          }
        },
        "type": "object",
        "required": [
          "email"
        ],
        "title": "ForgotPasswordRequest",
        "description": "Schema for forgot password request.\n\nFor POST /api/v2/auth/forgot-password endpoint.\nInitiates password reset flow by sending email with reset token."
      },
      "ForgotPasswordResponse": {
        "properties": {
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Generic success message",
            "default": "If the email exists, a password reset link has been sent."
          }
        },
        "type": "object",
        "title": "ForgotPasswordResponse",
        "description": "Schema for forgot password response.\n\nReturns confirmation message without revealing if email exists."
      },
      "GeneratedContent": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "campaignId": {
            "type": "integer",
            "title": "Campaignid"
          },
          "userId": {
            "type": "string",
            "title": "Userid"
          },
          "readyForReview": {
            "type": "integer",
            "title": "Readyforreview"
          },
          "approved": {
            "type": "integer",
            "title": "Approved"
          },
          "exported": {
            "type": "integer",
            "title": "Exported"
          },
          "published": {
            "type": "boolean",
            "title": "Published"
          },
          "totalPosts": {
            "type": "integer",
            "title": "Totalposts"
          },
          "weeks": {
            "items": {
              "$ref": "#/components/schemas/WeekContent"
            },
            "type": "array",
            "title": "Weeks"
          }
        },
        "type": "object",
        "required": [
          "id",
          "campaignId",
          "userId",
          "readyForReview",
          "approved",
          "exported",
          "published",
          "totalPosts"
        ],
        "title": "GeneratedContent",
        "description": "Schema for generated content with nested structure."
      },
      "HTTPValidationError": {
        "properties": {
          "detail": {
            "items": {
              "$ref": "#/components/schemas/ValidationError"
            },
            "type": "array",
            "title": "Detail"
          }
        },
        "type": "object",
        "title": "HTTPValidationError"
      },
      "InstagramOAuthRequest": {
        "properties": {
          "code": {
            "type": "string",
            "minLength": 1,
            "title": "Code",
            "description": "Authorization code from Instagram OAuth callback"
          },
          "redirectUri": {
            "type": "string",
            "minLength": 1,
            "title": "Redirecturi",
            "description": "Redirect URI used in authorization request"
          }
        },
        "type": "object",
        "required": [
          "code",
          "redirectUri"
        ],
        "title": "InstagramOAuthRequest",
        "description": "Schema for Instagram OAuth token exchange request."
      },
      "InstagramOAuthResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Instagram account ID"
          },
          "userName": {
            "type": "string",
            "title": "Username",
            "description": "Instagram username"
          },
          "accessToken": {
            "type": "string",
            "title": "Accesstoken",
            "description": "Long-lived access token"
          },
          "expiresIn": {
            "type": "integer",
            "title": "Expiresin",
            "description": "Token expiration time in seconds"
          },
          "issuedAt": {
            "type": "string",
            "format": "date-time",
            "title": "Issuedat",
            "description": "Token issuance timestamp"
          },
          "userId": {
            "type": "string",
            "title": "Userid",
            "description": "Associated user ID from our system"
          }
        },
        "type": "object",
        "required": [
          "id",
          "userName",
          "accessToken",
          "expiresIn",
          "issuedAt",
          "userId"
        ],
        "title": "InstagramOAuthResponse",
        "description": "Schema for Instagram OAuth token exchange response."
      },
      "IntegrationAuthRequest": {
        "properties": {
          "authCode": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Authcode",
            "description": "OAuth authorization code"
          },
          "accessToken": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Accesstoken",
            "description": "Direct access token"
          },
          "refreshToken": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Refreshtoken",
            "description": "Refresh token"
          },
          "scope": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Scope",
            "description": "Requested permissions"
          },
          "metadata": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metadata",
            "description": "Platform-specific metadata"
          }
        },
        "type": "object",
        "title": "IntegrationAuthRequest",
        "description": "Schema for integration authentication request."
      },
      "IntegrationRedirectRequest": {
        "properties": {
          "platform": {
            "type": "string",
            "title": "Platform",
            "description": "Platform name (instagram, facebook, linkedin, twitter)"
          },
          "scope": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Scope",
            "description": "Requested OAuth scopes"
          },
          "state": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "State",
            "description": "State parameter for OAuth flow"
          }
        },
        "type": "object",
        "required": [
          "platform"
        ],
        "title": "IntegrationRedirectRequest",
        "description": "Schema for integration redirect URI request."
      },
      "IntegrationRedirectResponse": {
        "properties": {
          "redirectUri": {
            "type": "string",
            "title": "Redirecturi",
            "description": "OAuth redirect URI"
          },
          "state": {
            "type": "string",
            "title": "State",
            "description": "State parameter to verify callback"
          },
          "expiresAt": {
            "type": "string",
            "format": "date-time",
            "title": "Expiresat",
            "description": "Expiration time for this redirect"
          }
        },
        "type": "object",
        "required": [
          "redirectUri",
          "state",
          "expiresAt"
        ],
        "title": "IntegrationRedirectResponse",
        "description": "Schema for integration redirect URI response."
      },
      "IntegrationResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Integration ID"
          },
          "platform": {
            "type": "string",
            "title": "Platform",
            "description": "Platform name"
          },
          "accountId": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Accountid",
            "description": "Connected account ID"
          },
          "accountName": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Accountname",
            "description": "Connected account name"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Integration status (connected, disconnected, error)"
          },
          "scope": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Scope",
            "description": "Granted permissions"
          },
          "expiresAt": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Expiresat",
            "description": "Token expiration time"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "title": "Createdat",
            "description": "Integration creation time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "title": "Updatedat",
            "description": "Last update time"
          },
          "metadata": {
            "type": "object",
            "title": "Metadata",
            "description": "Platform-specific data"
          }
        },
        "type": "object",
        "required": [
          "id",
          "platform",
          "status",
          "createdAt",
          "updatedAt"
        ],
        "title": "IntegrationResponse",
        "description": "Schema for integration response."
      },
      "IntegrationsListResponse": {
        "properties": {
          "integrations": {
            "items": {
              "$ref": "#/components/schemas/IntegrationResponse"
            },
            "type": "array",
            "title": "Integrations",
            "description": "List of integrations"
          },
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "Total number of integrations"
          }
        },
        "type": "object",
        "required": [
          "integrations",
          "total"
        ],
        "title": "IntegrationsListResponse",
        "description": "Schema for listing all integrations."
      },
      "LocationExtractionRequest": {
        "properties": {
          "text": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Text",
            "description": "Text content to extract locations from. If not provided, uses brand knowledge.",
            "examples": [
              "We have offices in San Francisco, CA and New York, NY. Visit our retail store at 123 Main St, Austin, TX."
            ]
          }
        },
        "type": "object",
        "title": "LocationExtractionRequest",
        "description": "Request body for location extraction endpoint.\n\nBusiness Logic:\n- If text is provided, extract locations from that text\n- If text is empty/null, extract from brand's stored knowledge\n- Supports both modes to enable flexible extraction workflows"
      },
      "LocationExtractionResponse": {
        "properties": {
          "locations": {
            "items": {
              "$ref": "#/components/schemas/PhysicalLocation"
            },
            "type": "array",
            "title": "Locations",
            "description": "List of extracted physical locations"
          }
        },
        "type": "object",
        "title": "LocationExtractionResponse",
        "description": "Response containing extracted physical locations.\n\nReturns a list of structured location objects extracted from the provided\ntext or brand knowledge. Empty list if no locations found."
      },
      "LogoutResponse": {
        "properties": {
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Logout confirmation message"
          }
        },
        "type": "object",
        "required": [
          "message"
        ],
        "title": "LogoutResponse",
        "description": "Schema for logout response.\n\nConfirms successful token invalidation (logout)."
      },
      "NativeUserCreate": {
        "properties": {
          "email": {
            "type": "string",
            "format": "email",
            "title": "Email",
            "description": "User email address"
          },
          "name": {
            "type": "string",
            "maxLength": 255,
            "minLength": 1,
            "title": "Name",
            "description": "User full name"
          },
          "password": {
            "type": "string",
            "maxLength": 128,
            "minLength": 8,
            "title": "Password",
            "description": "User password (will be hashed with bcrypt)"
          }
        },
        "type": "object",
        "required": [
          "email",
          "name",
          "password"
        ],
        "title": "NativeUserCreate",
        "description": "Schema for creating a new user via native email/password authentication.\n\nFor POST /api/v2/users endpoint.\nPassword is hashed and stored in our database with bcrypt.\nEmail verification link is sent via SendGrid."
      },
      "PasswordResetCreateRequest": {
        "properties": {
          "email": {
            "type": "string",
            "format": "email",
            "title": "Email",
            "description": "User email address to send reset link"
          }
        },
        "type": "object",
        "required": [
          "email"
        ],
        "title": "PasswordResetCreateRequest",
        "description": "Schema for creating a password reset request (RMM L2 compliant).\n\nFor POST /api/v2/passwords endpoint.\nCreates a password reset token and sends email to user.\n\nRMM Level 2 Compliance:\n- Resource-based URL: /passwords (noun, not verb)\n- POST method creates new password-reset resource\n- No verbs in URL path"
      },
      "PasswordResetCreateResponse": {
        "properties": {
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Generic success message (security: doesn't reveal if email exists)",
            "default": "If the email exists, a password reset link has been sent."
          }
        },
        "type": "object",
        "title": "PasswordResetCreateResponse",
        "description": "Schema for password reset creation response (RMM L2 compliant).\n\nReturns confirmation message without revealing if email exists.\nSecurity: Always returns success to prevent email enumeration."
      },
      "PasswordResetUpdateRequest": {
        "properties": {
          "newPassword": {
            "type": "string",
            "maxLength": 128,
            "minLength": 8,
            "title": "Newpassword",
            "description": "New password (min 8 characters)"
          }
        },
        "type": "object",
        "required": [
          "newPassword"
        ],
        "title": "PasswordResetUpdateRequest",
        "description": "Schema for completing a password reset (RMM L2 compliant).\n\nFor PUT /api/v2/password-resets/{token} endpoint.\nUpdates the password using the reset token.\n\nRMM Level 2 Compliance:\n- Resource-based URL: /password-resets/{token}\n- PUT method updates the password-reset resource\n- Token in path (resource identifier), password in body"
      },
      "PasswordResetUpdateResponse": {
        "properties": {
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Success confirmation message",
            "default": "Password reset successful. You can now log in with your new password."
          }
        },
        "type": "object",
        "title": "PasswordResetUpdateResponse",
        "description": "Schema for password reset completion response (RMM L2 compliant).\n\nReturns success message after password is reset."
      },
      "PhysicalLocation": {
        "properties": {
          "address": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Address",
            "description": "Street address (e.g., '123 Main St, Suite 100')",
            "examples": [
              "123 Main St, Suite 100"
            ]
          },
          "city": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "City",
            "description": "City name",
            "examples": [
              "San Francisco"
            ]
          },
          "state": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "State",
            "description": "State or province (2-letter code preferred)",
            "examples": [
              "CA"
            ]
          },
          "country": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Country",
            "description": "Country name or code",
            "examples": [
              "USA"
            ]
          }
        },
        "type": "object",
        "title": "PhysicalLocation",
        "description": "A structured physical location with address components.\n\nRepresents a single physical location extracted from text, with individual\ncomponents for address, city, state, and country to enable location-based\nqueries and filtering."
      },
      "PlanListResponse": {
        "properties": {
          "plans": {
            "items": {
              "$ref": "#/components/schemas/SceneMixPlanResponse"
            },
            "type": "array",
            "title": "Plans",
            "description": "List of plans"
          },
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "Total number of plans"
          },
          "page": {
            "type": "integer",
            "title": "Page",
            "description": "Current page",
            "default": 1
          },
          "limit": {
            "type": "integer",
            "title": "Limit",
            "description": "Items per page",
            "default": 10
          }
        },
        "type": "object",
        "required": [
          "plans",
          "total"
        ],
        "title": "PlanListResponse",
        "description": "Schema for listing all plans."
      },
      "PolicyViolation": {
        "properties": {
          "violationType": {
            "type": "string",
            "enum": [
              "scene_type_under",
              "scene_type_over",
              "subtype_missing",
              "shot_diversity_low",
              "diversity_threshold"
            ],
            "title": "Violationtype",
            "description": "Type of violation"
          },
          "severity": {
            "type": "string",
            "enum": [
              "warning",
              "error"
            ],
            "title": "Severity",
            "description": "Severity level",
            "default": "warning"
          },
          "field": {
            "type": "string",
            "title": "Field",
            "description": "Field or dimension that violated policy"
          },
          "expected": {
            "type": "string",
            "title": "Expected",
            "description": "Expected value or range"
          },
          "actual": {
            "type": "string",
            "title": "Actual",
            "description": "Actual value found"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Human-readable violation message"
          }
        },
        "type": "object",
        "required": [
          "violationType",
          "field",
          "expected",
          "actual",
          "message"
        ],
        "title": "PolicyViolation",
        "description": "Details of a policy violation."
      },
      "PostContent": {
        "properties": {
          "selected_image": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 2083,
                "minLength": 1,
                "format": "uri"
              },
              {
                "type": "null"
              }
            ],
            "title": "Selected Image",
            "description": "URL of the selected image (optional - can be set later)"
          },
          "text": {
            "type": "string",
            "minLength": 1,
            "title": "Text",
            "description": "Post caption text"
          }
        },
        "type": "object",
        "required": [
          "text"
        ],
        "title": "PostContent",
        "description": "Schema for post content in approval request."
      },
      "PostPlan": {
        "properties": {
          "day": {
            "type": "integer",
            "title": "Day",
            "description": "Day of week (1-7)"
          },
          "sceneType": {
            "type": "string",
            "title": "Scenetype",
            "description": "Scene type (e.g., product_showcase, testimonial, educational)"
          },
          "theme": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Theme",
            "description": "Content theme"
          },
          "elements": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Elements",
            "description": "Content elements"
          },
          "captionStyle": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Captionstyle",
            "description": "Caption style"
          }
        },
        "type": "object",
        "required": [
          "day",
          "sceneType"
        ],
        "title": "PostPlan",
        "description": "Individual post within a week."
      },
      "PostSchema": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "text": {
            "type": "string",
            "title": "Text",
            "default": ""
          },
          "imagePrompt": {
            "type": "string",
            "title": "Imageprompt",
            "default": ""
          },
          "imageUrls": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Imageurls"
          },
          "textVersions": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Textversions"
          },
          "generationCount": {
            "type": "integer",
            "title": "Generationcount",
            "default": 1
          },
          "regenerateCount": {
            "type": "integer",
            "title": "Regeneratecount",
            "default": 3
          },
          "posted": {
            "type": "boolean",
            "title": "Posted",
            "default": false
          },
          "approved": {
            "type": "boolean",
            "title": "Approved",
            "default": false
          },
          "selectedImageIndex": {
            "type": "integer",
            "title": "Selectedimageindex",
            "default": 0
          },
          "qualityScore": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Qualityscore",
            "description": "Quality score for the post (0.0 to 1.0)"
          },
          "modelUsed": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Modelused",
            "description": "Image generation model used (e.g., 'fal-ai/nano-banana-pro')"
          }
        },
        "type": "object",
        "required": [
          "id"
        ],
        "title": "PostSchema",
        "description": "Schema for individual social media post."
      },
      "PostVersionItemResponse": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "postId": {
            "type": "string",
            "title": "Postid"
          },
          "versionNumber": {
            "type": "integer",
            "title": "Versionnumber"
          },
          "parentVersionId": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Parentversionid"
          },
          "changeType": {
            "type": "string",
            "title": "Changetype"
          },
          "textSnapshot": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Textsnapshot"
          },
          "mediaSnapshot": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Mediasnapshot"
          },
          "createdBy": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Createdby"
          },
          "createdAt": {
            "type": "string",
            "title": "Createdat"
          }
        },
        "type": "object",
        "required": [
          "id",
          "postId",
          "versionNumber",
          "changeType",
          "createdAt"
        ],
        "title": "PostVersionItemResponse",
        "description": "Single version in history response with camelCase aliases."
      },
      "ProductV2": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Product name"
          },
          "category": {
            "type": "string",
            "title": "Category",
            "description": "Product category"
          }
        },
        "type": "object",
        "required": [
          "name",
          "category"
        ],
        "title": "ProductV2",
        "description": "V2 Product information for brand knowledge."
      },
      "PromptCreate": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Unique prompt identifier"
          },
          "category": {
            "type": "string",
            "title": "Category",
            "description": "Prompt category (brand, content, campaign)"
          },
          "template": {
            "type": "string",
            "title": "Template",
            "description": "Prompt template with {variable} placeholders"
          },
          "variables": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Variables",
            "description": "List of variable names used in template"
          },
          "version": {
            "type": "string",
            "title": "Version",
            "description": "Semantic version (major.minor.patch)",
            "default": "1.0.0"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "Human-readable description of prompt purpose"
          }
        },
        "type": "object",
        "required": [
          "id",
          "category",
          "template"
        ],
        "title": "PromptCreate",
        "description": "Schema for creating a new prompt.\n\nAttributes:\n    id: Unique prompt identifier (e.g., \"brand_summary_v2\")\n    category: Prompt category for filtering (e.g., \"brand\", \"content\", \"campaign\")\n    template: The actual prompt template with variable placeholders\n    variables: List of variable names that can be substituted in the template\n    version: Semantic version of the prompt (e.g., \"1.0.0\")\n    description: Human-readable description of what this prompt does",
        "example": {
          "category": "content",
          "description": "Generate content variations for A/B testing",
          "id": "content_variation_v1",
          "template": "Generate {count} variations of {content_type} for {brand_name}",
          "variables": [
            "count",
            "content_type",
            "brand_name"
          ],
          "version": "1.0.0"
        }
      },
      "PromptResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Unique prompt identifier"
          },
          "category": {
            "type": "string",
            "title": "Category",
            "description": "Prompt category (brand, content, campaign)"
          },
          "template": {
            "type": "string",
            "title": "Template",
            "description": "Prompt template with {variable} placeholders"
          },
          "variables": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Variables",
            "description": "List of variable names used in template"
          },
          "version": {
            "type": "string",
            "title": "Version",
            "description": "Semantic version (major.minor.patch)",
            "default": "1.0.0"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "Human-readable description of prompt purpose"
          }
        },
        "type": "object",
        "required": [
          "id",
          "category",
          "template"
        ],
        "title": "PromptResponse",
        "description": "Response schema for a single application prompt.\n\nAttributes:\n    id: Unique prompt identifier (e.g., \"brand_summary_v1\")\n    category: Prompt category for filtering (e.g., \"brand\", \"content\", \"campaign\")\n    template: The actual prompt template with variable placeholders\n    variables: List of variable names that can be substituted in the template\n    version: Semantic version of the prompt (e.g., \"1.0.0\")\n    description: Human-readable description of what this prompt does",
        "example": {
          "category": "brand",
          "description": "Generate concise brand summary for review",
          "id": "brand_summary_v1",
          "template": "Using the data for {brand_name}, create a 60-word summary highlighting {attributes}",
          "variables": [
            "brand_name",
            "attributes"
          ],
          "version": "1.0.0"
        }
      },
      "PromptsListResponse": {
        "properties": {
          "prompts": {
            "items": {
              "$ref": "#/components/schemas/PromptResponse"
            },
            "type": "array",
            "title": "Prompts",
            "description": "List of application prompts"
          },
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "Total number of prompts in response"
          }
        },
        "type": "object",
        "required": [
          "prompts",
          "total"
        ],
        "title": "PromptsListResponse",
        "description": "Response schema for listing multiple prompts.\n\nAttributes:\n    prompts: List of prompts matching the filter criteria\n    total: Total number of prompts available (useful for pagination if added later)",
        "example": {
          "prompts": [
            {
              "category": "brand",
              "description": "Brand summary generation",
              "id": "brand_summary_v1",
              "template": "Create a summary for {brand_name}",
              "variables": [
                "brand_name"
              ],
              "version": "1.0.0"
            }
          ],
          "total": 1
        }
      },
      "PublishedPostSummary": {
        "properties": {
          "week_key": {
            "type": "string",
            "title": "Week Key",
            "description": "Week identifier (e.g., week_1)"
          },
          "day_key": {
            "type": "string",
            "title": "Day Key",
            "description": "Day identifier (e.g., day_1)"
          },
          "post_key": {
            "type": "string",
            "title": "Post Key",
            "description": "Post identifier (e.g., post_1)"
          },
          "post_name": {
            "type": "string",
            "title": "Post Name",
            "description": "Unique post name for tracking"
          },
          "scheduled_time": {
            "type": "string",
            "format": "date-time",
            "title": "Scheduled Time",
            "description": "Scheduled publication time"
          }
        },
        "type": "object",
        "required": [
          "week_key",
          "day_key",
          "post_key",
          "post_name",
          "scheduled_time"
        ],
        "title": "PublishedPostSummary",
        "description": "Summary of a single published post within a publication."
      },
      "ResendVerificationRequest": {
        "properties": {
          "email": {
            "type": "string",
            "format": "email",
            "title": "Email",
            "description": "User email address"
          }
        },
        "type": "object",
        "required": [
          "email"
        ],
        "title": "ResendVerificationRequest",
        "description": "Schema for resend verification email request.\n\nFor POST /api/v2/verifications/resend endpoint.\nAllows unauthenticated users to request a new verification email.\nSimilar to forgot-password flow - accepts email, returns generic response."
      },
      "ResendVerificationResponse": {
        "properties": {
          "message": {
            "type": "string",
            "title": "Message",
            "description": "User-friendly message (generic for security)",
            "default": "If the email exists and is not yet verified, a verification email has been sent."
          },
          "emailSent": {
            "type": "boolean",
            "title": "Emailsent",
            "description": "Whether email was sent successfully (always True for security)",
            "default": true
          }
        },
        "type": "object",
        "title": "ResendVerificationResponse",
        "description": "Schema for resend verification email response.\n\nReturned after resending verification email.\nReturns generic message to prevent email enumeration attacks."
      },
      "ResetPasswordRequest": {
        "properties": {
          "token": {
            "type": "string",
            "minLength": 1,
            "title": "Token",
            "description": "Password reset token from email"
          },
          "newPassword": {
            "type": "string",
            "maxLength": 128,
            "minLength": 8,
            "title": "Newpassword",
            "description": "New password (min 8 characters)"
          }
        },
        "type": "object",
        "required": [
          "token",
          "newPassword"
        ],
        "title": "ResetPasswordRequest",
        "description": "Schema for reset password request.\n\nFor POST /api/v2/auth/reset-password endpoint.\nResets password using token from reset email."
      },
      "ResetPasswordResponse": {
        "properties": {
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Success message",
            "default": "Password reset successful. You can now log in with your new password."
          }
        },
        "type": "object",
        "title": "ResetPasswordResponse",
        "description": "Schema for reset password response.\n\nReturns success message after password reset."
      },
      "SceneMixPlanCreate": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Plan name"
          },
          "policyId": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Policyid",
            "description": "Associated policy ID"
          },
          "durationDays": {
            "type": "integer",
            "title": "Durationdays",
            "description": "Plan duration in days"
          },
          "postsPerDay": {
            "type": "integer",
            "title": "Postsperday",
            "description": "Number of posts per day"
          },
          "contentMix": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Contentmix",
            "description": "Content type distribution percentages"
          },
          "themes": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Themes",
            "description": "Content themes"
          },
          "keywords": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Keywords",
            "description": "Target keywords"
          },
          "autoGenerate": {
            "type": "boolean",
            "title": "Autogenerate",
            "description": "Auto-generate content on approval",
            "default": false
          },
          "mixGoal": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Mixgoal",
            "description": "Goal/objective for the content mix strategy"
          },
          "rationale": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Rationale",
            "description": "Explanation for the content mix decisions"
          }
        },
        "type": "object",
        "required": [
          "name",
          "durationDays",
          "postsPerDay",
          "contentMix"
        ],
        "title": "SceneMixPlanCreate",
        "description": "Schema for creating a scene mix plan."
      },
      "SceneMixPlanPreviewRequest": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Plan name"
          },
          "policyId": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Policyid",
            "description": "Associated policy ID"
          },
          "durationDays": {
            "type": "integer",
            "title": "Durationdays",
            "description": "Plan duration in days"
          },
          "postsPerDay": {
            "type": "integer",
            "title": "Postsperday",
            "description": "Number of posts per day"
          },
          "contentMix": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Contentmix",
            "description": "Content type distribution percentages"
          },
          "themes": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Themes",
            "description": "Content themes"
          },
          "keywords": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Keywords",
            "description": "Target keywords"
          },
          "mixGoal": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Mixgoal",
            "description": "Goal/objective for the content mix strategy"
          },
          "rationale": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Rationale",
            "description": "Explanation for the content mix decisions"
          },
          "explorationRate": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Explorationrate",
            "description": "Exploration rate for policy adjustments",
            "default": 0.15
          }
        },
        "type": "object",
        "required": [
          "name",
          "durationDays",
          "postsPerDay",
          "contentMix"
        ],
        "title": "SceneMixPlanPreviewRequest",
        "description": "Schema for previewing a scene mix plan."
      },
      "SceneMixPlanPreviewResponse": {
        "properties": {
          "policyVersion": {
            "type": "string",
            "title": "Policyversion",
            "description": "Policy version",
            "default": "v1"
          },
          "mixGoal": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Mixgoal",
            "description": "Mix goal distribution (human, product, ingredient)"
          },
          "subtypeWeights": {
            "additionalProperties": {
              "additionalProperties": {
                "type": "number"
              },
              "type": "object"
            },
            "type": "object",
            "title": "Subtypeweights",
            "description": "Subtype weights for each content category"
          },
          "rationale": {
            "type": "string",
            "title": "Rationale",
            "description": "Explanation for the selected mix"
          },
          "explorationRate": {
            "type": "number",
            "title": "Explorationrate",
            "description": "Exploration rate for policy adjustments",
            "default": 0.15
          },
          "diversityMetrics": {
            "$ref": "#/components/schemas/DiversityMetrics",
            "description": "Diversity metrics for the plan"
          },
          "estimatedPosts": {
            "type": "integer",
            "title": "Estimatedposts",
            "description": "Estimated total posts for the plan duration"
          },
          "weeksPreview": {
            "items": {
              "$ref": "#/components/schemas/WeekPlan"
            },
            "type": "array",
            "title": "Weekspreview",
            "description": "Preview of week-by-week post planning"
          }
        },
        "type": "object",
        "required": [
          "mixGoal",
          "subtypeWeights",
          "rationale",
          "diversityMetrics",
          "estimatedPosts"
        ],
        "title": "SceneMixPlanPreviewResponse",
        "description": "Schema for scene mix plan preview response with diversity metrics."
      },
      "SceneMixPlanResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Plan ID"
          },
          "campaignId": {
            "type": "string",
            "title": "Campaignid",
            "description": "Campaign ID"
          },
          "policyId": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Policyid",
            "description": "Associated policy ID"
          },
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Plan name"
          },
          "durationDays": {
            "type": "integer",
            "title": "Durationdays",
            "description": "Plan duration in days"
          },
          "postsPerDay": {
            "type": "integer",
            "title": "Postsperday",
            "description": "Number of posts per day"
          },
          "contentMix": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Contentmix",
            "description": "Content type distribution"
          },
          "themes": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Themes",
            "description": "Content themes"
          },
          "keywords": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Keywords",
            "description": "Target keywords"
          },
          "autoGenerate": {
            "type": "boolean",
            "title": "Autogenerate",
            "description": "Auto-generate enabled",
            "default": false
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Plan status (draft, active, completed)",
            "default": "draft"
          },
          "weeks": {
            "items": {
              "$ref": "#/components/schemas/WeekPlan"
            },
            "type": "array",
            "title": "Weeks",
            "description": "Detailed week-by-week post planning"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "title": "Createdat",
            "description": "Creation timestamp"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "title": "Updatedat",
            "description": "Last update timestamp"
          },
          "executionStats": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Executionstats",
            "description": "Execution statistics"
          },
          "mixGoal": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Mixgoal",
            "description": "Goal/objective for the content mix strategy"
          },
          "subtypeWeights": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "number"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Subtypeweights",
            "description": "Weights for content subtypes (alias for content_mix)"
          },
          "rationale": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Rationale",
            "description": "Explanation for the content mix decisions"
          }
        },
        "type": "object",
        "required": [
          "id",
          "campaignId",
          "name",
          "durationDays",
          "postsPerDay",
          "contentMix",
          "createdAt",
          "updatedAt"
        ],
        "title": "SceneMixPlanResponse",
        "description": "Schema for scene mix plan response."
      },
      "SceneMixPlanUpdate": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Name",
            "description": "Plan name"
          },
          "policyId": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Policyid",
            "description": "Associated policy ID"
          },
          "durationDays": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Durationdays",
            "description": "Plan duration in days"
          },
          "postsPerDay": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Postsperday",
            "description": "Number of posts per day"
          },
          "contentMix": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "number"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Contentmix",
            "description": "Content type distribution percentages"
          },
          "themes": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Themes",
            "description": "Content themes"
          },
          "keywords": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Keywords",
            "description": "Target keywords"
          },
          "autoGenerate": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Autogenerate",
            "description": "Auto-generate content on approval"
          },
          "status": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Status",
            "description": "Plan status"
          },
          "mixGoal": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Mixgoal",
            "description": "Goal/objective for the content mix strategy"
          },
          "rationale": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Rationale",
            "description": "Explanation for the content mix decisions"
          }
        },
        "type": "object",
        "title": "SceneMixPlanUpdate",
        "description": "Schema for updating a scene mix plan."
      },
      "SceneMixPolicyCreate": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Policy name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "Policy description"
          },
          "contentTypes": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Contenttypes",
            "description": "Allowed content types"
          },
          "platforms": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Platforms",
            "description": "Target platforms"
          },
          "frequencyRules": {
            "type": "object",
            "title": "Frequencyrules",
            "description": "Content frequency rules"
          },
          "diversitySettings": {
            "type": "object",
            "title": "Diversitysettings",
            "description": "Content diversity settings"
          },
          "qualityThresholds": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Qualitythresholds",
            "description": "Quality thresholds"
          },
          "active": {
            "type": "boolean",
            "title": "Active",
            "description": "Whether policy is active",
            "default": true
          }
        },
        "type": "object",
        "required": [
          "name",
          "contentTypes",
          "platforms",
          "frequencyRules"
        ],
        "title": "SceneMixPolicyCreate",
        "description": "Schema for creating a scene mix policy."
      },
      "SceneMixPolicyResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Policy ID"
          },
          "campaignId": {
            "type": "string",
            "title": "Campaignid",
            "description": "Campaign ID"
          },
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Policy name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "Policy description"
          },
          "contentTypes": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Contenttypes",
            "description": "Allowed content types"
          },
          "platforms": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Platforms",
            "description": "Target platforms"
          },
          "frequencyRules": {
            "type": "object",
            "title": "Frequencyrules",
            "description": "Content frequency rules"
          },
          "diversitySettings": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Diversitysettings",
            "description": "Content diversity settings"
          },
          "qualityThresholds": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "number"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Qualitythresholds",
            "description": "Quality thresholds"
          },
          "active": {
            "type": "boolean",
            "title": "Active",
            "description": "Whether policy is active",
            "default": true
          },
          "scenes": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/ScenePolicy"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Scenes",
            "description": "Scene-specific policies"
          },
          "diversityScore": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 100.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Diversityscore",
            "description": "Content diversity score"
          },
          "consistencyLevel": {
            "anyOf": [
              {
                "type": "string",
                "enum": [
                  "low",
                  "medium",
                  "high"
                ]
              },
              {
                "type": "null"
              }
            ],
            "title": "Consistencylevel",
            "description": "Consistency enforcement level"
          },
          "createdAt": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Createdat",
            "description": "Creation timestamp"
          },
          "updatedAt": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updatedat",
            "description": "Last update timestamp"
          }
        },
        "type": "object",
        "required": [
          "id",
          "campaignId",
          "name",
          "contentTypes",
          "platforms",
          "frequencyRules"
        ],
        "title": "SceneMixPolicyResponse",
        "description": "Schema for scene mix policy response."
      },
      "SceneMixValidationResult": {
        "properties": {
          "isValid": {
            "type": "boolean",
            "title": "Isvalid",
            "description": "Whether content passes all validation checks",
            "default": true
          },
          "sceneTypeDistribution": {
            "items": {
              "$ref": "#/components/schemas/SceneTypeDistribution"
            },
            "type": "array",
            "title": "Scenetypedistribution",
            "description": "Distribution by scene type"
          },
          "subtypeMetrics": {
            "items": {
              "$ref": "#/components/schemas/SubtypeVarietyMetrics"
            },
            "type": "array",
            "title": "Subtypemetrics",
            "description": "Variety metrics per scene type"
          },
          "violations": {
            "items": {
              "$ref": "#/components/schemas/PolicyViolation"
            },
            "type": "array",
            "title": "Violations",
            "description": "List of policy violations"
          },
          "warningCount": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Warningcount",
            "description": "Number of warnings",
            "default": 0
          },
          "errorCount": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Errorcount",
            "description": "Number of errors",
            "default": 0
          }
        },
        "type": "object",
        "title": "SceneMixValidationResult",
        "description": "Result of scene mix validation against policy."
      },
      "ScenePolicy": {
        "properties": {
          "sceneType": {
            "type": "string",
            "title": "Scenetype",
            "description": "Type of scene (e.g., 'product', 'lifestyle', 'testimonial')"
          },
          "minFrequency": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Minfrequency",
            "description": "Minimum occurrence frequency"
          },
          "maxFrequency": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Maxfrequency",
            "description": "Maximum occurrence frequency"
          },
          "priority": {
            "type": "integer",
            "maximum": 10.0,
            "minimum": 1.0,
            "title": "Priority",
            "description": "Scene priority (1-10)"
          }
        },
        "type": "object",
        "required": [
          "sceneType",
          "minFrequency",
          "maxFrequency",
          "priority"
        ],
        "title": "ScenePolicy",
        "description": "Schema for individual scene policy configuration."
      },
      "SceneTypeDistribution": {
        "properties": {
          "sceneType": {
            "type": "string",
            "title": "Scenetype",
            "description": "Scene type (human, product, ingredient)"
          },
          "count": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Count",
            "description": "Number of items with this scene type",
            "default": 0
          },
          "percentage": {
            "type": "number",
            "maximum": 100.0,
            "minimum": 0.0,
            "title": "Percentage",
            "description": "Percentage of total content",
            "default": 0.0
          },
          "targetPercentage": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 100.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Targetpercentage",
            "description": "Target percentage from policy"
          },
          "variance": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Variance",
            "description": "Variance from target (positive = over, negative = under)"
          }
        },
        "type": "object",
        "required": [
          "sceneType"
        ],
        "title": "SceneTypeDistribution",
        "description": "Distribution of scene types in content."
      },
      "SessionRequest": {
        "properties": {
          "grantType": {
            "type": "string",
            "pattern": "^(password|refresh_token)$",
            "title": "Granttype",
            "description": "Grant type: 'password' for login, 'refresh_token' for token refresh",
            "default": "password"
          },
          "email": {
            "anyOf": [
              {
                "type": "string",
                "format": "email"
              },
              {
                "type": "null"
              }
            ],
            "title": "Email",
            "description": "User email address (required for password grant)"
          },
          "password": {
            "anyOf": [
              {
                "type": "string",
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Password",
            "description": "User password (required for password grant)"
          },
          "refreshToken": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Refreshtoken",
            "description": "Refresh token from previous session (required for refresh_token grant)"
          }
        },
        "type": "object",
        "title": "SessionRequest",
        "description": "Schema for unified session management (RMM L2 compliant).\n\nFor POST /api/v2/sessions endpoint.\nSupports multiple grant types following OAuth2 patterns:\n- grant_type: \"password\" - Login with email/password (default)\n- grant_type: \"refresh_token\" - Refresh an existing session\n\nRMM Level 2 Compliance:\n- Single resource-based URL: /sessions\n- HTTP method (POST) indicates create/update action\n- Grant type in body differentiates login vs refresh\n- No verbs in URL path\n\nExamples:\n    Login: {\"grant_type\": \"password\", \"email\": \"user@example.com\", \"password\": \"secret\"}\n    Refresh: {\"grant_type\": \"refresh_token\", \"refresh_token\": \"eyJ...\"}"
      },
      "SessionResponse": {
        "properties": {
          "accessToken": {
            "type": "string",
            "title": "Accesstoken",
            "description": "JWT access token"
          },
          "refreshToken": {
            "type": "string",
            "title": "Refreshtoken",
            "description": "Refresh token for next refresh"
          },
          "tokenType": {
            "type": "string",
            "title": "Tokentype",
            "description": "Token type (always 'bearer')",
            "default": "bearer"
          },
          "expiresIn": {
            "type": "integer",
            "title": "Expiresin",
            "description": "Token expiration time in seconds from now"
          },
          "user": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/UserResponse"
              },
              {
                "type": "null"
              }
            ],
            "description": "User profile (included for password grant, optional for refresh)"
          }
        },
        "type": "object",
        "required": [
          "accessToken",
          "refreshToken",
          "expiresIn"
        ],
        "title": "SessionResponse",
        "description": "Unified session response for RMM L2 compliant sessions endpoint.\n\nUsed by POST /api/v2/sessions for both login and token refresh.\nContains all fields needed for both use cases.\n\nFor password grant (login):\n- user: User profile data\n- access_token: JWT access token\n- refresh_token: Token for refreshing session\n- token_type: Always \"bearer\"\n- expires_in: Token expiration in seconds\n\nFor refresh_token grant:\n- access_token: New JWT access token\n- refresh_token: New refresh token\n- token_type: Always \"bearer\"\n- expires_in: Token expiration in seconds\n- user: Optional (may be omitted for refresh)"
      },
      "ShotDiversityMetrics": {
        "properties": {
          "angleDistribution": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Angledistribution",
            "description": "Distribution of shot angles (wide, medium, close, top-down)"
          },
          "angleVarietyScore": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Anglevarietyscore",
            "description": "Variety score for angles (0-1)",
            "default": 0.0
          },
          "backdropDistribution": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Backdropdistribution",
            "description": "Distribution of backdrops (studio, in-home, outdoor, retail)"
          },
          "backdropVarietyScore": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Backdropvarietyscore",
            "description": "Variety score for backdrops (0-1)",
            "default": 0.0
          },
          "lensDistribution": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Lensdistribution",
            "description": "Distribution of lens types (35mm, 50mm, 85mm, macro)"
          },
          "lensVarietyScore": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Lensvarietyscore",
            "description": "Variety score for lens types (0-1)",
            "default": 0.0
          },
          "lightingDistribution": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Lightingdistribution",
            "description": "Distribution of lighting styles (natural, studio, dramatic, soft)"
          },
          "lightingVarietyScore": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Lightingvarietyscore",
            "description": "Variety score for lighting (0-1)",
            "default": 0.0
          },
          "overallShotDiversity": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Overallshotdiversity",
            "description": "Combined shot diversity score (0-1)",
            "default": 0.0
          }
        },
        "type": "object",
        "title": "ShotDiversityMetrics",
        "description": "Metrics for shot diversity across content."
      },
      "SignupCreate": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 255,
            "minLength": 2,
            "title": "Name",
            "description": "Signup name"
          },
          "email": {
            "type": "string",
            "format": "email",
            "title": "Email",
            "description": "Signup email address"
          },
          "industry": {
            "type": "string",
            "maxLength": 255,
            "minLength": 1,
            "title": "Industry",
            "description": "Industry"
          }
        },
        "type": "object",
        "required": [
          "name",
          "email",
          "industry"
        ],
        "title": "SignupCreate",
        "description": "Schema for creating a new signup.\n\nUsed for landing page beta signup form submissions."
      },
      "SignupResponse": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 255,
            "minLength": 2,
            "title": "Name",
            "description": "Signup name"
          },
          "email": {
            "type": "string",
            "format": "email",
            "title": "Email",
            "description": "Signup email address"
          },
          "industry": {
            "type": "string",
            "maxLength": 255,
            "minLength": 1,
            "title": "Industry",
            "description": "Industry"
          },
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id",
            "description": "Signup ID"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "title": "Createdat",
            "description": "Signup creation timestamp"
          }
        },
        "type": "object",
        "required": [
          "name",
          "email",
          "industry",
          "id",
          "createdAt"
        ],
        "title": "SignupResponse",
        "description": "Schema for signup responses.\n\nReturned after successful signup creation."
      },
      "StatusErrorResponse": {
        "properties": {
          "message": {
            "type": "string",
            "title": "Message"
          },
          "code": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Code"
          }
        },
        "type": "object",
        "required": [
          "message"
        ],
        "title": "StatusErrorResponse",
        "description": "Error info."
      },
      "StatusProgressResponse": {
        "properties": {
          "step": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Step"
          },
          "percentage": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Percentage"
          }
        },
        "type": "object",
        "title": "StatusProgressResponse",
        "description": "Progress info with camelCase."
      },
      "StatusResultResponse": {
        "properties": {
          "versionId": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Versionid"
          },
          "mediaUrl": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Mediaurl"
          },
          "text": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Text"
          }
        },
        "type": "object",
        "title": "StatusResultResponse",
        "description": "Result info with camelCase."
      },
      "SubtypeVarietyMetrics": {
        "properties": {
          "sceneType": {
            "type": "string",
            "title": "Scenetype",
            "description": "Parent scene type"
          },
          "subtypes": {
            "additionalProperties": {
              "type": "integer"
            },
            "type": "object",
            "title": "Subtypes",
            "description": "Count per subtype"
          },
          "uniqueSubtypes": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Uniquesubtypes",
            "description": "Number of unique subtypes used",
            "default": 0
          },
          "varietyScore": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Varietyscore",
            "description": "Subtype variety score (0-1)",
            "default": 0.0
          }
        },
        "type": "object",
        "required": [
          "sceneType"
        ],
        "title": "SubtypeVarietyMetrics",
        "description": "Metrics for subtype variety within scene types."
      },
      "ThreadMessageCreate": {
        "properties": {
          "role": {
            "type": "string",
            "title": "Role",
            "description": "Message role: 'user' or 'assistant'"
          },
          "content": {
            "type": "string",
            "maxLength": 10000,
            "minLength": 1,
            "title": "Content",
            "description": "Message content"
          }
        },
        "type": "object",
        "required": [
          "role",
          "content"
        ],
        "title": "ThreadMessageCreate",
        "description": "Schema for creating a new thread message.",
        "example": {
          "content": "Help me create content for my campaign",
          "role": "user"
        }
      },
      "ThreadMessageResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Message UUID"
          },
          "thread_id": {
            "type": "string",
            "title": "Thread Id",
            "description": "Thread UUID"
          },
          "role": {
            "type": "string",
            "title": "Role",
            "description": "Message role: 'user' or 'assistant'"
          },
          "content": {
            "type": "string",
            "title": "Content",
            "description": "Message content"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "Message creation timestamp"
          }
        },
        "type": "object",
        "required": [
          "id",
          "thread_id",
          "role",
          "content",
          "created_at"
        ],
        "title": "ThreadMessageResponse",
        "description": "Schema for thread message response.",
        "example": {
          "content": "Help me create content for my campaign",
          "created_at": "2024-01-15T10:00:00Z",
          "id": "msg-550e8400-e29b-41d4-a716-446655440000",
          "role": "user",
          "thread_id": "thread-550e8400-e29b-41d4-a716-446655440001"
        }
      },
      "TokenRefreshResponse": {
        "properties": {
          "accessToken": {
            "type": "string",
            "title": "Accesstoken",
            "description": "New JWT access token"
          },
          "refreshToken": {
            "type": "string",
            "title": "Refreshtoken",
            "description": "New refresh token for next refresh"
          },
          "tokenType": {
            "type": "string",
            "title": "Tokentype",
            "description": "Token type (always 'bearer')",
            "default": "bearer"
          },
          "expiresIn": {
            "type": "integer",
            "title": "Expiresin",
            "description": "Token expiration time in seconds from now"
          }
        },
        "type": "object",
        "required": [
          "accessToken",
          "refreshToken",
          "expiresIn"
        ],
        "title": "TokenRefreshResponse",
        "description": "Schema for token refresh response.\n\nReturns new access token and refresh token with fresh expiration.\nFrontend needs both tokens to maintain authentication state."
      },
      "ToneAttributesV2": {
        "properties": {
          "formality": {
            "type": "string",
            "title": "Formality",
            "description": "Formality level (casual, professional, formal)"
          },
          "enthusiasm": {
            "type": "string",
            "title": "Enthusiasm",
            "description": "Enthusiasm level (low, medium, high)"
          },
          "expertise": {
            "type": "string",
            "title": "Expertise",
            "description": "Expertise level (beginner, intermediate, expert)"
          }
        },
        "type": "object",
        "required": [
          "formality",
          "enthusiasm",
          "expertise"
        ],
        "title": "ToneAttributesV2",
        "description": "V2 Tone attributes for brand knowledge."
      },
      "URLContentRequest": {
        "properties": {
          "url": {
            "type": "string",
            "maxLength": 2048,
            "minLength": 1,
            "title": "Url",
            "description": "URL to fetch content from",
            "example": "https://example.com/about"
          },
          "extract_images": {
            "type": "boolean",
            "title": "Extract Images",
            "description": "Whether to extract image URLs from the page",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "url"
        ],
        "title": "URLContentRequest",
        "description": "Request schema for URL content fetching."
      },
      "URLContentResponse": {
        "properties": {
          "content": {
            "type": "string",
            "title": "Content",
            "description": "Extracted text content from the URL"
          },
          "metadata": {
            "$ref": "#/components/schemas/URLMetadata",
            "description": "Page metadata"
          },
          "images": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Images",
            "description": "List of image URLs (if extract_images=true)"
          }
        },
        "type": "object",
        "required": [
          "content",
          "metadata"
        ],
        "title": "URLContentResponse",
        "description": "Response schema for URL content fetching."
      },
      "URLMetadata": {
        "properties": {
          "title": {
            "type": "string",
            "title": "Title",
            "description": "Page title",
            "default": ""
          },
          "description": {
            "type": "string",
            "title": "Description",
            "description": "Meta description",
            "default": ""
          },
          "status_code": {
            "type": "integer",
            "title": "Status Code",
            "description": "HTTP status code"
          },
          "content_type": {
            "type": "string",
            "title": "Content Type",
            "description": "Content-Type header"
          }
        },
        "type": "object",
        "required": [
          "status_code",
          "content_type"
        ],
        "title": "URLMetadata",
        "description": "Metadata extracted from URL."
      },
      "UpdateTextVersionsRequest": {
        "properties": {
          "contentId": {
            "type": "string",
            "title": "Contentid",
            "description": "Content ID to update"
          },
          "weekNum": {
            "type": "integer",
            "title": "Weeknum",
            "description": "Week number in campaign"
          },
          "dayNum": {
            "type": "integer",
            "title": "Daynum",
            "description": "Day number in week"
          },
          "postNum": {
            "type": "integer",
            "title": "Postnum",
            "description": "Post number in day"
          },
          "text": {
            "type": "string",
            "title": "Text",
            "description": "Currently selected text"
          },
          "textVersions": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Textversions",
            "description": "Array of text versions"
          },
          "selectedImageIndex": {
            "type": "integer",
            "title": "Selectedimageindex",
            "description": "Currently selected image index"
          }
        },
        "type": "object",
        "required": [
          "contentId",
          "weekNum",
          "dayNum",
          "postNum",
          "text",
          "textVersions",
          "selectedImageIndex"
        ],
        "title": "UpdateTextVersionsRequest",
        "description": "Request schema for updating text versions.\n\nDirect port from V1 UpdateTextVersionsRequest model."
      },
      "UpdateTextVersionsResponse": {
        "properties": {
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Operation status",
            "default": "success"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Success message",
            "default": "Text versions updated successfully"
          }
        },
        "type": "object",
        "title": "UpdateTextVersionsResponse",
        "description": "Response schema for text versions update.\n\nDirect port from V1 response format."
      },
      "UserRegistrationResponse": {
        "properties": {
          "user": {
            "$ref": "#/components/schemas/UserResponse",
            "description": "Created user profile"
          },
          "emailVerificationSent": {
            "type": "boolean",
            "title": "Emailverificationsent",
            "description": "Whether email verification was sent"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "User-friendly message",
            "default": "Registration successful. Please check your email to verify your account."
          }
        },
        "type": "object",
        "required": [
          "user",
          "emailVerificationSent"
        ],
        "title": "UserRegistrationResponse",
        "description": "Schema for user registration response.\n\nReturned after successful registration, includes status of email verification."
      },
      "UserResponse": {
        "properties": {
          "email": {
            "type": "string",
            "format": "email",
            "title": "Email",
            "description": "User email address"
          },
          "name": {
            "type": "string",
            "maxLength": 255,
            "minLength": 1,
            "title": "Name",
            "description": "User full name"
          },
          "id": {
            "type": "string",
            "title": "Id",
            "description": "User ID"
          },
          "emailVerified": {
            "type": "boolean",
            "title": "Emailverified",
            "description": "Whether email has been verified"
          },
          "plan": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Plan",
            "description": "Subscription plan"
          },
          "role": {
            "type": "string",
            "title": "Role",
            "description": "User role",
            "default": "user"
          },
          "isAdmin": {
            "type": "boolean",
            "title": "Isadmin",
            "description": "Whether user has admin privileges",
            "default": false
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "title": "Createdat",
            "description": "Account creation timestamp"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "title": "Updatedat",
            "description": "Last update timestamp"
          }
        },
        "type": "object",
        "required": [
          "email",
          "name",
          "id",
          "emailVerified",
          "createdAt",
          "updatedAt"
        ],
        "title": "UserResponse",
        "description": "Schema for user responses.\n\nExcludes sensitive fields like password_hash.\nIncludes all public profile information."
      },
      "ValidationError": {
        "properties": {
          "loc": {
            "items": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                }
              ]
            },
            "type": "array",
            "title": "Location"
          },
          "msg": {
            "type": "string",
            "title": "Message"
          },
          "type": {
            "type": "string",
            "title": "Error Type"
          }
        },
        "type": "object",
        "required": [
          "loc",
          "msg",
          "type"
        ],
        "title": "ValidationError"
      },
      "VersionHistoryResponse": {
        "properties": {
          "postId": {
            "type": "string",
            "title": "Postid"
          },
          "currentVersion": {
            "type": "integer",
            "title": "Currentversion"
          },
          "totalVersions": {
            "type": "integer",
            "title": "Totalversions"
          },
          "versions": {
            "items": {
              "$ref": "#/components/schemas/PostVersionItemResponse"
            },
            "type": "array",
            "title": "Versions"
          }
        },
        "type": "object",
        "required": [
          "postId",
          "currentVersion",
          "totalVersions",
          "versions"
        ],
        "title": "VersionHistoryResponse",
        "description": "Version history response with camelCase aliases."
      },
      "VersionModifications": {
        "properties": {
          "feedback": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Feedback",
            "description": "User feedback to incorporate"
          },
          "tone": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tone",
            "description": "Desired tone: professional, casual, etc."
          },
          "prompt": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Prompt",
            "description": "New/modified prompt for media"
          },
          "style": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Style",
            "description": "Style transfer to apply"
          },
          "keep_composition": {
            "type": "boolean",
            "title": "Keep Composition",
            "description": "Preserve layout/composition",
            "default": true
          }
        },
        "type": "object",
        "title": "VersionModifications",
        "description": "Modification parameters for version creation."
      },
      "VersionRequestTarget": {
        "type": "string",
        "enum": [
          "text",
          "media",
          "all"
        ],
        "title": "VersionRequestTarget",
        "description": "Target type for version generation."
      },
      "VersionStatusResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "status": {
            "type": "string",
            "title": "Status"
          },
          "progress": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/StatusProgressResponse"
              },
              {
                "type": "null"
              }
            ]
          },
          "result": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/StatusResultResponse"
              },
              {
                "type": "null"
              }
            ]
          },
          "error": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/StatusErrorResponse"
              },
              {
                "type": "null"
              }
            ]
          },
          "createdAt": {
            "type": "string",
            "title": "Createdat"
          },
          "startedAt": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Startedat"
          },
          "completedAt": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Completedat"
          }
        },
        "type": "object",
        "required": [
          "id",
          "status",
          "createdAt"
        ],
        "title": "VersionStatusResponse",
        "description": "Status polling response with camelCase aliases."
      },
      "WeekContent": {
        "properties": {
          "weekNumber": {
            "type": "integer",
            "title": "Weeknumber"
          },
          "days": {
            "items": {
              "$ref": "#/components/schemas/DayContent"
            },
            "type": "array",
            "title": "Days"
          }
        },
        "type": "object",
        "required": [
          "weekNumber"
        ],
        "title": "WeekContent",
        "description": "Schema for weekly content."
      },
      "WeekPlan": {
        "properties": {
          "weekNumber": {
            "type": "integer",
            "title": "Weeknumber",
            "description": "Week number (1-indexed)"
          },
          "posts": {
            "items": {
              "$ref": "#/components/schemas/PostPlan"
            },
            "type": "array",
            "title": "Posts",
            "description": "Posts for this week"
          }
        },
        "type": "object",
        "required": [
          "weekNumber",
          "posts"
        ],
        "title": "WeekPlan",
        "description": "Week within a content plan."
      },
      "WorkflowRequest": {
        "properties": {
          "sources": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Sources",
            "description": "Website URLs to crawl"
          },
          "maxPages": {
            "type": "integer",
            "title": "Maxpages",
            "description": "Maximum pages to crawl",
            "default": 100
          }
        },
        "type": "object",
        "required": [
          "sources"
        ],
        "title": "WorkflowRequest",
        "description": "Request for starting a crawling workflow."
      },
      "WorkflowResponse": {
        "properties": {
          "workflowId": {
            "type": "string",
            "title": "Workflowid",
            "description": "Unique workflow identifier"
          },
          "brandId": {
            "type": "string",
            "title": "Brandid",
            "description": "Brand identifier"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Overall workflow status: running, completed, failed"
          },
          "steps": {
            "items": {
              "$ref": "#/components/schemas/WorkflowStep"
            },
            "type": "array",
            "title": "Steps",
            "description": "Workflow steps with status"
          },
          "createdAt": {
            "type": "string",
            "title": "Createdat",
            "description": "ISO timestamp when workflow was created"
          },
          "progress": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 100.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Progress",
            "description": "Overall progress percentage 0-100"
          },
          "currentStep": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Currentstep",
            "description": "Currently executing step"
          },
          "sources": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Sources",
            "description": "URLs being crawled"
          },
          "pagesCrawled": {
            "type": "integer",
            "title": "Pagescrawled",
            "description": "Number of pages successfully downloaded/scraped",
            "default": 0
          },
          "pagesProcessed": {
            "type": "integer",
            "title": "Pagesprocessed",
            "description": "Number of pages analyzed for knowledge extraction",
            "default": 0
          },
          "totalPages": {
            "type": "integer",
            "title": "Totalpages",
            "description": "Total pages discovered (can increase during crawl)",
            "default": 0
          },
          "totalPercentage": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 100.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Totalpercentage",
            "description": "Detailed progress percentage with decimals"
          },
          "result": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Result",
            "description": "Final workflow result (only when completed)"
          }
        },
        "type": "object",
        "required": [
          "workflowId",
          "brandId",
          "status",
          "steps",
          "createdAt"
        ],
        "title": "WorkflowResponse",
        "description": "Response from workflow operations with detailed progress tracking."
      },
      "WorkflowStatusResponse": {
        "properties": {
          "status": {
            "type": "string",
            "title": "Workflow Status",
            "description": "Current workflow status: pending, running, completed, or failed"
          },
          "progress": {
            "type": "integer",
            "maximum": 100.0,
            "minimum": 0.0,
            "title": "Progress Percentage",
            "description": "Workflow completion percentage (0-100)",
            "default": 0
          },
          "message": {
            "type": "string",
            "title": "Status Message",
            "description": "Human-readable status message (e.g., 'Generating post 10 of 21')",
            "default": ""
          },
          "currentStep": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Current Step",
            "description": "Name of the currently executing workflow step"
          },
          "workflowId": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Workflow ID",
            "description": "GCP Workflow execution ID for tracking"
          }
        },
        "type": "object",
        "required": [
          "status"
        ],
        "title": "WorkflowStatusResponse",
        "description": "Schema for workflow status response.\n\nProvides a simplified view of workflow execution status for polling.\nUsed by the frontend to monitor content generation progress.\n\nIssue #1227: Missing workflow-status endpoint for campaigns"
      },
      "WorkflowStep": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Step name: crawling, analyzing, or completed"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Step status: pending, running, completed, or failed"
          },
          "started_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Started At",
            "description": "ISO timestamp when step started"
          },
          "completed_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Completed At",
            "description": "ISO timestamp when step completed"
          }
        },
        "type": "object",
        "required": [
          "name",
          "status"
        ],
        "title": "WorkflowStep",
        "description": "Schema for workflow step tracking."
      }
    },
    "securitySchemes": {
      "HTTPBearer": {
        "type": "http",
        "scheme": "bearer"
      }
    }
  }
}
