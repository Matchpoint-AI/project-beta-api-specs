{
  "openapi": "3.1.0",
  "info": {
    "title": "Project Beta API",
    "description": "AI-powered content generation platform API",
    "version": "0.7.1105"
  },
  "paths": {
    "/api/v2/admin/config": {
      "get": {
        "tags": [
          "admin-config"
        ],
        "summary": "List All Config",
        "description": "List all system configuration entries.",
        "operationId": "list_all_config_api_v2_admin_config_get",
        "responses": {
          "200": {
            "description": "All config entries returned",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SystemConfigListResponse"
                }
              }
            }
          },
          "403": {
            "description": "Admin access required"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v2/admin/config/categories/{category}": {
      "get": {
        "tags": [
          "admin-config"
        ],
        "summary": "List Config By Category",
        "description": "List system configuration entries by category.",
        "operationId": "list_config_by_category_api_v2_admin_config_categories__category__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "category",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Config category",
              "title": "Category"
            },
            "description": "Config category"
          }
        ],
        "responses": {
          "200": {
            "description": "Config entries for category returned",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SystemConfigListResponse"
                }
              }
            }
          },
          "403": {
            "description": "Admin access required"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/admin/config/{key}": {
      "put": {
        "tags": [
          "admin-config"
        ],
        "summary": "Update Config",
        "description": "Update a system configuration value.",
        "operationId": "update_config_api_v2_admin_config__key__put",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "key",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Config key to update",
              "title": "Key"
            },
            "description": "Config key to update"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SystemConfigUpdateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Config updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SystemConfigResponse"
                }
              }
            }
          },
          "403": {
            "description": "Admin access required"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/admin/guardrails/brands/{brand_id}": {
      "get": {
        "tags": [
          "admin-guardrails"
        ],
        "summary": "Get Brand Guardrails",
        "description": "Get all guardrails for a brand (admin view).",
        "operationId": "get_brand_guardrails_api_v2_admin_guardrails_brands__brand_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "brand_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Brand ID",
              "title": "Brand Id"
            },
            "description": "Brand ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Guardrails for brand returned",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BrandGuardrailListResponse"
                }
              }
            }
          },
          "403": {
            "description": "Admin access required"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "admin-guardrails"
        ],
        "summary": "Create Guardrail",
        "description": "Create a new guardrail for a brand.",
        "operationId": "create_guardrail_api_v2_admin_guardrails_brands__brand_id__post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "brand_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Brand ID",
              "title": "Brand Id"
            },
            "description": "Brand ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BrandGuardrailBase"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Guardrail created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BrandGuardrailResponse"
                }
              }
            }
          },
          "403": {
            "description": "Admin access required"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/admin/guardrails/{guardrail_id}": {
      "put": {
        "tags": [
          "admin-guardrails"
        ],
        "summary": "Update Guardrail",
        "description": "Update a guardrail.",
        "operationId": "update_guardrail_api_v2_admin_guardrails__guardrail_id__put",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "guardrail_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "description": "Guardrail ID",
              "title": "Guardrail Id"
            },
            "description": "Guardrail ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BrandGuardrailUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Guardrail updated",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BrandGuardrailResponse"
                }
              }
            }
          },
          "403": {
            "description": "Admin access required"
          },
          "404": {
            "description": "Guardrail not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "admin-guardrails"
        ],
        "summary": "Delete Guardrail",
        "description": "Delete a guardrail.",
        "operationId": "delete_guardrail_api_v2_admin_guardrails__guardrail_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "guardrail_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "description": "Guardrail ID",
              "title": "Guardrail Id"
            },
            "description": "Guardrail ID"
          }
        ],
        "responses": {
          "204": {
            "description": "Guardrail deleted"
          },
          "403": {
            "description": "Admin access required"
          },
          "404": {
            "description": "Guardrail not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/admin/health/overview": {
      "get": {
        "tags": [
          "admin-health"
        ],
        "summary": "Get Health Overview",
        "description": "Get system health overview with database metrics.",
        "operationId": "get_health_overview_api_v2_admin_health_overview_get",
        "responses": {
          "200": {
            "description": "Health overview returned",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HealthOverviewResponse"
                }
              }
            }
          },
          "403": {
            "description": "Admin access required"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v2/admin/health/pipeline": {
      "get": {
        "tags": [
          "admin-health"
        ],
        "summary": "Get Pipeline Health",
        "description": "Get recent content generation pipeline health.",
        "operationId": "get_pipeline_health_api_v2_admin_health_pipeline_get",
        "responses": {
          "200": {
            "description": "Pipeline health returned",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PipelineHealthResponse"
                }
              }
            }
          },
          "403": {
            "description": "Admin access required"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v2/admin/health/processes/stuck": {
      "get": {
        "tags": [
          "admin-health"
        ],
        "summary": "Get Stuck Processes",
        "description": "Detect and return all stuck processes across pipelines.\n\nIssue #2937: Checks for stalled brand crawls, content generation,\nvideo jobs, and quality gate revision loops. Thresholds are\nconfigurable via environment variables.",
        "operationId": "get_stuck_processes_api_v2_admin_health_processes_stuck_get",
        "responses": {
          "200": {
            "description": "Stuck process report returned",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StuckProcessesResponse"
                }
              }
            }
          },
          "403": {
            "description": "Admin access required"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v2/admin/observability/generation/stats": {
      "get": {
        "tags": [
          "admin-observability"
        ],
        "summary": "Get Generation Stats",
        "description": "Get content generation success/failure statistics.",
        "operationId": "get_generation_stats_api_v2_admin_observability_generation_stats_get",
        "responses": {
          "200": {
            "description": "Generation statistics returned",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GenerationStatsResponse"
                }
              }
            }
          },
          "403": {
            "description": "Admin access required"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v2/admin/observability/credits": {
      "get": {
        "tags": [
          "admin-observability"
        ],
        "summary": "Get Credit Balances",
        "description": "Check live external API credit balances.\n\nQueries OpenRouter and Firecrawl APIs concurrently for current\ncredit balances. Compares against configurable warning thresholds.\nReturns partial data with error messages if an API call fails.",
        "operationId": "get_credit_balances_api_v2_admin_observability_credits_get",
        "responses": {
          "200": {
            "description": "Credit balances returned",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CreditBalanceResponse"
                }
              }
            }
          },
          "403": {
            "description": "Admin access required"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v2/admin/prompts/ecosystem": {
      "get": {
        "tags": [
          "admin-prompts"
        ],
        "summary": "Get Prompts Ecosystem",
        "description": "Get catalog of all prompts used across the platform.\n\nReturns static metadata about each prompt including which service\nowns it, what it does, and where it's located. Phase 3 will add\nedit capability for prompts marked as editable.",
        "operationId": "get_prompts_ecosystem_api_v2_admin_prompts_ecosystem_get",
        "responses": {
          "200": {
            "description": "Prompts ecosystem catalog returned",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PromptsEcosystemResponse"
                }
              }
            }
          },
          "403": {
            "description": "Admin access required"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v2/auth/forgot-password": {
      "post": {
        "tags": [
          "auth-session"
        ],
        "summary": "Forgot Password",
        "description": "Initiate password reset flow (compatibility endpoint).\n\nThis endpoint provides backward compatibility for frontend code that\ncalls /auth/forgot-password. The canonical RMM L2 endpoint is\nPOST /passwords in user_controller.\n\nSecurity consideration: Always returns success message regardless of\nwhether email exists, to prevent email enumeration attacks.\n\nArgs:\n    request: Password reset request with email address\n    user_service: Injected user service\n\nReturns:\n    PasswordResetCreateResponse with generic success message",
        "operationId": "forgot_password_api_v2_auth_forgot_password_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PasswordResetCreateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Password reset request processed",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PasswordResetCreateResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/brands": {
      "post": {
        "tags": [
          "brands"
        ],
        "summary": "Create Brand",
        "description": "Create a new brand and automatically trigger knowledge workflow.\n\nCreates a new brand with server-generated ID and immediately publishes\na brand crawl request synchronously before returning the response.\n\nIssue #2896: Changed from BackgroundTasks to synchronous publish because\nCloud Run CPU throttling prevented background tasks from completing.\nIssue #2163: This endpoint is idempotent - if a brand with the same\nname already exists for this user, it returns the existing brand (200 OK)\ninstead of creating a duplicate or returning 409 Conflict.\n\nArgs:\n    response: FastAPI response object for setting status code\n    user_id: Authenticated user ID (from JWT token)\n    request: Brand creation request\n\nReturns:\n    201 Created: New brand created\n    200 OK: Existing brand returned (idempotent)",
        "operationId": "create_brand_api_v2_brands_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BrandCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Brand created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BrandResponse"
                }
              }
            }
          },
          "200": {
            "description": "Existing brand returned (idempotent)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BrandResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request data"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "brands"
        ],
        "summary": "List Brands",
        "description": "List brands belonging to the authenticated user.\n\nIssue #2924: Returns a PaginatedResponse with data, total, limit, offset\ninstead of a raw array.\n\nReturns a paginated list of brands owned by the authenticated user.\nSecurity: Only returns brands belonging to the authenticated user.",
        "operationId": "list_brands_api_v2_brands_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Maximum brands to return",
              "default": 20,
              "title": "Limit"
            },
            "description": "Maximum brands to return"
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "description": "Number of brands to skip",
              "default": 0,
              "title": "Offset"
            },
            "description": "Number of brands to skip"
          }
        ],
        "responses": {
          "200": {
            "description": "Paginated list of brands returned",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaginatedResponse_BrandResponse_"
                }
              }
            }
          },
          "401": {
            "description": "Authentication required"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/brands/{brand_id}": {
      "put": {
        "tags": [
          "brands"
        ],
        "summary": "Update Brand",
        "description": "Update an existing brand.\n\nUpdates an existing brand. Returns 404 if the brand doesn't exist.\nOnly provided fields will be updated (partial update).\n\nIssue #1655: Added authorization check to prevent IDOR vulnerability.",
        "operationId": "update_brand_api_v2_brands__brand_id__put",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "brand_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The brand ID",
              "title": "Brand Id"
            },
            "description": "The brand ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BrandUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Brand updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BrandResponse"
                }
              }
            }
          },
          "401": {
            "description": "Authentication required"
          },
          "403": {
            "description": "Forbidden - user does not own this brand"
          },
          "404": {
            "description": "Brand not found"
          },
          "400": {
            "description": "Invalid request data"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "brands"
        ],
        "summary": "Get Brand",
        "description": "Get brand information.\n\nReturns the brand details and status.\nReturns 404 if brand doesn't exist.\n\nRMM-2 Compliant Pattern:\n- Use GET /brands/{brand_id} for basic brand data\n- Use GET /brands/{brand_id}?include=files to explicitly request file URLs\n- Replaces non-compliant pattern: GET /brands/{brand_id}/with-files (hyphenated segment)\n\nQuery Parameters:\n- include: Optional comma-separated list of additional data to include\n          Supported values: 'files' (includes brand_guidelines_url, logo_url)\n          Example: ?include=files\n\nNote: File URLs (brand_guidelines_url, logo_url) are always included in the\nresponse for backward compatibility. The include parameter is provided to\ndemonstrate RMM-2 best practices using query parameters instead of hyphenated\npath segments.\n\nIssue #1662: Added authorization check to prevent IDOR vulnerability.",
        "operationId": "get_brand_api_v2_brands__brand_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "brand_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The brand ID",
              "title": "Brand Id"
            },
            "description": "The brand ID"
          },
          {
            "name": "include",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Comma-separated list of additional data to include (e.g., 'files')",
              "title": "Include"
            },
            "description": "Comma-separated list of additional data to include (e.g., 'files')"
          }
        ],
        "responses": {
          "200": {
            "description": "Brand information returned",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BrandResponse"
                }
              }
            }
          },
          "401": {
            "description": "Authentication required"
          },
          "403": {
            "description": "Forbidden - user does not own this brand"
          },
          "404": {
            "description": "Brand not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "brands"
        ],
        "summary": "Delete Brand",
        "description": "Delete a brand.\n\nPermanently deletes a brand and all associated data.\nReturns 404 if brand doesn't exist.\n\nRMM Level 2 Compliance:\n- DELETE /brands/{brand_id} removes the brand resource\n- Returns 204 No Content on success\n- Returns 404 if brand not found\n\nSecurity:\n- Requires authentication\n- User must own the brand (IDOR protection)",
        "operationId": "delete_brand_api_v2_brands__brand_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "brand_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The brand ID",
              "title": "Brand Id"
            },
            "description": "The brand ID"
          }
        ],
        "responses": {
          "204": {
            "description": "Brand deleted successfully"
          },
          "401": {
            "description": "Authentication required"
          },
          "403": {
            "description": "Forbidden - user does not own this brand"
          },
          "404": {
            "description": "Brand not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/brands/{brand_id}/summary": {
      "get": {
        "tags": [
          "brands"
        ],
        "summary": "Get Brand Summary",
        "description": "Get brand summary view showing what the system understood about the brand.\n\nIssue A (User Testing Feedback): After brand scraping, users need to see\nwhat the system understood about the brand. This endpoint returns a\nstructured view of:\n- Brand attributes, tone, positioning\n- Product focus areas\n- What context is being passed to content generation\n\nThis is a synchronous endpoint that extracts data from the brand's\nexisting crawl_data field. For triggering new summary generation,\nuse POST /brands/{brand_id}/summaries instead.\n\nRMM Level 2 Compliance:\n- GET retrieves the brand summary sub-resource\n- Resource-oriented hierarchical URL structure",
        "operationId": "get_brand_summary_api_v2_brands__brand_id__summary_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "brand_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The brand ID",
              "title": "Brand Id"
            },
            "description": "The brand ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Brand summary returned",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BrandSummaryView"
                }
              }
            }
          },
          "401": {
            "description": "Authentication required"
          },
          "403": {
            "description": "Forbidden - user does not own this brand"
          },
          "404": {
            "description": "Brand not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/brands/{brand_id}/onboarding/progress": {
      "patch": {
        "tags": [
          "brands"
        ],
        "summary": "Update Brand Onboarding Progress",
        "description": "Update brand onboarding progress step.\n\nTracks onboarding workflow progress including current step, completed steps,\nand optional metadata to keep the frontend aligned with backend state.\n\nIssue #1655: Added authorization check to prevent IDOR vulnerability.",
        "operationId": "update_brand_onboarding_progress_api_v2_brands__brand_id__onboarding_progress_patch",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "brand_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The brand ID",
              "title": "Brand Id"
            },
            "description": "The brand ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BrandOnboardingProgressUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Brand onboarding progress updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BrandOnboardingProgressResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid progress data"
          },
          "401": {
            "description": "Authentication required"
          },
          "403": {
            "description": "Forbidden - user does not own this brand"
          },
          "404": {
            "description": "Brand not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/brands/{brand_id}/files": {
      "post": {
        "tags": [
          "brands",
          "brand-files"
        ],
        "summary": "Upload Brand Files",
        "description": "Upload brand files (guidelines PDF and logo) with async LLM extraction.\n\nIssue #1386: Migrated to brand-crawler publisher pattern.\nIssue #1655: Added authorization check to prevent IDOR vulnerability.\nIssue #2245: Migrated to AgenticBrandCrawlerPublisher.\n\nProper REST endpoint for uploading brand files to an existing brand.\nExtracts structured brand information (colors, typography, photography)\nfrom PDF brand guidelines via agentic brand-crawler service (async).\n\nThe extraction is now async - file is uploaded immediately, and\nbrand-crawler processes the PDF in the background.",
        "operationId": "upload_brand_files",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "brand_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The brand ID",
              "title": "Brand Id"
            },
            "description": "The brand ID"
          }
        ],
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_upload_brand_files"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Brand files uploaded and processed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BrandFileUploadResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid file format or size"
          },
          "401": {
            "description": "Authentication required"
          },
          "403": {
            "description": "Forbidden - user does not own this brand"
          },
          "404": {
            "description": "Brand not found"
          },
          "413": {
            "description": "File too large"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "brands",
          "brand-files"
        ],
        "summary": "Update Brand Files",
        "description": "Update brand files (guidelines PDF and logo).\n\nProper REST endpoint for updating brand files.\nReplaces the non-RESTful /with-files endpoint.\n\nIssue #1655: Added authorization check to prevent IDOR vulnerability.",
        "operationId": "update_brand_files",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "brand_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The brand ID",
              "title": "Brand Id"
            },
            "description": "The brand ID"
          }
        ],
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_update_brand_files"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Brand files updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BrandResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid file format or size"
          },
          "401": {
            "description": "Authentication required"
          },
          "403": {
            "description": "Forbidden - user does not own this brand"
          },
          "404": {
            "description": "Brand not found"
          },
          "413": {
            "description": "File too large"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/brands/{brand_id}/summaries": {
      "post": {
        "tags": [
          "brands",
          "brand-status"
        ],
        "summary": "Generate Brand Summary",
        "description": "Trigger brand summary generation via agentic brand-crawler.\n\nIssue #1386: Migrated to brand-crawler publisher pattern.\nIssue #1102: RMM L2 compliance - renamed from /summary to /summaries.\nIssue #1655: Added authorization check to prevent IDOR vulnerability.\nIssue #2245: Migrated to AgenticBrandCrawlerPublisher.\n\n**RMM L2 Compliance**: POST /api/v2/brands/{brand_id}/summaries\n- Summaries modeled as a resource collection\n- POST creates a new summary generation request\n- Returns 202 Accepted with correlation info\n\nSummary is generated asynchronously by agentic brand-crawler:\n- The agentic service extracts brand assets and generates summaries\n- Includes: mission, vision, values, tone/voice, persona, industry, vertical\n- Excludes: brand colors, service lists, location\n- Brand record is updated with summary when complete",
        "operationId": "generate_brand_summary_api_v2_brands__brand_id__summaries_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "brand_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The brand ID",
              "title": "Brand Id"
            },
            "description": "The brand ID"
          }
        ],
        "responses": {
          "202": {
            "description": "Brand summary generation triggered",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BrandSummaryResponse"
                }
              }
            }
          },
          "401": {
            "description": "Authentication required"
          },
          "403": {
            "description": "Forbidden - user does not own this brand"
          },
          "404": {
            "description": "Brand not found"
          },
          "500": {
            "description": "Failed to trigger summary generation"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/brands/{brand_id}/knowledge/status": {
      "get": {
        "tags": [
          "brands",
          "brand-status"
        ],
        "summary": "Get Brand Knowledge Status",
        "description": "Get the status of brand knowledge extraction (Phase 1: Progressive Brand Knowledge).\n\nReturns the current status and progress of the brand's knowledge extraction workflow,\nincluding whether quick extraction and deep crawl phases are complete.\n\nThis endpoint enables the frontend to:\n- Show instant brand creation feedback\n- Display real-time progress of knowledge extraction\n- Determine when to enable features that require knowledge data\n- Poll for updates during background processing\n\nPhase Architecture:\n- Phase 1 (Instant): Brand created in < 1 second with status \"not_started\"\n- Phase 2 (Quick): Quick extraction adds colors/industry in < 3 seconds\n- Phase 3 (Deep): Deep crawl runs in background (minutes to hours)\n- Phase 4 (Enhancement): Campaigns improve as brand knowledge grows\n\nRMM Level 2 Compliance:\n- GET to /brands/{brand_id}/knowledge/status retrieves status resource\n- Resource-oriented URL structure\n- No verbs in URL path\n\nIssue #1662: Added authorization check to prevent IDOR vulnerability.",
        "operationId": "get_brand_knowledge_status_api_v2_brands__brand_id__knowledge_status_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "brand_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The brand ID",
              "title": "Brand Id"
            },
            "description": "The brand ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Knowledge extraction status returned",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BrandKnowledgeStatusResponse"
                }
              }
            }
          },
          "401": {
            "description": "Authentication required"
          },
          "403": {
            "description": "Forbidden - user does not own this brand"
          },
          "404": {
            "description": "Brand not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/brands/{brand_id}/crawl/status": {
      "get": {
        "tags": [
          "brands",
          "brand-status"
        ],
        "summary": "Get Brand Crawl Status",
        "description": "Get real-time brand crawl progress (Issue #1279).\n\nReturns comprehensive crawl status information so the frontend can show\nusers real-time progress during website crawling operations.\n\nStatus Values:\n- not_started: No crawl has been initiated\n- pending: Crawl queued but not yet started\n- estimating: Analyzing website structure\n- crawling: Actively crawling pages\n- extracting: Extracting brand assets from crawled content\n- uploading: Saving extracted assets\n- complete: Crawl finished successfully\n- failed: Crawl encountered an error\n\nRMM Level 2 Compliance:\n- GET retrieves crawl status sub-resource\n- Resource-oriented hierarchical URL structure\n- /crawl/status follows RMM-2 path pattern\n\nIssue #1662: Added authorization check to prevent IDOR vulnerability.",
        "operationId": "get_brand_crawl_status_api_v2_brands__brand_id__crawl_status_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "brand_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The brand ID",
              "title": "Brand Id"
            },
            "description": "The brand ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Brand crawl status returned",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BrandCrawlStatusResponse"
                }
              }
            }
          },
          "401": {
            "description": "Authentication required"
          },
          "403": {
            "description": "Forbidden - user does not own this brand"
          },
          "404": {
            "description": "Brand not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/brands/{brand_id}/crawls": {
      "post": {
        "tags": [
          "brands",
          "brand-status"
        ],
        "summary": "Trigger Brand Recrawl",
        "description": "Trigger a re-crawl for a brand whose crawl has failed or become stuck.\n\nIssue #2935: Dedicated endpoint for re-crawling brands. This provides a\nclear mechanism for users to restart brand crawls without the confusion\nof using the POST /brands/{brand_id}/summaries endpoint.\n\nThis endpoint:\n1. Validates brand ownership (user must own the brand)\n2. Rate-limits re-crawl requests (max 1 per 5 minutes per brand)\n3. Resets brand knowledge_status to 'pending'\n4. Re-publishes crawl message to Pub/Sub\n5. Returns 202 Accepted with correlation info\n\nRMM Level 2 Compliance:\n- POST /brands/{brand_id}/crawls creates a new crawl resource\n- Returns 202 Accepted for async operation",
        "operationId": "trigger_brand_recrawl_api_v2_brands__brand_id__crawls_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "brand_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The brand ID",
              "title": "Brand Id"
            },
            "description": "The brand ID"
          }
        ],
        "responses": {
          "202": {
            "description": "Brand re-crawl triggered successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BrandRecrawlResponse"
                }
              }
            }
          },
          "401": {
            "description": "Authentication required"
          },
          "403": {
            "description": "Forbidden - user does not own this brand"
          },
          "404": {
            "description": "Brand not found"
          },
          "429": {
            "description": "Rate limit exceeded - re-crawl too frequent"
          },
          "500": {
            "description": "Failed to trigger re-crawl"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/brands/{brand_id}/manual-complete": {
      "post": {
        "tags": [
          "brands",
          "brand-status"
        ],
        "summary": "Mark Brand Manual Complete",
        "description": "Mark a manually-entered brand as ready for campaign creation.\n\nIssue #3423: Manual brand entry (without website crawl) does not update\nknowledge_status, so campaign creation remains disabled. This endpoint\nsets knowledge_status to 'crawl_complete' and knowledge_progress to 100,\nenabling campaign creation for manually-entered brands.\n\nPattern #130: Manual bypass paths must replicate async workflow state transitions.\n\nThis endpoint:\n1. Validates brand ownership (user must own the brand)\n2. Updates knowledge_status to 'crawl_complete'\n3. Sets knowledge_progress to 100\n4. Sets last_crawled_at to current timestamp\n5. Returns the updated status\n\nRMM Level 2 Compliance:\n- POST /brands/{brand_id}/manual-complete is a dedicated action endpoint\n- Returns 200 OK with updated status",
        "operationId": "mark_brand_manual_complete_api_v2_brands__brand_id__manual_complete_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "brand_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The brand ID",
              "title": "Brand Id"
            },
            "description": "The brand ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Brand knowledge marked as complete",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BrandManualCompleteResponse"
                }
              }
            }
          },
          "401": {
            "description": "Authentication required"
          },
          "403": {
            "description": "Forbidden - user does not own this brand"
          },
          "404": {
            "description": "Brand not found"
          },
          "409": {
            "description": "Brand knowledge already complete"
          },
          "500": {
            "description": "Failed to update brand knowledge status"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/webhooks/brand-crawl-output": {
      "post": {
        "tags": [
          "brand-crawl-output"
        ],
        "summary": "Receive brand crawl output from single topic",
        "description": "Pub/Sub push endpoint for receiving brand crawl results from the agentic-brand-crawler-{env}-output topic. Receives a single consolidated message with complete brand_assets. Issue #2591: Single output message replaces CORE/DEEP handlers.",
        "operationId": "receive_brand_crawl_output_api_v2_webhooks_brand_crawl_output_post",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          },
          {
            "name": "X-PubSub-Secret",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Pubsub-Secret"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BrandCrawlOutputEnvelope"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BrandCrawlOutputAckResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/brands/{brand_id}/knowledge/workflows": {
      "post": {
        "tags": [
          "brand-workflow"
        ],
        "summary": "Start Knowledge Workflow",
        "description": "Start knowledge discovery workflow for a brand.\n\nPublishes a crawl request to the brand-crawler Pub/Sub topic.\nThe crawler orchestrates website crawling, content extraction, and\nknowledge storage. This is an explicit trigger following RMM Level 2 principles.\n\nThe crawl runs asynchronously. Poll the status endpoint to monitor progress.\n\nDesign Pattern (RMM L2):\n- POST creates a workflow resource (not an RPC \"scrape\" action)\n- Returns 202 Accepted (async processing)\n- Provides workflow_id for status polling\n- Idempotent: multiple POSTs return existing workflow if already running\n\nIssue #2553: Added authentication and authorization checks.",
        "operationId": "start_knowledge_workflow_api_v2_brands__brand_id__knowledge_workflows_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "brand_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The brand ID",
              "title": "Brand Id"
            },
            "description": "The brand ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/WorkflowRequest"
              }
            }
          }
        },
        "responses": {
          "202": {
            "description": "Workflow started successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WorkflowResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request data"
          },
          "401": {
            "description": "Authentication required"
          },
          "403": {
            "description": "Forbidden - user does not own this brand"
          },
          "404": {
            "description": "Brand not found"
          },
          "409": {
            "description": "Workflow already running for this brand"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/brands/{brand_id}/knowledge/workflows/{workflow_id}": {
      "get": {
        "tags": [
          "brand-workflow"
        ],
        "summary": "Get Brand Workflow",
        "description": "Get the status of the knowledge collection workflow.\n\nReturns the current status of the background workflow including\nprogress, current step, and any results. This endpoint is used\nby the frontend to monitor the progress of the knowledge extraction\nthat was initiated internally during brand creation.\n\nIssue #1268: Migrated from WorkflowService to DB-based status tracking.\nStatus is now read from the brand's knowledge_status field.\n\nIssue #2553: Added authentication and authorization checks.",
        "operationId": "get_brand_workflow_api_v2_brands__brand_id__knowledge_workflows__workflow_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "brand_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The brand ID",
              "title": "Brand Id"
            },
            "description": "The brand ID"
          },
          {
            "name": "workflow_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The workflow ID",
              "title": "Workflow Id"
            },
            "description": "The workflow ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Workflow status returned",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WorkflowResponse"
                }
              }
            }
          },
          "401": {
            "description": "Authentication required"
          },
          "403": {
            "description": "Forbidden - user does not own this brand"
          },
          "404": {
            "description": "No workflow found for this brand"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/brands/{brand_id}/knowledge": {
      "get": {
        "tags": [
          "brand-workflow"
        ],
        "summary": "Get Brand Knowledge V2",
        "description": "Get extracted brand knowledge in V2 format with pagination.\n\nReturns the extracted brand knowledge including personality traits,\ntone attributes, color palette, products, and descriptions. This endpoint\nprovides the structured knowledge after workflow completion.\n\nRMM L2 Compliant: Supports `view` query parameter to control response type.\n- view=summary: Returns summary statistics (replaces /knowledge/summary)\n- view not specified: Returns full knowledge list with pagination\n\nSupports pagination parameters for future compatibility when multiple\nknowledge entries per brand are supported.\n\nIssue #2553: Added authentication and authorization checks.",
        "operationId": "get_brand_knowledge_v2_api_v2_brands__brand_id__knowledge_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "brand_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The brand ID",
              "title": "Brand Id"
            },
            "description": "The brand ID"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Number of items to return",
              "default": 10,
              "title": "Limit"
            },
            "description": "Number of items to return"
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "description": "Number of items to skip",
              "default": 0,
              "title": "Offset"
            },
            "description": "Number of items to skip"
          },
          {
            "name": "view",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "View mode: 'summary' for summary statistics. If not provided, returns full knowledge list.",
              "enum": [
                "summary"
              ],
              "title": "View"
            },
            "description": "View mode: 'summary' for summary statistics. If not provided, returns full knowledge list."
          }
        ],
        "responses": {
          "200": {
            "description": "Brand knowledge returned",
            "content": {
              "application/json": {
                "schema": {
                  "anyOf": [
                    {
                      "$ref": "#/components/schemas/BrandKnowledgeV2ListResponse"
                    },
                    {
                      "$ref": "#/components/schemas/BrandKnowledgeBrandSummaryResponse"
                    }
                  ],
                  "title": "Response Get Brand Knowledge V2 Api V2 Brands  Brand Id  Knowledge Get"
                }
              }
            }
          },
          "401": {
            "description": "Authentication required"
          },
          "403": {
            "description": "Forbidden - user does not own this brand"
          },
          "404": {
            "description": "Brand knowledge not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/briefs": {
      "post": {
        "tags": [
          "briefs"
        ],
        "summary": "Receive brand brief from crawler",
        "description": "Pub/Sub push endpoint for receiving brand briefs from the agentic brand crawler. Accepts messages from both core (quick) and deep (comprehensive) topics. Persists image assets to GCS and briefs to PostgreSQL.",
        "operationId": "receive_brief_api_v2_briefs_post",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          },
          {
            "name": "X-PubSub-Secret",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Pubsub-Secret"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/src__domains__crawler__schemas__crawler_briefs__PubSubPushEnvelope"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BriefAckResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/briefs/{correlation_id}": {
      "get": {
        "tags": [
          "briefs"
        ],
        "summary": "Get crawl status by correlation_id",
        "description": "Query the status of a brand crawl by correlation_id. Returns aggregated status derived from received briefs (CORE/DEEP), allowing frontend to track crawl progress in real-time.",
        "operationId": "get_brief_status_api_v2_briefs__correlation_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "correlation_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Correlation Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BriefStatusResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "No briefs found for correlation_id"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/campaigns": {
      "post": {
        "tags": [
          "campaigns"
        ],
        "summary": "Create Campaign",
        "description": "Create a new campaign and auto-trigger content generation.\n\nCreates a new campaign with server-generated ID. The campaign name should be unique.\nUser ID is extracted from the authenticated user's JWT token for security.\n\nAfter successful campaign creation, automatically triggers content generation\nby publishing to Pub/Sub synchronously before returning the response.\nIssue #2837: Changed from BackgroundTasks to synchronous publish because\nCloud Run CPU throttling prevented background tasks from completing.\n\nArchitecture Note (Issue #2192):\n- Uses AgenticContentGenerationPublisher for agentic content generation\n- Fat message pattern: all brand/campaign context included in message\n- Agentic service has no database access\n- Frontend polls /campaigns/{id}/workflow/status for progress\n\nArgs:\n    user_id: Authenticated user ID (from JWT token)\n    request: Campaign creation request (user_id extracted from JWT, not body)\n    brand_service: Service for brand data access\n    campaign_service: Service for campaign CRUD operations\n    agentic_publisher: Publisher for agentic content generation requests\n    brand_knowledge_service: Service for brand knowledge retrieval\n    brand_guardrail_repository: Repository for brand guardrails\n\nReturns:\n    CampaignResponse: The created campaign (content generation runs in background)\n\nRaises:\n    HTTPException: 401 if authentication fails, 400 for invalid data",
        "operationId": "create_campaign_api_v2_campaigns_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CampaignCreateRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Campaign created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CampaignResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request data or brand not found for content generation"
          },
          "401": {
            "description": "Unauthorized - invalid or missing authentication token"
          },
          "409": {
            "description": "Campaign with this name already exists"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "campaigns"
        ],
        "summary": "List Campaigns",
        "description": "List all campaigns for the authenticated user.\n\nIssue #2924: Returns a PaginatedResponse with data, total, limit, offset\ninstead of a raw array.\n\nArgs:\n    user_id: Authenticated user's ID (from JWT token)\n    brand_id: Optional brand ID to filter campaigns by\n    limit: Maximum number of campaigns to return (default 20, max 100)\n    offset: Number of campaigns to skip for pagination (default 0)\n\nReturns:\n    PaginatedResponse with campaigns for the authenticated user",
        "operationId": "list_campaigns_api_v2_campaigns_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "brand_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter campaigns by brand ID. If provided, returns only campaigns for this brand.",
              "title": "Brand Id"
            },
            "description": "Filter campaigns by brand ID. If provided, returns only campaigns for this brand."
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Maximum campaigns to return",
              "default": 20,
              "title": "Limit"
            },
            "description": "Maximum campaigns to return"
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "description": "Number of campaigns to skip",
              "default": 0,
              "title": "Offset"
            },
            "description": "Number of campaigns to skip"
          }
        ],
        "responses": {
          "200": {
            "description": "Paginated list of campaigns returned",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaginatedResponse_CampaignResponse_"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - invalid or missing authentication token"
          },
          "422": {
            "description": "Validation Error"
          }
        }
      }
    },
    "/api/v2/campaigns/{campaign_id}": {
      "put": {
        "tags": [
          "campaigns"
        ],
        "summary": "Update Campaign",
        "description": "Partially update a campaign (deprecated  use PATCH instead).\n\n.. deprecated::\n    This endpoint performs a partial update identical to PATCH.\n    Use ``PATCH /campaigns/{campaign_id}`` instead.\n\nDespite being a PUT endpoint, this performs a **partial** update:\nonly the fields provided in the request body are changed. This violates\nREST semantics where PUT should replace the entire resource.\n\nKept for backward compatibility with existing frontend clients.\nWill be removed in a future API version.\n\nIssue #1736: Added authorization check to prevent IDOR vulnerability.\nIssue #2925: Marked as deprecated  identical to PATCH endpoint.",
        "operationId": "update_campaign_api_v2_campaigns__campaign_id__put",
        "deprecated": true,
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "campaign_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The campaign ID",
              "title": "Campaign Id"
            },
            "description": "The campaign ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CampaignUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Campaign updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CampaignResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - authentication required"
          },
          "403": {
            "description": "Forbidden - user does not own this campaign"
          },
          "404": {
            "description": "Campaign not found"
          },
          "400": {
            "description": "Invalid request data"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "campaigns"
        ],
        "summary": "Patch Campaign",
        "description": "Partially update a campaign (e.g., publish).\n\nThis is the RMM Level 2 compliant endpoint for partial campaign updates.\nInstead of POST /campaigns/{id}/publish, use PATCH with status update.\nRequires authentication and ownership of the campaign.\n\nExample: To publish a campaign, send PATCH with {\"status\": \"published\"}\n\nIssue #1736: Added authorization check to prevent IDOR vulnerability.",
        "operationId": "patch_campaign_api_v2_campaigns__campaign_id__patch",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "campaign_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The campaign ID",
              "title": "Campaign Id"
            },
            "description": "The campaign ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CampaignUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Campaign updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CampaignResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - authentication required"
          },
          "403": {
            "description": "Forbidden - user does not own this campaign"
          },
          "404": {
            "description": "Campaign not found"
          },
          "400": {
            "description": "Invalid request data"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "campaigns"
        ],
        "summary": "Get Campaign",
        "description": "Get campaign information.\n\nReturns the campaign details and status.\nRequires authentication and ownership of the campaign.\nReturns 404 if campaign doesn't exist.\n\nIssue #1736: Added authorization check to prevent IDOR vulnerability.",
        "operationId": "get_campaign_api_v2_campaigns__campaign_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "campaign_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The campaign ID",
              "title": "Campaign Id"
            },
            "description": "The campaign ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Campaign information returned",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CampaignResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - authentication required"
          },
          "403": {
            "description": "Forbidden - user does not own this campaign"
          },
          "404": {
            "description": "Campaign not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "campaigns"
        ],
        "summary": "Delete Campaign",
        "description": "Delete a campaign.\n\nDeletes the specified campaign. Returns 204 on successful deletion.\nRequires authentication and ownership of the campaign.\nReturns 404 if campaign doesn't exist.\n\nIssue #1736: Added authorization check to prevent IDOR vulnerability.",
        "operationId": "delete_campaign_api_v2_campaigns__campaign_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "campaign_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The campaign ID",
              "title": "Campaign Id"
            },
            "description": "The campaign ID"
          }
        ],
        "responses": {
          "204": {
            "description": "Campaign deleted successfully"
          },
          "401": {
            "description": "Unauthorized - authentication required"
          },
          "403": {
            "description": "Forbidden - user does not own this campaign"
          },
          "404": {
            "description": "Campaign not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/campaigns/{campaign_id}/statistics": {
      "get": {
        "tags": [
          "campaigns"
        ],
        "summary": "Get Campaign Statistics",
        "description": "Get campaign statistics.\n\nReturns detailed statistics for a specific campaign including engagement metrics,\nplatform breakdown, content performance, content status breakdown, and campaign progress.\nRequires authentication and ownership of the campaign.\n\nIssue #1736: Added authorization check to prevent IDOR vulnerability.",
        "operationId": "get_campaign_statistics_api_v2_campaigns__campaign_id__statistics_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "campaign_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The campaign ID",
              "title": "Campaign Id"
            },
            "description": "The campaign ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Campaign statistics returned",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CampaignStatistics"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - authentication required"
          },
          "403": {
            "description": "Forbidden - user does not own this campaign"
          },
          "404": {
            "description": "Campaign not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/campaigns/{campaign_id}/content/status": {
      "get": {
        "tags": [
          "campaigns",
          "campaign-generation"
        ],
        "summary": "Get Campaign Content Status",
        "description": "Get content generation status for a campaign.\n\nReturns the current status of async content generation including:\n- Overall status (pending/generating/completed/failed)\n- Progress percentage (0-100)\n- Post-level breakdown (posts with text, images, ready for review)\n- Correlation ID for request tracing\n\nThis endpoint is designed for polling during async content generation.\nFrontend should poll this endpoint to track progress after triggering\ncontent generation via POST /campaigns/{id}/content/generations.\nRequires authentication and ownership of the campaign.\n\nIssue #1484: Add async status polling endpoints for content generation.\nIssue #1736: Added authorization check to prevent IDOR vulnerability.\n\nArgs:\n    campaign_id: The campaign ID to check status for\n    correlation_id: Optional correlation ID from generation request\n    user_id: Authenticated user's ID (from JWT token)\n    campaign_service: Service for campaign operations\n    generation_status_service: Service for generation status\n\nReturns:\n    CampaignContentStatusResponse with progress and breakdown",
        "operationId": "get_campaign_content_status_api_v2_campaigns__campaign_id__content_status_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "campaign_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The campaign ID",
              "title": "Campaign Id"
            },
            "description": "The campaign ID"
          },
          {
            "name": "correlation_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Correlation ID from generation request for tracing",
              "title": "Correlation Id"
            },
            "description": "Correlation ID from generation request for tracing"
          }
        ],
        "responses": {
          "200": {
            "description": "Content generation status returned",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CampaignContentStatusResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - authentication required"
          },
          "403": {
            "description": "Forbidden - user does not own this campaign"
          },
          "404": {
            "description": "Campaign not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/campaigns/{campaign_id}/content/generations": {
      "post": {
        "tags": [
          "campaigns",
          "campaign-generation"
        ],
        "summary": "Trigger Content Generation",
        "description": "Trigger content generation for a campaign.\n\nPublishes a content generation request to the post-generator service.\nThe request is processed asynchronously - this endpoint returns immediately\nwith a 202 Accepted response.\n\nIssue #2192: Uses agentic content generation with fat message pattern:\n- All brand/campaign context included in the message\n- Agentic service has no database access\n- Generation progress can be monitored via the workflow status endpoint\n\nIssue #2223: Pre-creates placeholder posts before publishing:\n- Calculates total posts from campaign duration and posts_per_day\n- Creates posts with IDs like \"week_1_day_1_post_1\"\n- Includes post_placeholders in fat message for correlation\n- Generator uses these IDs when returning outputs\n\nML Feature Wiring:\n- Phase 2: Fetches Thompson Sampling learning state for scene type optimization\n- Phase 3: Fetches schedule optimization data for optimal posting times\n- Phase 4: Fetches contextual bandit state for context-aware decisions\n- All ML data is optional - if fetching fails, proceed without it\n\nArgs:\n    campaign_id: The campaign ID to generate content for\n    user_id: Authenticated user ID (from JWT token)\n    campaign_service: Service for campaign operations\n    brand_service: Service for brand data access\n    post_repository: Repository for post creation\n    agentic_publisher: Publisher for agentic content generation\n    brand_knowledge_service: Service for brand knowledge retrieval\n    thompson_sampling_service: Service for Thompson Sampling learning state (Phase 2)\n    schedule_optimizer_service: Service for schedule optimization (Phase 3)\n    contextual_bandit_service: Service for contextual bandit recommendations (Phase 4)\n\nReturns:\n    ContentGenerationResponse with message_id for tracking\n\nRaises:\n    HTTPException: 404 if campaign not found, 500 if publishing fails",
        "operationId": "trigger_content_generation_api_v2_campaigns__campaign_id__content_generations_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "campaign_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The campaign ID",
              "title": "Campaign Id"
            },
            "description": "The campaign ID"
          }
        ],
        "responses": {
          "202": {
            "description": "Content generation request accepted",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContentGenerationResponse"
                }
              }
            }
          },
          "404": {
            "description": "Campaign not found"
          },
          "500": {
            "description": "Failed to trigger content generation"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/campaigns/{campaign_id}/publications": {
      "post": {
        "tags": [
          "campaigns",
          "campaign-export"
        ],
        "summary": "Create Campaign Publication",
        "description": "Create a campaign publication (RMM L2: publication is a resource).\n\nDirect port from V1 POST /api/v1/campaign/publish endpoint.\nRequires authentication and ownership of the campaign.\n\nRMM L2 Rationale:\n- Publications are resources representing published campaign instances\n- Creating publication is resource creation (not RPC-style /publish)\n- Publications track platform, schedule, and status\n\nThis endpoint:\n- Validates campaign exists and has approved content\n- Schedules posts via Cloud Scheduler (via ScheduledPostService)\n- Returns publication summary with scheduling results\n\nIssue #1736: Added authorization check to prevent IDOR vulnerability.",
        "operationId": "create_campaign_publication_api_v2_campaigns__campaign_id__publications_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "campaign_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The campaign ID",
              "title": "Campaign Id"
            },
            "description": "The campaign ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CampaignPublicationCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Publication created and scheduled successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CampaignPublicationResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - authentication required"
          },
          "403": {
            "description": "Forbidden - user does not own this campaign"
          },
          "404": {
            "description": "Campaign not found"
          },
          "400": {
            "description": "Invalid publication data"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/campaigns/{campaign_id}/specifications": {
      "post": {
        "tags": [
          "campaigns",
          "campaign-export"
        ],
        "summary": "Generate Campaign Specifications",
        "description": "Trigger async campaign specification generation.\n\nIssue #2192: Uses agentic content generation with fat message pattern.\n\nPublishes a content generation request to the post-generator service.\nThe agentic service handles specifications as part of its strategy phase.\nThe request is processed asynchronously - this endpoint returns immediately\nwith a 202 Accepted response.\n\nArgs:\n    campaign_id: The campaign ID to generate specifications for\n    user_id: Authenticated user ID (from JWT token)\n    request: Request data (currently unused, reserved for future use)\n    campaign_service: Service for campaign operations\n    brand_service: Service for brand data access\n    agentic_publisher: Publisher for agentic content generation\n    brand_knowledge_service: Service for brand knowledge retrieval\n    brand_guardrail_repository: Repository for brand guardrails\n\nReturns:\n    CampaignSpecificationAsyncResponse with message_id for tracking\n\nRaises:\n    HTTPException: 404 if campaign not found, 500 if publishing fails",
        "operationId": "generate_campaign_specifications_api_v2_campaigns__campaign_id__specifications_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "campaign_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The campaign ID",
              "title": "Campaign Id"
            },
            "description": "The campaign ID"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CampaignSpecificationRequest"
              }
            }
          }
        },
        "responses": {
          "202": {
            "description": "Specification generation request accepted",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CampaignSpecificationAsyncResponse"
                }
              }
            }
          },
          "404": {
            "description": "Campaign not found"
          },
          "500": {
            "description": "Failed to trigger specification generation"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/campaigns/{campaign_id}/specifications/status": {
      "get": {
        "tags": [
          "campaigns",
          "campaign-export"
        ],
        "summary": "Get Specification Status",
        "description": "Get specification generation status for a campaign.\n\nIssue #1549: Status polling endpoint for async specification generation.\n\nReturns the current status of async specification generation including:\n- Overall status (pending/generating/completed/failed)\n- Generated specification (when completed)\n- Error message (when failed)\n\nThis endpoint is designed for polling during async specification generation.\nFrontend should poll this endpoint to track progress after triggering\nspecification generation via POST /campaigns/{id}/specifications.\n\nArgs:\n    campaign_id: The campaign ID to check status for\n    correlation_id: Optional correlation ID from generation request\n    user_id: Authenticated user ID (from JWT token)\n    campaign_service: Service for campaign operations\n\nReturns:\n    CampaignSpecificationStatusResponse with status and optional specification",
        "operationId": "get_specification_status_api_v2_campaigns__campaign_id__specifications_status_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "campaign_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The campaign ID",
              "title": "Campaign Id"
            },
            "description": "The campaign ID"
          },
          {
            "name": "correlation_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Correlation ID from generation request for tracing",
              "title": "Correlation Id"
            },
            "description": "Correlation ID from generation request for tracing"
          }
        ],
        "responses": {
          "200": {
            "description": "Specification generation status returned",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CampaignSpecificationStatusResponse"
                }
              }
            }
          },
          "404": {
            "description": "Campaign not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/campaigns/{campaign_id}/exports/approval/status": {
      "get": {
        "tags": [
          "campaigns",
          "campaign-export"
        ],
        "summary": "Get Exports Approval Status",
        "description": "Get detailed export approval status for a campaign.\n\nRMM L2 Compliant: Uses hierarchical path '/exports/approval/status'.\n\nReturns detailed approval status for the export workflow including:\n- Whether all content is approved\n- Count of approved posts\n- Total count of posts\n- List of unapproved content IDs (for UI to show what needs approval)\n\nUsed by export functionality to:\n- Enable/disable export button\n- Show which content items need approval before export\n- Provide detailed feedback to user\n\nReturns:\n    - approved: true if all content is approved, false otherwise\n    - approved_content: number of approved posts\n    - total_content: total number of posts in campaign\n    - unapproved_content_ids: list of content IDs that are not approved",
        "operationId": "get_exports_approval_status_api_v2_campaigns__campaign_id__exports_approval_status_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "campaign_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The campaign ID",
              "title": "Campaign Id"
            },
            "description": "The campaign ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Export approval status returned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CampaignExportApprovalStatus"
                }
              }
            }
          },
          "404": {
            "description": "Campaign content not found"
          },
          "500": {
            "description": "Failed to get export approval status"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/campaigns/{campaign_id}/export": {
      "get": {
        "tags": [
          "campaigns",
          "campaign-export"
        ],
        "summary": "Get Campaign Export Data",
        "description": "Get campaign export data with content negotiation (RMM L2 compliant).\n\nIssue #1736: Added authorization check to prevent IDOR vulnerability.\n\nUses the Accept header for format selection instead of path-based format.\nCurrently supports: application/pdf\n\nRMM L2 Rationale:\n- Export data is a computed sub-resource of campaign\n- Format is requested via Accept header (content negotiation)\n- Follows HTTP specification for representation selection\n\nThis endpoint:\n- Returns all data needed for export generation\n- Includes campaign, brand, and content information\n- Supports content negotiation via Accept header\n- Performance target: <2s response time\n\nArgs:\n    response: FastAPI response object for setting headers\n    campaign_id: The campaign ID\n    accept: Accept header specifying desired format (default: application/pdf)\n    user_id: Authenticated user ID (from JWT token)\n    campaign_service: Campaign service for ownership verification\n    campaign_export_repo: Repository for export data\n\nReturns:\n    CampaignExportData with campaign, brand, and content information\n\nRaises:\n    401: Not authenticated\n    403: Not authorized to access this campaign\n    404: Campaign not found\n    406: Requested format not acceptable",
        "operationId": "get_campaign_export_data_api_v2_campaigns__campaign_id__export_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "campaign_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The campaign ID",
              "title": "Campaign Id"
            },
            "description": "The campaign ID"
          },
          {
            "name": "accept",
            "in": "header",
            "required": false,
            "schema": {
              "type": "string",
              "description": "Content type for export format (e.g., application/pdf)",
              "default": "application/pdf",
              "title": "Accept"
            },
            "description": "Content type for export format (e.g., application/pdf)"
          }
        ],
        "responses": {
          "200": {
            "description": "Export data returned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CampaignExportData"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - authentication required"
          },
          "403": {
            "description": "Forbidden - user does not own this campaign"
          },
          "404": {
            "description": "Campaign not found"
          },
          "406": {
            "description": "Requested format not supported"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/campaigns/{campaign_id}/policy": {
      "post": {
        "tags": [
          "campaigns",
          "campaign-scene-mix"
        ],
        "summary": "Create Scene Mix Policy",
        "description": "Create a scene mix policy for a campaign.\n\nCreates content mixing rules and policies for campaign content generation.\nRequires authentication and ownership of the campaign.\n\nIssue #1551: Added authentication and ownership verification.",
        "operationId": "create_scene_mix_policy_api_v2_campaigns__campaign_id__policy_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "campaign_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The campaign ID",
              "title": "Campaign Id"
            },
            "description": "The campaign ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SceneMixPolicyCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Policy created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SceneMixPolicyResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request data"
          },
          "401": {
            "description": "Unauthorized - authentication required"
          },
          "403": {
            "description": "Forbidden - user does not own this campaign"
          },
          "500": {
            "description": "Server error"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "campaigns",
          "campaign-scene-mix"
        ],
        "summary": "Get Scene Mix Policy",
        "description": "Get scene mix policy for a campaign.\n\nReturns the content mixing policy configuration for the specified campaign,\nor null if no policy has been created yet. This allows the frontend to\ngracefully handle campaigns that don't have a policy configured.\n\nRequires authentication and ownership of the campaign.\n\nIssue #1551: Added authentication and ownership verification.\nIssue #2753: Return null instead of 404 for missing policy.",
        "operationId": "get_scene_mix_policy_api_v2_campaigns__campaign_id__policy_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "campaign_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The campaign ID",
              "title": "Campaign Id"
            },
            "description": "The campaign ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Policy returned successfully (or null if not created yet)",
            "content": {
              "application/json": {
                "schema": {
                  "anyOf": [
                    {
                      "$ref": "#/components/schemas/SceneMixPolicyResponse"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "title": "Response Get Scene Mix Policy Api V2 Campaigns  Campaign Id  Policy Get"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - authentication required"
          },
          "403": {
            "description": "Forbidden - user does not own this campaign"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/campaigns/{campaign_id}/plan": {
      "post": {
        "tags": [
          "campaigns",
          "campaign-scene-mix"
        ],
        "summary": "Create Scene Mix Plan",
        "description": "Create a scene mix plan for a campaign.\n\nCreates a content generation plan with scheduling and content mix specifications.\nRequires authentication and ownership of the campaign.\n\nIssue #1551: Added authentication and ownership verification.",
        "operationId": "create_scene_mix_plan_api_v2_campaigns__campaign_id__plan_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "campaign_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The campaign ID",
              "title": "Campaign Id"
            },
            "description": "The campaign ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SceneMixPlanCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Plan created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SceneMixPlanResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request data"
          },
          "401": {
            "description": "Unauthorized - authentication required"
          },
          "403": {
            "description": "Forbidden - user does not own this campaign"
          },
          "500": {
            "description": "Server error"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "campaigns",
          "campaign-scene-mix"
        ],
        "summary": "Get Scene Mix Plan",
        "description": "Get scene mix plan for a campaign.\n\nReturns the content generation plan and schedule for the specified campaign.\nRequires authentication and ownership of the campaign.\n\nIssue #1551: Added authentication and ownership verification.",
        "operationId": "get_scene_mix_plan_api_v2_campaigns__campaign_id__plan_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "campaign_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The campaign ID",
              "title": "Campaign Id"
            },
            "description": "The campaign ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Plan returned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SceneMixPlanResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - authentication required"
          },
          "403": {
            "description": "Forbidden - user does not own this campaign"
          },
          "404": {
            "description": "Plan not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "campaigns",
          "campaign-scene-mix"
        ],
        "summary": "Update Scene Mix Plan",
        "description": "Update a scene mix plan for a campaign.\n\nUpdates an existing content generation plan. Increments the policy version\nwhen significant changes are made.\nRequires authentication and ownership of the campaign.\n\nIssue #1551: Added authentication and ownership verification.",
        "operationId": "update_scene_mix_plan_api_v2_campaigns__campaign_id__plan_put",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "campaign_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The campaign ID",
              "title": "Campaign Id"
            },
            "description": "The campaign ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SceneMixPlanUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Plan updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SceneMixPlanResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - authentication required"
          },
          "403": {
            "description": "Forbidden - user does not own this campaign"
          },
          "404": {
            "description": "Plan not found"
          },
          "500": {
            "description": "Server error"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "campaigns",
          "campaign-scene-mix"
        ],
        "summary": "Delete Scene Mix Plan",
        "description": "Delete a scene mix plan for a campaign.\n\nRemoves the content generation plan from the specified campaign.\nRequires authentication and ownership of the campaign.\n\nIssue #1551: Added authentication and ownership verification.",
        "operationId": "delete_scene_mix_plan_api_v2_campaigns__campaign_id__plan_delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "campaign_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The campaign ID",
              "title": "Campaign Id"
            },
            "description": "The campaign ID"
          }
        ],
        "responses": {
          "204": {
            "description": "Plan deleted successfully"
          },
          "401": {
            "description": "Unauthorized - authentication required"
          },
          "403": {
            "description": "Forbidden - user does not own this campaign"
          },
          "404": {
            "description": "Plan not found"
          },
          "500": {
            "description": "Server error"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/campaigns/{campaign_id}/plan/generations": {
      "post": {
        "tags": [
          "campaigns",
          "campaign-scene-mix"
        ],
        "summary": "Generate Scene Mix Plan Async",
        "description": "Start async plan generation for a campaign.\n\nIssue #1736: Added authorization check to prevent IDOR vulnerability.\nIssue #2192: Uses agentic content generation with fat message pattern.\n\nThis endpoint publishes a content generation request to the post-generator.\nThe agentic service handles plan generation as part of its strategy phase.\nUse GET /campaigns/{campaign_id}/plan/generations/status to poll for completion.\n\nPrerequisites:\n- Policy must be generated first (POST /campaigns/{id}/policy)\n\nReturns:\n    202 Accepted with status_url and correlation_id for tracking",
        "operationId": "generate_scene_mix_plan_async_api_v2_campaigns__campaign_id__plan_generations_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "campaign_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The campaign ID",
              "title": "Campaign Id"
            },
            "description": "The campaign ID"
          }
        ],
        "responses": {
          "202": {
            "description": "Plan generation started",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PlanGenerationAcceptedResponse"
                }
              }
            }
          },
          "400": {
            "description": "Policy must be generated first"
          },
          "401": {
            "description": "Unauthorized - authentication required"
          },
          "403": {
            "description": "Forbidden - user does not own this campaign"
          },
          "404": {
            "description": "Campaign not found"
          },
          "500": {
            "description": "Server error"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/campaigns/{campaign_id}/plan/generations/status": {
      "get": {
        "tags": [
          "campaigns",
          "campaign-scene-mix"
        ],
        "summary": "Get Plan Generation Status",
        "description": "Get plan generation status.\n\nIssue #1736: Added authorization check to prevent IDOR vulnerability.\nIssue #1547: Migrate /campaigns/{id}/plan to async publisher pattern.\n\nPoll this endpoint to check if plan generation is complete.\n\nReturns:\n    - status: \"generating\" if plan is being generated\n    - status: \"completed\" with plan if generation is complete\n    - status: \"failed\" with error_message if generation failed",
        "operationId": "get_plan_generation_status_api_v2_campaigns__campaign_id__plan_generations_status_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "campaign_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The campaign ID",
              "title": "Campaign Id"
            },
            "description": "The campaign ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Plan generation status returned",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PlanGenerationStatusResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - authentication required"
          },
          "403": {
            "description": "Forbidden - user does not own this campaign"
          },
          "404": {
            "description": "Campaign not found"
          },
          "500": {
            "description": "Server error"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/campaigns/{campaign_id}/plan/preview": {
      "post": {
        "tags": [
          "campaigns",
          "campaign-scene-mix"
        ],
        "summary": "Preview Scene Mix Plan",
        "description": "Preview a scene mix plan with diversity metrics.\n\nGenerates a preview of the content plan with diversity metrics without\npersisting to the database. Use this endpoint during planning to evaluate\ndifferent configurations before committing.\nRequires authentication and ownership of the campaign.\n\nIssue #1551: Added authentication and ownership verification.\n\nReturns:\n    Policy preview with mix_goal, subtype_weights, rationale, and\n    diversity_metrics for the proposed plan configuration.",
        "operationId": "preview_scene_mix_plan_api_v2_campaigns__campaign_id__plan_preview_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "campaign_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The campaign ID",
              "title": "Campaign Id"
            },
            "description": "The campaign ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SceneMixPlanPreviewRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Preview generated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SceneMixPlanPreviewResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request data"
          },
          "401": {
            "description": "Unauthorized - authentication required"
          },
          "403": {
            "description": "Forbidden - user does not own this campaign"
          },
          "500": {
            "description": "Server error"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/content/{content_id}/captions": {
      "post": {
        "tags": [
          "captions"
        ],
        "summary": "Generate Caption",
        "description": "Generate captions for content.",
        "operationId": "generate_caption_api_v2_content__content_id__captions_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "content_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Content Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CaptionCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CaptionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "captions"
        ],
        "summary": "Get Captions",
        "description": "Get all captions for a content item.\n\nRequires authentication. Issue #2554: Added require_auth dependency\nto prevent unauthenticated access to caption data.",
        "operationId": "get_captions_api_v2_content__content_id__captions_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "content_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Content Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/CaptionResponse"
                  },
                  "title": "Response Get Captions Api V2 Content  Content Id  Captions Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/content/{content_id}/captions/{caption_id}": {
      "delete": {
        "tags": [
          "captions"
        ],
        "summary": "Delete Caption",
        "description": "Delete a specific caption.\n\nRequires authentication. Issue #2554: Added require_auth dependency\nto prevent unauthenticated deletion of captions.",
        "operationId": "delete_caption_api_v2_content__content_id__captions__caption_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "content_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Content Id"
            }
          },
          {
            "name": "caption_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Caption Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/content/{content_id}/approvals": {
      "post": {
        "tags": [
          "content-approval"
        ],
        "summary": "Approve Content",
        "description": "Approve or unapprove content for a specific day.\n\nIssue #1737: Added authorization check to prevent IDOR vulnerability.\n\nThis endpoint allows users to approve/reject content for a specific day.\nUpdates approval status in database and manages approval counters.\nDirect port from V1 tag v0.2.46.\n\nArgs:\n    user_id: Authenticated user ID (from JWT token)\n    content_id: ID of the content to approve\n    request: Approval request with week, day, and post data\n    post_service: Post service for content lookup\n    campaign_service: Campaign service for ownership verification\n\nReturns:\n    Updated day data with approval status\n\nRaises:\n    HTTPException: 401/403 for auth errors, 404 if content not found, 400 if request invalid",
        "operationId": "approve_content_api_v2_content__content_id__approvals_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "content_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "description": "ID of the content to approve",
              "title": "Content Id"
            },
            "description": "ID of the content to approve"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ContentApprovalRequest",
                "description": "Approval request"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Content approval created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContentApprovalResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - authentication required"
          },
          "403": {
            "description": "Forbidden - user does not own this content"
          },
          "404": {
            "description": "Content not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/content/{content_id}": {
      "patch": {
        "tags": [
          "content"
        ],
        "summary": "Update Content",
        "description": "Update content fields (e.g., approval status).\n\nIssue #1737: Added authorization check to prevent IDOR vulnerability.\n\nThis is the RMM Level 2 compliant endpoint for content updates\nincluding approval. Instead of POST /content/{id}/approve, we use\nPATCH /content/{id} with approved=true.\n\nExample: To approve content, send PATCH with {\"approved\": 1}",
        "operationId": "update_content_api_v2_content__content_id__patch",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "content_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Content Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ContentUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Content updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContentResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - authentication required"
          },
          "403": {
            "description": "Forbidden - user does not own this content"
          },
          "404": {
            "description": "Content not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/campaigns/{campaign_id}/content": {
      "get": {
        "tags": [
          "content"
        ],
        "summary": "Get Campaign Content",
        "description": "Get content for a campaign.\n\nIssue #1737: Added authorization check to prevent IDOR vulnerability.\nIssue #2137: Removed self-healing retry logic (moved to post-generator).\nIssue #2890: Returns GeneratedContentPublic to hide AI prompt fields.\n\nThis is the RMM Level 2 compliant endpoint for retrieving campaign content.\nReturns the full content structure with weeks, days, and posts.\nAI prompt fields (image_prompt, experience_prompt) are excluded.\n\nStatus codes:\n- 200: Content exists and is returned\n- 204: Campaign exists but content not generated yet (poll again)\n- 401: Not authenticated\n- 403: Not authorized to access this campaign\n- 404: Campaign does not exist",
        "operationId": "get_campaign_content_api_v2_campaigns__campaign_id__content_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "campaign_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Campaign Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Content found and returned",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GeneratedContentPublic"
                }
              }
            }
          },
          "204": {
            "description": "Campaign exists but content not ready yet"
          },
          "401": {
            "description": "Unauthorized - authentication required"
          },
          "403": {
            "description": "Forbidden - user does not own this campaign"
          },
          "404": {
            "description": "Campaign not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/content/{content_id}/status": {
      "patch": {
        "tags": [
          "content"
        ],
        "summary": "Update Content Status",
        "description": "Update content approval status.\n\nIssue #1737: Added authorization check to prevent IDOR vulnerability.\n\nRMM L2 Compliance: Status is a field on the content resource (not /approve action).\nThis replaces the V1 POST /api/v1/contentgen/approve endpoint.\n\nArgs:\n    user_id: Authenticated user ID (from JWT token)\n    content_id: UUID of the content to update\n    status_update: New status and optional metadata\n    content_status_service: Injected status service\n    post_service: Post service for content lookup\n    campaign_service: Campaign service for ownership verification\n\nReturns:\n    ContentStatusResponse with updated status and metadata\n\nRaises:\n    HTTPException: 400 for invalid transition, 401/403 for auth errors, 404 if content not found",
        "operationId": "update_content_status_api_v2_content__content_id__status_patch",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "content_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Content ID",
              "title": "Content Id"
            },
            "description": "Content ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ContentStatusUpdate",
                "description": "Status update request"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Content status updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContentStatusResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - authentication required"
          },
          "403": {
            "description": "Forbidden - user does not own this content"
          },
          "404": {
            "description": "Content not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/content/{content_id}/generation/status": {
      "get": {
        "tags": [
          "content"
        ],
        "summary": "Get Content Generation Status",
        "description": "Get detailed generation status for specific content.\n\n.. deprecated::\n    This endpoint is deprecated. Use the campaign-level status endpoint\n    instead: ``GET /api/v2/campaigns/{campaign_id}/content/status``\n    which returns ``CampaignContentStatusResponse`` with equivalent data.\n    This endpoint will be removed in a future release.\n\nIssue #1737: Added authorization check to prevent IDOR vulnerability.\n\nReturns detailed status for content generation including:\n- Overall status (pending/generating/completed/failed)\n- Progress percentage (0-100)\n- Post-level breakdown (ready, generating, failed)\n- Optional per-post status when include_post_details=true\n- Error details for failed posts\n\nThis endpoint provides more granular status than the campaign-level\nendpoint, useful for debugging and detailed progress tracking.\n\nIssue #1484: Add async status polling endpoints for content generation.\nIssue #2928: Deprecated in favor of campaign-level endpoint.\n\nArgs:\n    response: FastAPI response object for setting headers\n    content_id: Content ID to check status for\n    include_post_details: Whether to include per-post breakdown\n    user_id: Authenticated user ID (from JWT token)\n    post_service: Post service for content lookup\n    campaign_service: Campaign service for ownership verification\n    generation_status_service: Service for generation status\n\nReturns:\n    ContentGenerationStatusResponse with detailed status",
        "operationId": "get_content_generation_status_api_v2_content__content_id__generation_status_get",
        "deprecated": true,
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "content_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "description": "Content ID",
              "title": "Content Id"
            },
            "description": "Content ID"
          },
          {
            "name": "include_post_details",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Include per-post status breakdown",
              "default": false,
              "title": "Include Post Details"
            },
            "description": "Include per-post status breakdown"
          }
        ],
        "responses": {
          "200": {
            "description": "Generation status returned",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContentGenerationStatusResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - authentication required"
          },
          "403": {
            "description": "Forbidden - user does not own this content"
          },
          "404": {
            "description": "Content not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/content/{content_id}/exports": {
      "post": {
        "tags": [
          "content",
          "content-exports"
        ],
        "summary": "Create Content Export",
        "description": "Create export tracking record for content.\n\nRMM L2: Creates an export resource (not RPC-style \"track-export\" action).\nThis endpoint replaces V1's POST /contentgen/track-export.\n\nIssue #2968: Added authentication and ownership verification.\n\nArgs:\n    firebase_user: Authenticated Firebase user (injected by auth dependency)\n    content_id: Integer ID of the content being exported\n    export_data: Export tracking data (platform, timestamp, metadata)\n    post_service: Post service for content lookup\n    campaign_service: Campaign service for ownership verification\n\nReturns:\n    Created export record with ID and timestamps\n\nRaises:\n    401/403: Authentication/authorization errors\n    404: Content not found\n    422: Invalid export data",
        "operationId": "create_content_export_api_v2_content__content_id__exports_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "content_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "description": "ID of the content being exported",
              "title": "Content Id"
            },
            "description": "ID of the content being exported"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ContentExportCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Export record created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContentExportResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - authentication required"
          },
          "403": {
            "description": "Forbidden - user does not own this content"
          },
          "404": {
            "description": "Content not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "content",
          "content-exports"
        ],
        "summary": "List Content Exports",
        "description": "List all export records for a content item.\n\nRMM L2: Retrieves export resources for a content item.\nReturns list ordered by exported_at descending (most recent first).\n\nIssue #2968: Added authentication and ownership verification.\n\nArgs:\n    firebase_user: Authenticated Firebase user (injected by auth dependency)\n    content_id: Integer ID of the content\n    post_service: Post service for content lookup\n    campaign_service: Campaign service for ownership verification\n\nReturns:\n    List of export records with total count\n\nRaises:\n    401/403: Authentication/authorization errors\n    404: Content not found",
        "operationId": "list_content_exports_api_v2_content__content_id__exports_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "content_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "description": "ID of the content",
              "title": "Content Id"
            },
            "description": "ID of the content"
          }
        ],
        "responses": {
          "200": {
            "description": "Export records retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContentExportListResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - authentication required"
          },
          "403": {
            "description": "Forbidden - user does not own this content"
          },
          "404": {
            "description": "Content not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/campaigns/{campaign_id}/posts/{post_id}/feedback": {
      "post": {
        "tags": [
          "feedback"
        ],
        "summary": "Submit feedback for a post",
        "description": "Submit thumbs up/down feedback, edit feedback, or selection feedback for a specific post within a campaign. Feeds into ML learning loop.",
        "operationId": "submit_post_feedback_api_v2_campaigns__campaign_id__posts__post_id__feedback_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "campaign_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Campaign ID the post belongs to",
              "title": "Campaign Id"
            },
            "description": "Campaign ID the post belongs to"
          },
          {
            "name": "post_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Post ID to provide feedback for",
              "title": "Post Id"
            },
            "description": "Post ID to provide feedback for"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ThumbsFeedbackCreate",
                "description": "Feedback submission data"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ThumbsFeedbackResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/campaigns/{campaign_id}/performance": {
      "post": {
        "tags": [
          "feedback"
        ],
        "summary": "Submit batch performance metrics",
        "description": "Submit engagement and performance metrics for multiple posts from social media platforms. Feeds into ML learning loop.",
        "operationId": "submit_performance_metrics_api_v2_campaigns__campaign_id__performance_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "campaign_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Campaign ID the posts belong to",
              "title": "Campaign Id"
            },
            "description": "Campaign ID the posts belong to"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BatchPerformanceCreate",
                "description": "Batch of performance metrics"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BatchPerformanceResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "feedback"
        ],
        "summary": "Get campaign performance metrics",
        "description": "Retrieve post performance metrics for a campaign with per-post breakdown and aggregate summary.",
        "operationId": "get_campaign_performance_api_v2_campaigns__campaign_id__performance_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "campaign_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Campaign ID to get performance for",
              "title": "Campaign Id"
            },
            "description": "Campaign ID to get performance for"
          },
          {
            "name": "platform",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by platform (instagram, tiktok, linkedin, twitter)",
              "title": "Platform"
            },
            "description": "Filter by platform (instagram, tiktok, linkedin, twitter)"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 500,
              "minimum": 1,
              "description": "Max records to return",
              "default": 50,
              "title": "Limit"
            },
            "description": "Max records to return"
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "description": "Number of records to skip",
              "default": 0,
              "title": "Offset"
            },
            "description": "Number of records to skip"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CampaignPerformanceResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/content/{content_id}/images": {
      "post": {
        "tags": [
          "content-images"
        ],
        "summary": "Create Content Image",
        "description": "Create a content image via upload.\n\nRMM L2: Resource creation via POST with 201 status and Location header.\n\nIssue #2190: Direct image generation removed (LLM code moved to workers).\nIssue #2506: Regenerations endpoint removed.\nIssue #2969: Added authentication and ownership verification.\nTo generate/regenerate images, use POST /posts/{post_id}/versions with target=\"media\".\n\nArgs:\n    content_id: Content ID (path parameter)\n    request: Image request with URL for upload\n    response: FastAPI response object for headers\n    firebase_user: Authenticated Firebase user (injected by auth dependency)\n    service: Injected content image service\n    post_service: Post service for content lookup\n    campaign_service: Campaign service for ownership verification\n\nReturns:\n    Created content image response\n\nRaises:\n    HTTPException: 401/403 for auth errors, 404 if content not found, 422 if validation fails",
        "operationId": "create_content_image_api_v2_content__content_id__images_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "content_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Content Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ContentImageRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Image uploaded successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContentImageResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - authentication required"
          },
          "403": {
            "description": "Forbidden - user does not own this content"
          },
          "404": {
            "description": "Content not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/content/{content_id}/media/{media_id}/url": {
      "get": {
        "tags": [
          "content-media"
        ],
        "summary": "Get signed URL for content media",
        "description": "Generate a short-lived (1 hour) signed URL for a GCS-hosted media object. The media must belong to a post within the specified content, and the authenticated user must own the content's campaign. Issue #3028: Added for serving persisted content media.",
        "operationId": "get_media_signed_url_api_v2_content__content_id__media__media_id__url_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "content_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "description": "Content ID",
              "title": "Content Id"
            },
            "description": "Content ID"
          },
          {
            "name": "media_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "description": "Media ID",
              "title": "Media Id"
            },
            "description": "Media ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Signed URL generated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MediaSignedUrlResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - authentication required"
          },
          "403": {
            "description": "Forbidden - user does not own this content"
          },
          "404": {
            "description": "Content or media not found"
          },
          "422": {
            "description": "Media has no GCS URL to sign"
          }
        }
      }
    },
    "/api/v2/outputs": {
      "post": {
        "tags": [
          "outputs"
        ],
        "summary": "Receive generated post from post-generator",
        "description": "Pub/Sub push endpoint for receiving individual generated posts from the post-generator service. Updates the pre-created post record by post_id with generated content (text, image, etc.). Emits POST_COMPLETE, WORKFLOW_COMPLETE, or WORKFLOW_FAILED events.",
        "operationId": "receive_output_api_v2_outputs_post",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          },
          {
            "name": "X-PubSub-Secret",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Pubsub-Secret"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PubSubPushEnvelope"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OutputAckResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/content/pulses": {
      "post": {
        "tags": [
          "outputs"
        ],
        "summary": "Receive pulse/heartbeat from Content Designer",
        "description": "Pub/Sub push endpoint for receiving heartbeat messages from Content Designer. These heartbeats indicate the system is alive during long-running content planning. Caches the pulse in Redis for frontend polling.",
        "operationId": "receive_pulse_api_v2_content_pulses_post",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          },
          {
            "name": "X-PubSub-Secret",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Pubsub-Secret"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PubSubPushEnvelope"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OutputAckResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/content/pulses/{correlation_id}": {
      "get": {
        "tags": [
          "outputs"
        ],
        "summary": "Get content generation status by correlation ID",
        "description": "Polling endpoint for frontend to get current content generation progress. Returns the latest pulse for a given correlation ID from Redis. Note: Prefer using /pulses/{correlation_id} for unified access (Issue #2428).",
        "operationId": "get_content_pulse_status_api_v2_content_pulses__correlation_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "correlation_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Correlation ID from generation request",
              "title": "Correlation Id"
            },
            "description": "Correlation ID from generation request"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PulseStatusResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/content/{content_id}/prompt": {
      "get": {
        "tags": [
          "content-prompts"
        ],
        "summary": "Get Content Prompt",
        "description": "Get image prompt data for a content item.\n\nIssue #2548: Added authentication requirement to prevent unauthorized access.\n\nThis endpoint retrieves image_prompt data from content.\nUsed by frontend to display/edit image generation prompts.\n\nCan filter by week/day/post_id to get specific prompt.\n\nArgs:\n    content_id: Content ID (string, converted to int internally)\n    week: Optional week number filter\n    day: Optional day number filter\n    post_id: Optional post ID filter\n    user_id: Authenticated user ID (from JWT token)\n    post_service: Injected content service\n    campaign_service: Injected campaign service for ownership verification\n\nReturns:\n    ContentPromptResponse with image_prompt data\n\nRaises:\n    HTTPException: 401 if not authenticated\n    HTTPException: 403 if user does not own the content\n    HTTPException: 404 if content not found",
        "operationId": "get_content_prompt_api_v2_content__content_id__prompt_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "content_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Content ID",
              "title": "Content Id"
            },
            "description": "Content ID"
          },
          {
            "name": "week",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Week number filter",
              "title": "Week"
            },
            "description": "Week number filter"
          },
          {
            "name": "day",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Day number filter",
              "title": "Day"
            },
            "description": "Day number filter"
          },
          {
            "name": "post_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Post ID filter",
              "title": "Post Id"
            },
            "description": "Post ID filter"
          }
        ],
        "responses": {
          "200": {
            "description": "Prompt data retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContentPromptResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - authentication required"
          },
          "403": {
            "description": "Forbidden - user does not own this content"
          },
          "404": {
            "description": "Content not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "content-prompts"
        ],
        "summary": "Update Content Prompt",
        "description": "Update image prompt for a content item.\n\nIssue #2548: Added authentication requirement to prevent unauthorized access.\n\nThis endpoint updates image_prompt data in content.\nUsed by frontend to edit image generation prompts.\n\nArgs:\n    content_id: Content ID\n    request: Prompt update request with new image_prompt\n    user_id: Authenticated user ID (from JWT token)\n    post_service: Injected content service\n    campaign_service: Injected campaign service for ownership verification\n\nReturns:\n    ContentPromptResponse with updated prompt data\n\nRaises:\n    HTTPException: 401 if not authenticated\n    HTTPException: 403 if user does not own the content\n    HTTPException: 404 if content not found",
        "operationId": "update_content_prompt_api_v2_content__content_id__prompt_put",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "content_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Content ID",
              "title": "Content Id"
            },
            "description": "Content ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ContentPromptUpdate",
                "description": "Prompt update data"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Prompt updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContentPromptResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - authentication required"
          },
          "403": {
            "description": "Forbidden - user does not own this content"
          },
          "404": {
            "description": "Content not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/brands/{brand_id}/contextual/bandit/models": {
      "get": {
        "tags": [
          "contextual-bandit"
        ],
        "summary": "Get contextual bandit models",
        "description": "Get current contextual bandit model info for all arms",
        "operationId": "get_contextual_bandit_models_api_v2_brands__brand_id__contextual_bandit_models_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "brand_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Brand ID to get models for",
              "examples": [
                "brand-123",
                "abc-def-ghi"
              ],
              "title": "Brand Id"
            },
            "description": "Brand ID to get models for"
          }
        ],
        "responses": {
          "200": {
            "description": "Models retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ContextualBanditModelResponse"
                  },
                  "title": "Response 200 Get Contextual Bandit Models Api V2 Brands  Brand Id  Contextual Bandit Models Get"
                }
              }
            }
          },
          "401": {
            "description": "Authentication required"
          },
          "404": {
            "description": "Brand not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/brands/{brand_id}/contextual/bandit/recommend": {
      "post": {
        "tags": [
          "contextual-bandit"
        ],
        "summary": "Get contextual bandit recommendation",
        "description": "Get arm recommendation based on current context",
        "operationId": "get_recommendation_api_v2_brands__brand_id__contextual_bandit_recommend_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "brand_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Brand ID to get recommendation for",
              "examples": [
                "brand-123"
              ],
              "title": "Brand Id"
            },
            "description": "Brand ID to get recommendation for"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/GetRecommendationRequest",
                "description": "Context features and epsilon for recommendation"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Recommendation generated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContextualBanditRecommendation"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request parameters"
          },
          "401": {
            "description": "Authentication required"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/brands/{brand_id}/contextual/bandit/feedback": {
      "post": {
        "tags": [
          "contextual-bandit"
        ],
        "summary": "Update contextual bandit model",
        "description": "Update model with engagement feedback",
        "operationId": "update_contextual_bandit_api_v2_brands__brand_id__contextual_bandit_feedback_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "brand_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Brand ID to update model for",
              "examples": [
                "brand-123"
              ],
              "title": "Brand Id"
            },
            "description": "Brand ID to update model for"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateContextualBanditRequest",
                "description": "Update request with arm, context, and reward"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Model updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UpdateContextualBanditResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request parameters"
          },
          "401": {
            "description": "Authentication required"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/brands/{brand_id}/contextual/bandit/initialize": {
      "post": {
        "tags": [
          "contextual-bandit"
        ],
        "summary": "Initialize contextual bandit models",
        "description": "Initialize contextual bandit models for a new brand",
        "operationId": "initialize_contextual_bandit_api_v2_brands__brand_id__contextual_bandit_initialize_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "brand_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Brand ID to initialize models for",
              "examples": [
                "brand-123"
              ],
              "title": "Brand Id"
            },
            "description": "Brand ID to initialize models for"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/InitializeContextualBanditRequest",
                "description": "Optional initialization parameters"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Models initialized successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ContextualBanditModelResponse"
                  },
                  "title": "Response 201 Initialize Contextual Bandit Api V2 Brands  Brand Id  Contextual Bandit Initialize Post"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request parameters"
          },
          "401": {
            "description": "Authentication required"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/brands/{brand_id}/contextual/bandit/state": {
      "post": {
        "tags": [
          "contextual-bandit"
        ],
        "summary": "Get agentic contextual bandit state",
        "description": "Get contextual bandit state formatted for fat message embedding",
        "operationId": "get_agentic_state_api_v2_brands__brand_id__contextual_bandit_state_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "brand_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Brand ID to get agentic state for",
              "examples": [
                "brand-123"
              ],
              "title": "Brand Id"
            },
            "description": "Brand ID to get agentic state for"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/GetRecommendationRequest",
                "description": "Context features for state computation"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Agentic state retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AgenticContextualBanditState"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request parameters"
          },
          "401": {
            "description": "Authentication required"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/crawls": {
      "get": {
        "tags": [
          "crawl-analytics"
        ],
        "summary": "Get Crawl Stats",
        "description": "Get crawl statistics with flexible query parameters.\n\nThis unified endpoint replaces the individual report-style endpoints\nfor RMM L2 compliance. Use the 'view' parameter to select the type\nof statistics to retrieve.\n\nArgs:\n    view: Type of statistics view (overview, trends, errors, brands)\n    days: Number of days to analyze (1-365, default: 30)\n    limit: Maximum results for errors (1-100) or brands (1-200)\n    interval: Aggregation interval for trends (\"day\" or \"hour\")\n    analytics_service: Injected analytics service\n\nReturns:\n    Statistics based on the selected view type",
        "operationId": "get_crawl_stats_api_v2_crawls_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "view",
            "in": "query",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/CrawlStatsView",
              "description": "View type: overview, trends, errors, or brands"
            },
            "description": "View type: overview, trends, errors, or brands"
          },
          {
            "name": "days",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 365,
              "minimum": 1,
              "default": 30,
              "title": "Days"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer",
                  "maximum": 200,
                  "minimum": 1
                },
                {
                  "type": "null"
                }
              ],
              "description": "Max results (errors/brands)",
              "title": "Limit"
            },
            "description": "Max results (errors/brands)"
          },
          {
            "name": "interval",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "pattern": "^(day|hour)$"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Interval for trends view",
              "title": "Interval"
            },
            "description": "Interval for trends view"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "anyOf": [
                    {
                      "$ref": "#/components/schemas/CrawlStatsOverview"
                    },
                    {
                      "$ref": "#/components/schemas/CrawlStatsTrends"
                    },
                    {
                      "$ref": "#/components/schemas/CrawlStatsErrors"
                    },
                    {
                      "$ref": "#/components/schemas/CrawlStatsBrands"
                    }
                  ],
                  "title": "Response Get Crawl Stats Api V2 Crawls Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/designer/prompts": {
      "post": {
        "tags": [
          "designer-prompts"
        ],
        "summary": "Receive prompts from Content Designer",
        "description": "Pub/Sub push endpoint for receiving prompts from the Content Designer service. Fans out individual post generation requests to Post Generator.",
        "operationId": "receive_designer_prompts_api_v2_designer_prompts_post",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          },
          {
            "name": "X-PubSub-Secret",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Pubsub-Secret"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PubSubPushEnvelope"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DesignerOutputAckResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/health": {
      "get": {
        "tags": [
          "health"
        ],
        "summary": "Health Check",
        "description": "Health check endpoint with database write verification.\n\nPerforms comprehensive database health check:\n1. Writes a test record to verify DB accepts writes\n2. Reads it back to verify data persistence\n3. Deletes it to clean up\n\nReturns:\n    200 OK with {\"status\": \"healthy\", \"database\": {...}, \"version\": {...}} if all checks pass\n    503 Service Unavailable with error details if any check fails",
        "operationId": "health_check_api_v2_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/v2/integrations/redirects": {
      "post": {
        "tags": [
          "integrations"
        ],
        "summary": "Get Integration Redirects",
        "description": "Get OAuth redirect URI for platform integration.\n\nThis is the RMM-2 compliant endpoint that replaces /integrations/redirect-uri.\nUses single-word resource name 'redirects' instead of hyphenated 'redirect-uri'.",
        "operationId": "get_integration_redirects_api_v2_integrations_redirects_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/IntegrationRedirectRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IntegrationRedirectResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/integrations": {
      "get": {
        "tags": [
          "integrations"
        ],
        "summary": "Get Integrations",
        "description": "Get all configured integrations for the authenticated user.\n\nArgs:\n    user_id: Authenticated user ID (from JWT token)\n    integration_repo: Injected integration repository\n\nReturns:\n    List of integrations with total count\n\nRaises:\n    HTTPException: 401 if authentication fails\n    HTTPException: 500 if database query fails",
        "operationId": "get_integrations_api_v2_integrations_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IntegrationsListResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v2/integrations/{platform}/sessions": {
      "post": {
        "tags": [
          "integrations"
        ],
        "summary": "Create Integration Session",
        "description": "Create a new integration session with a platform.\n\nRMM Level 2 Compliant Pattern:\n- POST creates a new session resource\n- Resource-oriented URL: /integrations/{platform}/sessions\n- Uses noun-based resource name (no verbs in path)\n- Returns 201 Created with the new session/integration\n\nArgs:\n    platform: Platform name (instagram, facebook, linkedin, twitter)\n    request: Integration authentication request with tokens/code\n    user_id: Authenticated user ID (from JWT token)\n    integration_repo: Injected integration repository\n\nReturns:\n    Created integration with ID\n\nRaises:\n    HTTPException: 400 if integration already exists or validation fails\n    HTTPException: 401 if authentication fails\n    HTTPException: 500 if database operation fails",
        "operationId": "create_integration_session_api_v2_integrations__platform__sessions_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "platform",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Platform"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/IntegrationAuthRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IntegrationResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/integrations/{platform}": {
      "delete": {
        "tags": [
          "integrations"
        ],
        "summary": "Disconnect Integration",
        "description": "Disconnect a platform integration.\n\nArgs:\n    platform: Platform name (instagram, facebook, linkedin, twitter)\n    user_id: Authenticated user ID (from JWT token)\n    integration_repo: Injected integration repository\n\nReturns:\n    None (204 No Content)\n\nRaises:\n    HTTPException: 401 if authentication fails\n    HTTPException: 404 if integration not found\n    HTTPException: 500 if database operation fails",
        "operationId": "disconnect_integration_api_v2_integrations__platform__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "platform",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Platform"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/integrations/instagram/oauth": {
      "post": {
        "tags": [
          "integrations"
        ],
        "summary": "Instagram Oauth",
        "description": "Exchange Instagram OAuth authorization code for access token.\n\nThis endpoint handles the Instagram OAuth callback by:\n1. Exchanging the authorization code for a short-lived token\n2. Exchanging the short-lived token for a long-lived token (60 days)\n3. Fetching user profile information\n4. Storing the integration in the database\n\nRMM Level 2 Compliance:\n- POST to /integrations/instagram/oauth creates a new OAuth integration\n- HTTP verb (POST) indicates resource creation\n- Returns 201 Created on success\n\nArgs:\n    user_id: Authenticated user ID (from JWT token)\n    request: Instagram OAuth request with authorization code and redirect URI\n    instagram_oauth_service: Injected Instagram OAuth service\n\nReturns:\n    Instagram OAuth response with access token and user info\n\nRaises:\n    HTTPException: 400 if OAuth exchange fails (invalid code, etc.)\n    HTTPException: 500 if server error occurs",
        "operationId": "instagram_oauth_api_v2_integrations_instagram_oauth_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/InstagramOAuthRequest",
                "description": "Instagram OAuth request"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InstagramOAuthResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v2/campaigns/{campaign_id}/learn": {
      "post": {
        "tags": [
          "learning"
        ],
        "summary": "Run learning cycle",
        "description": "Run a complete learning cycle for a campaign. Aggregates feedback signals, computes learning signals from Thompson Sampling posteriors, generates policy recommendations, and optionally applies updates and triggers plan regeneration when thresholds are met.",
        "operationId": "run_learning_cycle_api_v2_campaigns__campaign_id__learn_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "campaign_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Campaign ID to run learning cycle for",
              "examples": [
                "123",
                "campaign-abc"
              ],
              "title": "Campaign Id"
            },
            "description": "Campaign ID to run learning cycle for"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LearningRequest",
                "description": "Learning cycle configuration (optional)",
                "default": {
                  "approvalThreshold": 0.7,
                  "minFeedbackCount": 10,
                  "autoApply": false,
                  "forceRegeneration": false
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Learning cycle completed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LearningResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid campaign ID or request parameters"
          },
          "401": {
            "description": "Authentication required"
          },
          "404": {
            "description": "Campaign not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/campaigns/{campaign_id}/learning/status": {
      "get": {
        "tags": [
          "learning"
        ],
        "summary": "Get learning status",
        "description": "Get the current learning status for a campaign including Thompson Sampler state, scene types being tracked, feedback counts, and exploration rate.",
        "operationId": "get_learning_status_api_v2_campaigns__campaign_id__learning_status_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "campaign_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Campaign ID to get learning status for",
              "examples": [
                "123",
                "campaign-abc"
              ],
              "title": "Campaign Id"
            },
            "description": "Campaign ID to get learning status for"
          }
        ],
        "responses": {
          "200": {
            "description": "Learning status retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LearningStatus"
                }
              }
            }
          },
          "400": {
            "description": "Invalid campaign ID"
          },
          "401": {
            "description": "Authentication required"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/brands/{brand_id}/learning/state": {
      "get": {
        "tags": [
          "learning-state"
        ],
        "summary": "Get brand learning state",
        "description": "Get current Thompson Sampling posteriors for all scene types",
        "operationId": "get_learning_state_api_v2_brands__brand_id__learning_state_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "brand_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Brand ID to get learning state for",
              "examples": [
                "brand-123",
                "abc-def-ghi"
              ],
              "title": "Brand Id"
            },
            "description": "Brand ID to get learning state for"
          }
        ],
        "responses": {
          "200": {
            "description": "Learning state retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/BrandLearningStateResponse"
                  },
                  "title": "Response 200 Get Learning State Api V2 Brands  Brand Id  Learning State Get"
                }
              }
            }
          },
          "401": {
            "description": "Authentication required"
          },
          "404": {
            "description": "Brand not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/brands/{brand_id}/learning/state/feedback": {
      "post": {
        "tags": [
          "learning-state"
        ],
        "summary": "Submit learning state feedback",
        "description": "Submit engagement feedback to update Thompson Sampling posteriors",
        "operationId": "submit_learning_state_feedback_api_v2_brands__brand_id__learning_state_feedback_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "brand_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Brand ID to update learning state for",
              "examples": [
                "brand-123"
              ],
              "title": "Brand Id"
            },
            "description": "Brand ID to update learning state for"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateLearningStateRequest",
                "description": "Update request with scene type and reward"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Feedback processed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UpdateLearningStateResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request parameters"
          },
          "401": {
            "description": "Authentication required"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/brands/{brand_id}/learning/state/recommend": {
      "get": {
        "tags": [
          "learning-state"
        ],
        "summary": "Get Thompson Sampling recommendation",
        "description": "Get scene type recommendation using Thompson Sampling",
        "operationId": "get_recommendation_api_v2_brands__brand_id__learning_state_recommend_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "brand_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Brand ID to get recommendation for",
              "examples": [
                "brand-123"
              ],
              "title": "Brand Id"
            },
            "description": "Brand ID to get recommendation for"
          },
          {
            "name": "exploration_rate",
            "in": "query",
            "required": false,
            "schema": {
              "type": "number",
              "maximum": 1.0,
              "minimum": 0.0,
              "description": "Probability of random exploration (0.0 to 1.0)",
              "default": 0.1,
              "title": "Exploration Rate"
            },
            "description": "Probability of random exploration (0.0 to 1.0)"
          },
          {
            "name": "min_observations",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "description": "Minimum observations before trusting posteriors",
              "default": 50,
              "title": "Min Observations"
            },
            "description": "Minimum observations before trusting posteriors"
          }
        ],
        "responses": {
          "200": {
            "description": "Recommendation generated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ThompsonSamplingRecommendation"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request parameters"
          },
          "401": {
            "description": "Authentication required"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/brands/{brand_id}/learning/state/initialize": {
      "post": {
        "tags": [
          "learning-state"
        ],
        "summary": "Initialize brand learning state",
        "description": "Initialize Thompson Sampling posteriors for a new brand",
        "operationId": "initialize_learning_state_api_v2_brands__brand_id__learning_state_initialize_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "brand_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Brand ID to initialize learning state for",
              "examples": [
                "brand-123"
              ],
              "title": "Brand Id"
            },
            "description": "Brand ID to initialize learning state for"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/InitializeLearningStateRequest",
                "description": "Optional initialization parameters"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Learning state initialized successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/BrandLearningStateResponse"
                  },
                  "title": "Response 201 Initialize Learning State Api V2 Brands  Brand Id  Learning State Initialize Post"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request parameters"
          },
          "401": {
            "description": "Authentication required"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/brands/{brand_id}/learning/state/agentic": {
      "get": {
        "tags": [
          "learning-state"
        ],
        "summary": "Get agentic learning state",
        "description": "Get learning state formatted for fat message embedding",
        "operationId": "get_agentic_learning_state_api_v2_brands__brand_id__learning_state_agentic_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "brand_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Brand ID to get agentic learning state for",
              "examples": [
                "brand-123"
              ],
              "title": "Brand Id"
            },
            "description": "Brand ID to get agentic learning state for"
          },
          {
            "name": "min_observations",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "description": "Minimum observations threshold",
              "default": 50,
              "title": "Min Observations"
            },
            "description": "Minimum observations threshold"
          }
        ],
        "responses": {
          "200": {
            "description": "Agentic learning state retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AgenticLearningState"
                }
              }
            }
          },
          "401": {
            "description": "Authentication required"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/brands/{brand_id}/learning/engagement": {
      "post": {
        "tags": [
          "learning-state"
        ],
        "summary": "Process single post engagement",
        "description": "Process engagement metrics from a single post to update Thompson Sampling posteriors",
        "operationId": "process_engagement_api_v2_brands__brand_id__learning_engagement_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "brand_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Brand ID to process engagement for",
              "examples": [
                "brand-123"
              ],
              "title": "Brand Id"
            },
            "description": "Brand ID to process engagement for"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ProcessEngagementRequest",
                "description": "Engagement data to process"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Engagement processed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FeedbackProcessingResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request parameters"
          },
          "401": {
            "description": "Authentication required"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/brands/{brand_id}/learning/engagement/batch": {
      "post": {
        "tags": [
          "learning-state"
        ],
        "summary": "Process batch engagement data",
        "description": "Process engagement metrics from multiple posts at once",
        "operationId": "process_engagement_batch_api_v2_brands__brand_id__learning_engagement_batch_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "brand_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Brand ID to process engagement for",
              "examples": [
                "brand-123"
              ],
              "title": "Brand Id"
            },
            "description": "Brand ID to process engagement for"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ProcessEngagementBatchRequest",
                "description": "Batch engagement data to process"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Batch processed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BatchProcessingResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request parameters"
          },
          "401": {
            "description": "Authentication required"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/metrics": {
      "get": {
        "tags": [
          "metrics"
        ],
        "summary": "Prometheus Metrics",
        "description": "Returns Prometheus-compatible metrics for monitoring. Requires authentication to prevent exposure of internal system information.",
        "operationId": "get_metrics_api_v2_metrics_get",
        "responses": {
          "200": {
            "description": "Prometheus metrics in text format",
            "content": {
              "text/plain": {}
            }
          },
          "401": {
            "description": "Authentication required"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v2/brands/{brand_id}/learning/health": {
      "get": {
        "tags": [
          "ml-monitoring"
        ],
        "summary": "Get model health metrics",
        "description": "Get comprehensive model health metrics for a brand including drift detection, exploration rate monitoring, and arm distribution analysis. Returns an overall health score and status to enable monitoring dashboards and alerting.",
        "operationId": "get_model_health_api_v2_brands__brand_id__learning_health_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "brand_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Brand ID to get model health for",
              "examples": [
                "123",
                "brand-abc"
              ],
              "title": "Brand Id"
            },
            "description": "Brand ID to get model health for"
          }
        ],
        "responses": {
          "200": {
            "description": "Model health metrics retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ModelHealthMetrics"
                }
              }
            }
          },
          "400": {
            "description": "Invalid brand ID"
          },
          "401": {
            "description": "Authentication required"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/brands/{brand_id}/learning/drift": {
      "get": {
        "tags": [
          "ml-monitoring"
        ],
        "summary": "Get posterior drift analysis",
        "description": "Detect sudden changes in the optimal arm distribution for a brand's Thompson Sampling model. Drift may indicate concept drift in user preferences, data quality issues, or genuine changes in content performance.",
        "operationId": "get_posterior_drift_api_v2_brands__brand_id__learning_drift_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "brand_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Brand ID to analyze drift for",
              "examples": [
                "123",
                "brand-abc"
              ],
              "title": "Brand Id"
            },
            "description": "Brand ID to analyze drift for"
          }
        ],
        "responses": {
          "200": {
            "description": "Drift analysis retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DriftDetectionResult"
                }
              }
            }
          },
          "400": {
            "description": "Invalid brand ID"
          },
          "401": {
            "description": "Authentication required"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/brands/{brand_id}/learning/exploration": {
      "get": {
        "tags": [
          "ml-monitoring"
        ],
        "summary": "Get exploration rate metrics",
        "description": "Monitor the actual exploration rate vs expected rate for a brand's model. Deviations may indicate epsilon decay issues or configuration mismatches.",
        "operationId": "get_exploration_rate_api_v2_brands__brand_id__learning_exploration_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "brand_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Brand ID to analyze exploration rate for",
              "examples": [
                "123",
                "brand-abc"
              ],
              "title": "Brand Id"
            },
            "description": "Brand ID to analyze exploration rate for"
          },
          {
            "name": "expected_rate",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "number",
                  "maximum": 1.0,
                  "minimum": 0.0
                },
                {
                  "type": "null"
                }
              ],
              "description": "Expected exploration rate to compare against",
              "title": "Expected Rate"
            },
            "description": "Expected exploration rate to compare against"
          }
        ],
        "responses": {
          "200": {
            "description": "Exploration metrics retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ExplorationRateMetrics"
                }
              }
            }
          },
          "400": {
            "description": "Invalid brand ID"
          },
          "401": {
            "description": "Authentication required"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/brands/{brand_id}/learning/distribution": {
      "get": {
        "tags": [
          "ml-monitoring"
        ],
        "summary": "Get arm distribution metrics",
        "description": "Get arm selection distribution metrics for a brand's model. Analyzes diversity of selections and identifies dominant arms.",
        "operationId": "get_arm_distribution_api_v2_brands__brand_id__learning_distribution_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "brand_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Brand ID to analyze distribution for",
              "examples": [
                "123",
                "brand-abc"
              ],
              "title": "Brand Id"
            },
            "description": "Brand ID to analyze distribution for"
          }
        ],
        "responses": {
          "200": {
            "description": "Distribution metrics retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ArmDistributionMetrics"
                }
              }
            }
          },
          "400": {
            "description": "Invalid brand ID"
          },
          "401": {
            "description": "Authentication required"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/posts/{post_id}/versions": {
      "post": {
        "tags": [
          "post-versions"
        ],
        "summary": "Create a new version of a post",
        "description": "Create a new version of a post by regenerating text, media, or both.\n\n        Returns 202 Accepted immediately. Use the status_url to poll for completion.\n\n        **Targets:**\n        - `text`: Regenerate caption/text only\n        - `media`: Regenerate specific media item (requires media_id)\n        - `all`: Regenerate both text and media",
        "operationId": "create_post_version",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "post_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Post Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateVersionRequest"
              }
            }
          }
        },
        "responses": {
          "202": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CreateVersionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "post-versions"
        ],
        "summary": "Get version history for a post",
        "description": "Returns complete version history with lineage information.",
        "operationId": "get_post_versions",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "post_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Post Id"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Max versions to return",
              "default": 50,
              "title": "Limit"
            },
            "description": "Max versions to return"
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "description": "Offset for pagination",
              "default": 0,
              "title": "Offset"
            },
            "description": "Offset for pagination"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VersionHistoryResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/versions/{request_id}/status": {
      "get": {
        "tags": [
          "post-versions"
        ],
        "summary": "Get status of version creation request",
        "description": "Poll status of async version creation.",
        "operationId": "get_version_status",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "request_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Request Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VersionStatusResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/posts/{post_id}/experience-prompt": {
      "patch": {
        "tags": [
          "post-versions"
        ],
        "summary": "Update experience prompt and trigger full regeneration (GATE 10)",
        "description": "Update a post's experience prompt and trigger full content regeneration\n        through Content Designer interpretation.\n\n        The experience prompt is a user-facing description of the entire post.\n        When edited, the backend sends it to Content Designer for interpretation\n        into text_prompt and media_prompt, then triggers regeneration of both\n        text and media.\n\n        Returns 202 Accepted immediately. Use the status_url to poll for completion.\n\n        **Flow:**\n        1. Updates experience_prompt in database\n        2. Publishes to Content Designer for interpretation\n        3. Content Designer generates text_prompt + media_prompt\n        4. Post Generator creates new text and media\n        5. Version request completes when generation finishes",
        "operationId": "update_experience_prompt",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "post_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Post Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ExperiencePromptUpdate"
              }
            }
          }
        },
        "responses": {
          "202": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RegenerateResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/prompts": {
      "get": {
        "tags": [
          "prompts"
        ],
        "summary": "List Prompts",
        "description": "List application prompts with optional category filtering.\n\nBusiness Context:\nReturns system-level AI prompts used for content generation.\nFiltering by category helps frontend fetch only relevant prompts.\n\nPerformance:\n- Response time: <10ms (in-memory cache)\n- Cache-Control header set for client-side caching\n- No database calls required\n\nRMM Level 2:\n- HTTP GET for resource retrieval\n- Query parameter for filtering (not in URL path)\n- Returns 200 OK with list of prompts\n\nArgs:\n    response: FastAPI response object for setting headers\n    category: Optional category filter (brand, content, campaign)\n    prompts_service: Injected prompts service\n\nReturns:\n    PromptsListResponse containing matching prompts\n\nExample:\n    GET /api/v2/prompts\n    GET /api/v2/prompts?category=brand\n\nResponse:\n    {\n      \"prompts\": [\n        {\n          \"id\": \"brand_summary_v1\",\n          \"category\": \"brand\",\n          \"template\": \"Create a summary for {brand_name}...\",\n          \"variables\": [\"brand_name\"],\n          \"version\": \"1.0.0\",\n          \"description\": \"Brand summary generation\"\n        }\n      ],\n      \"total\": 1\n    }",
        "operationId": "list_prompts_api_v2_prompts_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "category",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter prompts by category (e.g., 'brand', 'content', 'campaign')",
              "title": "Category"
            },
            "description": "Filter prompts by category (e.g., 'brand', 'content', 'campaign')",
            "example": "brand"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PromptsListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "prompts"
        ],
        "summary": "Create Prompt",
        "description": "Create a new prompt.\n\nBusiness Context:\nCreates a new AI prompt template that can be used for content generation.\nThe prompt ID must be unique across all prompts.\n\nRMM Level 2:\n- HTTP POST for resource creation\n- POST to collection endpoint (/prompts)\n- Returns 201 Created with new resource\n- Location header would point to new resource (best practice)\n\nArgs:\n    request: Prompt creation data\n    prompts_service: Injected prompts service\n\nReturns:\n    Created prompt with all fields\n\nRaises:\n    HTTPException: 409 if prompt ID already exists\n    HTTPException: 400 if validation fails\n\nExample:\n    POST /api/v2/prompts\n    {\n      \"id\": \"content_variation_v1\",\n      \"category\": \"content\",\n      \"template\": \"Generate variations...\",\n      \"variables\": [\"brand_name\"],\n      \"version\": \"1.0.0\",\n      \"description\": \"Content variation generator\"\n    }",
        "operationId": "create_prompt_api_v2_prompts_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PromptCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Prompt created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PromptResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request data"
          },
          "409": {
            "description": "Prompt with this ID already exists"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/crawler/pulses": {
      "post": {
        "tags": [
          "pulses"
        ],
        "summary": "Receive crawler status pulse",
        "description": "Pub/Sub push endpoint for receiving real-time status pulses from the agentic brand crawler. Stores pulse in Redis for frontend polling.",
        "operationId": "receive_pulse_api_v2_crawler_pulses_post",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          },
          {
            "name": "X-PubSub-Secret",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Pubsub-Secret"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/src__domains__crawler__schemas__crawler_pulses__PubSubPushEnvelope"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PulseAckResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/crawler/pulses/{correlation_id}": {
      "get": {
        "tags": [
          "pulses"
        ],
        "summary": "Get crawler status by correlation ID",
        "description": "Polling endpoint for frontend to get current crawl progress. Returns the latest pulse for a given correlation ID from Redis. Note: Prefer using /pulses/{correlation_id} for unified access.",
        "operationId": "get_pulse_status_api_v2_crawler_pulses__correlation_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "correlation_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Correlation ID from crawl request",
              "title": "Correlation Id"
            },
            "description": "Correlation ID from crawl request"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/src__domains__crawler__schemas__crawler_pulses__PulseStatusResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/pulses/{correlation_id}": {
      "get": {
        "tags": [
          "pulses"
        ],
        "summary": "Get unified pulse status by correlation ID",
        "description": "Unified polling endpoint for all agentic service status. Returns the latest pulse regardless of service type (brand_crawl, content_generation). Issue #2428: Frontend uses single endpoint for all agentic status. Issue #2538: Returns 'pending' status when workflow hasn't published a pulse yet. Issue #2557: Requires authentication to prevent information disclosure.",
        "operationId": "get_unified_pulse_status_api_v2_pulses__correlation_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "correlation_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Correlation ID from any agentic request",
              "title": "Correlation Id"
            },
            "description": "Correlation ID from any agentic request"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UnifiedPulseStatusResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/scenes": {
      "post": {
        "tags": [
          "scenes"
        ],
        "summary": "Receive scene mix plan from post-generator",
        "description": "Pub/Sub push endpoint for receiving scene mix plans from the post-generator service. Stores the plan in the database using UPSERT to handle both new and updated plans.",
        "operationId": "receive_scene_mix_api_v2_scenes_post",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          },
          {
            "name": "X-PubSub-Secret",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Pubsub-Secret"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PubSubPushEnvelope"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SceneMixAckResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/scheduled-posts": {
      "get": {
        "tags": [
          "scheduled-posts"
        ],
        "summary": "List Scheduled Posts",
        "description": "List all scheduled posts for the authenticated user.\n\nReturns a list of scheduled posts optionally filtered by status.\nPosts are ordered by scheduled time.\n\nArgs:\n    user_id: Authenticated user ID (from JWT token)\n    status: Optional status filter\n\nReturns:\n    ScheduledPostListResponse with list of posts",
        "operationId": "list_scheduled_posts_api_v2_scheduled_posts_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "status",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "$ref": "#/components/schemas/ScheduledPostStatus"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by status",
              "title": "Status"
            },
            "description": "Filter by status"
          }
        ],
        "responses": {
          "200": {
            "description": "Scheduled posts list returned",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ScheduledPostListResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/campaigns/{campaign_id}/scheduled-posts": {
      "get": {
        "tags": [
          "scheduled-posts"
        ],
        "summary": "List Campaign Scheduled Posts",
        "description": "List all scheduled posts for a specific campaign.\n\nReturns scheduled posts for the given campaign, optionally filtered by status.\nPosts are ordered by scheduled time.\n\nIssue #2558: Requires authentication to prevent information disclosure.\n\nArgs:\n    campaign_id: Campaign ID to filter by\n    user_id: Authenticated user ID (from JWT token) (Issue #2558)\n    status: Optional status filter\n\nReturns:\n    ScheduledPostListResponse with list of posts for the campaign",
        "operationId": "list_campaign_scheduled_posts_api_v2_campaigns__campaign_id__scheduled_posts_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "campaign_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "description": "Campaign ID",
              "title": "Campaign Id"
            },
            "description": "Campaign ID"
          },
          {
            "name": "status",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "$ref": "#/components/schemas/ScheduledPostStatus"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by status",
              "title": "Status"
            },
            "description": "Filter by status"
          }
        ],
        "responses": {
          "200": {
            "description": "Scheduled posts for campaign returned",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ScheduledPostListResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Campaign not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/scheduled-posts/{post_id}": {
      "get": {
        "tags": [
          "scheduled-posts"
        ],
        "summary": "Get Scheduled Post",
        "description": "Get a scheduled post by its unique post ID.\n\nIssue #2946: Requires authentication to prevent information disclosure.\n\nArgs:\n    post_id: Unique post identifier\n    firebase_user: Authenticated user from JWT (Issue #2946)\n\nReturns:\n    ScheduledPostResponse with post details\n\nRaises:\n    401: If not authenticated\n    404: If post not found",
        "operationId": "get_scheduled_post_api_v2_scheduled_posts__post_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "post_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Unique post ID",
              "title": "Post Id"
            },
            "description": "Unique post ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Scheduled post returned",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ScheduledPostResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Scheduled post not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/scheduled-posts/{post_id}/cancel": {
      "post": {
        "tags": [
          "scheduled-posts"
        ],
        "summary": "Cancel Scheduled Post",
        "description": "Cancel a scheduled post.\n\nCancels the scheduled post and deletes the Cloud Scheduler job.\nCannot cancel posts that are already published or cancelled.\n\nArgs:\n    post_id: Unique post identifier\n    request: Optional cancellation reason\n    user_id: Authenticated user ID (from JWT token)\n\nReturns:\n    CancelScheduledPostResponse with result\n\nRaises:\n    404: If post not found\n    400: If post cannot be cancelled in current state",
        "operationId": "cancel_scheduled_post_api_v2_scheduled_posts__post_id__cancel_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "post_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Unique post ID",
              "title": "Post Id"
            },
            "description": "Unique post ID"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CancelScheduledPostRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Scheduled post cancelled",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CancelScheduledPostResponse"
                }
              }
            }
          },
          "404": {
            "description": "Scheduled post not found"
          },
          "400": {
            "description": "Cannot cancel post in current state"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/scheduled-posts/{post_id}/status": {
      "patch": {
        "tags": [
          "scheduled-posts"
        ],
        "summary": "Update Scheduled Post Status",
        "description": "Update the status of a scheduled post.\n\nThis endpoint is primarily used by the campaign-publisher worker\nto update status after publishing attempts.\n\nIssue #2946: Requires authentication to prevent unauthenticated status updates.\n\nArgs:\n    post_id: Unique post identifier\n    request: Status update with optional error message and Instagram post ID\n    firebase_user: Authenticated user from JWT (Issue #2946)\n\nReturns:\n    Updated ScheduledPostResponse\n\nRaises:\n    401: If not authenticated\n    404: If post not found",
        "operationId": "update_scheduled_post_status_api_v2_scheduled_posts__post_id__status_patch",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "post_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Unique post ID",
              "title": "Post Id"
            },
            "description": "Unique post ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ScheduledPostStatusUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Status updated",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ScheduledPostResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Scheduled post not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/signups": {
      "post": {
        "tags": [
          "signups"
        ],
        "summary": "Create Signup",
        "description": "Create a new beta signup from landing page form.\n\nThis endpoint captures beta signup submissions from the landing page\nContact form. No authentication is required as this is a public endpoint\nfor prospective users.\n\nArgs:\n    request: Signup data including name, email, and industry\n\nReturns:\n    SignupResponse with created signup data and ID\n\nRaises:\n    HTTPException 400: If email already exists or data is invalid\n    HTTPException 500: If signup creation fails due to server error",
        "operationId": "create_signup_api_v2_signups_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SignupCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Signup created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SignupResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request data or email already exists"
          },
          "500": {
            "description": "Internal server error"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/threads/{thread_id}/messages": {
      "post": {
        "tags": [
          "threads"
        ],
        "summary": "Create Message",
        "description": "Add a message to a thread.\n\nCreates a new message in the conversation thread.\nAutomatically updates the thread's updated_at timestamp.\n\nSecurity:\n- Requires Firebase authentication\n- User ID extracted from authenticated token\n- Users can only add messages to their own threads",
        "operationId": "create_message_api_v2_threads__thread_id__messages_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "thread_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The thread ID",
              "title": "Thread Id"
            },
            "description": "The thread ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ThreadMessageCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Message created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ThreadMessageResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request data"
          },
          "401": {
            "description": "Authentication required"
          },
          "404": {
            "description": "Thread not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "threads"
        ],
        "summary": "Get Messages",
        "description": "Get messages for a thread.\n\nReturns messages in chronological order (oldest first).\nSupports pagination for long conversations.\n\nSecurity:\n- Requires Firebase authentication\n- User ID extracted from authenticated token\n- Users can only see messages from their own threads",
        "operationId": "get_messages_api_v2_threads__thread_id__messages_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "thread_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The thread ID",
              "title": "Thread Id"
            },
            "description": "The thread ID"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 200,
              "minimum": 1,
              "description": "Maximum number of messages",
              "default": 50,
              "title": "Limit"
            },
            "description": "Maximum number of messages"
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "description": "Number of messages to skip",
              "default": 0,
              "title": "Offset"
            },
            "description": "Number of messages to skip"
          }
        ],
        "responses": {
          "200": {
            "description": "List of messages returned",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ThreadMessageResponse"
                  },
                  "title": "Response Get Messages Api V2 Threads  Thread Id  Messages Get"
                }
              }
            }
          },
          "401": {
            "description": "Authentication required"
          },
          "404": {
            "description": "Thread not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/users": {
      "post": {
        "tags": [
          "users"
        ],
        "summary": "Register Native User",
        "description": "Register a new user with native email/password authentication.\n\nCreates a new user account with native authentication (password stored\nsecurely with bcrypt) and sends an email verification link via SendGrid.\n\nThe user must verify their email before they can log in.\n\nRMM Level 2 Compliance:\n- POST to /users collection creates new user resource\n- HTTP verb (POST) indicates create action\n- No verbs in URL path\n- Returns 201 Created with user resource\n\nArgs:\n    request: User registration data including email, password (min 8 chars), and name\n\nReturns:\n    UserRegistrationResponse with user data and email verification status\n\nRaises:\n    HTTPException 400: If email already exists or data is invalid\n    HTTPException 500: If registration fails due to server error",
        "operationId": "register_native_user_api_v2_users_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NativeUserCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "User registered successfully, email verification sent",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserRegistrationResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request data or email already exists"
          },
          "500": {
            "description": "Internal server error during registration"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/verifications": {
      "post": {
        "tags": [
          "users"
        ],
        "summary": "Verify Email",
        "description": "Verify user email with verification token.\n\nVerifies the user's email address using the token sent during registration.\nAfter successful verification, the user can log in.\n\nRMM Level 2 Compliance:\n- POST to /verifications creates new verification resource (state change)\n- HTTP verb (POST) indicates create/submit action\n- No verbs in URL path\n\nArgs:\n    request: Email verification request with token\n\nReturns:\n    UserResponse with email_verified=True\n\nRaises:\n    HTTPException 400: If token is invalid or expired\n    HTTPException 500: If verification fails due to server error",
        "operationId": "verify_email_api_v2_verifications_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/EmailVerificationRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Email verified successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid or expired verification token"
          },
          "500": {
            "description": "Internal server error during verification"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/verifications/resend": {
      "post": {
        "tags": [
          "users"
        ],
        "summary": "Resend Verification Email Public",
        "description": "Resend email verification email (public endpoint, no auth required).\n\nThis endpoint allows unauthenticated users to request a new verification\nemail. This is necessary because users cannot authenticate until their\nemail is verified, but they may need to request a new verification email\nif the original one expired or was lost.\n\nSecurity consideration: Always returns success message regardless of\nwhether the email exists or was sent, to prevent email enumeration attacks.\n\nRMM Level 2 Compliance:\n- Resource-based URL: /verifications/resend\n- HTTP method (POST) indicates action\n- No verbs in URL path (resend is a sub-resource, not a verb)\n- Returns generic response for security\n\nArgs:\n    request: Request containing user email address\n\nReturns:\n    ResendVerificationResponse with generic success message",
        "operationId": "resend_verification_email_public_api_v2_verifications_resend_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ResendVerificationRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Request processed (email sent if user exists and is unverified)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ResendVerificationResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/sessions": {
      "post": {
        "tags": [
          "users"
        ],
        "summary": "Create Session",
        "description": "Create or refresh an authentication session (RMM L2 compliant).\n\nThis unified endpoint handles both login and token refresh operations\nbased on the grant_type parameter in the request body.\n\nSupported grant types:\n- \"password\": Login with email and password\n- \"refresh_token\": Refresh an existing session using refresh token\n\nRMM Level 2 Compliance:\n- POST to /sessions creates/refreshes session resource\n- HTTP verb (POST) indicates create action\n- No verbs in URL path\n- Grant type differentiates operation (OAuth2 pattern)\n\nArgs:\n    request: Session request with grant_type and appropriate fields\n\nReturns:\n    SessionResponse with tokens and optionally user profile\n\nRaises:\n    HTTPException 400: If required fields are missing or invalid\n    HTTPException 401: If authentication/refresh fails\n    HTTPException 500: If server error occurs",
        "operationId": "create_session_api_v2_sessions_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SessionRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Session created/refreshed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SessionResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request (missing fields or invalid grant_type)"
          },
          "401": {
            "description": "Authentication failed or token invalid"
          },
          "429": {
            "description": "Account locked due to too many failed login attempts (Issue #2317)"
          },
          "500": {
            "description": "Internal server error"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      },
      "delete": {
        "tags": [
          "users"
        ],
        "summary": "Delete Session",
        "description": "Delete authentication session (logout).\n\nInvalidates the current user's token by adding it to the blacklist.\nAfter logout, the token will be rejected by the authentication middleware.\n\nRMM Level 2 Compliance:\n- DELETE to /sessions deletes the session resource\n- HTTP verb (DELETE) indicates delete action\n- No verbs in URL path (not /logout, but DELETE /sessions)\n\nArgs:\n    firebase_user: Decoded token claims (injected by auth dependency)\n    credentials: HTTP Bearer token credentials from request header\n    token_blacklist_service: Injected token blacklist service\n\nReturns:\n    LogoutResponse with confirmation message\n\nRaises:\n    HTTPException 401: If authentication token is missing or invalid\n    HTTPException 500: If logout fails due to server error",
        "operationId": "delete_session_api_v2_sessions_delete",
        "responses": {
          "200": {
            "description": "Logout successful, token invalidated",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LogoutResponse"
                }
              }
            }
          },
          "401": {
            "description": "Authentication required or token invalid"
          },
          "500": {
            "description": "Internal server error during logout"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v2/passwords": {
      "post": {
        "tags": [
          "users"
        ],
        "summary": "Create Password Reset",
        "description": "Create a password reset request (RMM Level 2 compliant).\n\nCreates a new password-reset resource and sends an email with reset token\nto the user if the email exists.\n\nSecurity consideration: Always returns success message regardless of whether\nemail exists, to prevent email enumeration attacks.\n\nRMM Level 2 Compliance:\n- POST to /passwords creates new password-reset resource\n- Resource-based URL (noun, not verb)\n- Returns 201 Created with generic success message\n\nArgs:\n    request: Password reset creation request with email\n\nReturns:\n    PasswordResetCreateResponse with generic success message",
        "operationId": "create_password_reset_api_v2_passwords_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PasswordResetCreateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Password reset request created (email sent if exists)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PasswordResetCreateResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/passwords/{token}": {
      "put": {
        "tags": [
          "users"
        ],
        "summary": "Update Password Reset",
        "description": "Complete a password reset by setting new password (RMM Level 2 compliant).\n\nUpdates the password-reset resource identified by token, setting the\nuser's new password.\n\nRMM Level 2 Compliance:\n- PUT to /passwords/{token} updates the resource\n- Token in path as resource identifier\n- New password in request body\n- Resource-based URL structure\n\nArgs:\n    token: Password reset token from email (path parameter)\n    request: Password reset update request with new password\n\nReturns:\n    PasswordResetUpdateResponse with success message\n\nRaises:\n    HTTPException 400: If reset token is invalid or expired\n    HTTPException 500: If password reset fails",
        "operationId": "update_password_reset_api_v2_passwords__token__put",
        "parameters": [
          {
            "name": "token",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "description": "Password reset token from email",
              "title": "Token"
            },
            "description": "Password reset token from email"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PasswordResetUpdateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Password reset successful",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PasswordResetUpdateResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid or expired reset token"
          },
          "500": {
            "description": "Internal server error"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/users/me": {
      "get": {
        "tags": [
          "users"
        ],
        "summary": "Get Current User",
        "description": "Get current authenticated user profile.\n\nRetrieves the profile of the currently authenticated user based on\ntheir authentication token. Supports both Firebase Auth and native\nemail/password authentication.\n\nFor native auth users:\n- Token contains uid = database user ID\n- Look up user by ID directly\n\nFor Firebase auth users:\n- Token contains uid = Firebase UID\n- Look up user by Firebase UID, or create if first login (lazy sync)\n\nThis endpoint implements lazy user creation for Firebase Auth users.\nIf a user authenticates via Firebase but doesn't have a database record,\none is created automatically using data from the Firebase token.\n\nThe response includes a has_brand field indicating whether the user\nhas any associated brands in the system.\n\nRMM Level 2 Compliance:\n- Resource-based URL: /users/me\n- HTTP method (GET) indicates read action\n- No verbs in URL path\n- Uses /me convention for current authenticated user\n\nArgs:\n    firebase_user: Decoded token claims (injected by auth dependency)\n    user_service: Injected user service\n\nReturns:\n    UserResponse with user profile data including has_brand field\n\nRaises:\n    HTTPException 401: If authentication token is missing or invalid\n    HTTPException 500: If database or server error occurs",
        "operationId": "get_current_user_api_v2_users_me_get",
        "responses": {
          "200": {
            "description": "Current user profile retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserResponse"
                }
              }
            }
          },
          "401": {
            "description": "Authentication required or token invalid"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v2/users/me/verifications": {
      "post": {
        "tags": [
          "users"
        ],
        "summary": "Resend Verification Email",
        "description": "Resend email verification email to current user.\n\nResends the email verification email with a new verification token\nto the currently authenticated user. Only works for native auth users\nwho have not yet verified their email.\n\nRMM Level 2 Compliance:\n- Resource-based URL: /users/me/verifications\n- HTTP method (POST) indicates create action\n- No verbs in URL path\n- Uses /me convention for current authenticated user\n\nArgs:\n    firebase_user: Decoded token claims (injected by auth dependency)\n    user_service: Injected user service\n\nReturns:\n    ResendVerificationResponse with success status and message\n\nRaises:\n    HTTPException 400: If email already verified or user not eligible\n    HTTPException 401: If authentication token is missing or invalid\n    HTTPException 500: If email send fails or server error occurs",
        "operationId": "resend_verification_email_api_v2_users_me_verifications_post",
        "responses": {
          "200": {
            "description": "Verification email resent successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ResendVerificationResponse"
                }
              }
            }
          },
          "400": {
            "description": "Email already verified or user not eligible"
          },
          "401": {
            "description": "Authentication required or token invalid"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v2/posts/{post_id}/videos": {
      "post": {
        "tags": [
          "video-generation"
        ],
        "summary": "Create Video",
        "description": "Queue video generation for a post.\n\nCreates a video generation job and publishes it to the video-generator\nworker via Pub/Sub. Returns immediately with job details including\ncost estimate.\n\nIssue #1701: Implements the POST /posts/{post_id}/videos endpoint.\n\nArgs:\n    post_id: ID of the post to generate video for\n    request: Video generation parameters\n    response: FastAPI response object for headers\n    user_id: Authenticated user ID (from JWT token)\n    post_repository: Repository for post lookup\n    job_repository: Repository for video job creation\n    publisher: Video generation publisher (Pub/Sub or direct HTTP)\n\nReturns:\n    VideoJobResponse with job ID and cost estimate\n\nRaises:\n    HTTPException 400: If post has no image\n    HTTPException 401: If not authenticated\n    HTTPException 403: If user doesn't own the post\n    HTTPException 404: If post not found\n    HTTPException 500: If publishing fails",
        "operationId": "create_video_api_v2_posts__post_id__videos_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "post_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Post Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/VideoGenerationRequest"
              }
            }
          }
        },
        "responses": {
          "202": {
            "description": "Video generation job queued successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VideoJobResponse"
                }
              }
            }
          },
          "400": {
            "description": "Post has no image to generate video from"
          },
          "401": {
            "description": "Unauthorized - authentication required"
          },
          "403": {
            "description": "Forbidden - user does not own this post"
          },
          "404": {
            "description": "Post not found"
          },
          "500": {
            "description": "Failed to queue video generation"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/video-jobs/{job_id}": {
      "get": {
        "tags": [
          "video-generation"
        ],
        "summary": "Get Video Job Status",
        "description": "Get the status of a video generation job.\n\nRetrieves the current status, progress, and result URL for a video\ngeneration job. Poll this endpoint to track job progress.\n\nIssue #1697: Implements GET /video-jobs/{job_id} status endpoint.\n\nArgs:\n    job_id: UUID of the video generation job\n    user_id: Authenticated user ID (from JWT token)\n    job_repository: Repository for video job retrieval\n\nReturns:\n    VideoJobStatusResponse with current job status and details\n\nRaises:\n    HTTPException 401: If not authenticated\n    HTTPException 404: If job not found",
        "operationId": "get_video_job_status_api_v2_video_jobs__job_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "job_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Job Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Video job status retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VideoJobStatusResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - authentication required"
          },
          "404": {
            "description": "Video job not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/posts/{post_id}/videos/{job_id}/reject": {
      "post": {
        "tags": [
          "video-generation"
        ],
        "summary": "Reject Video",
        "description": "Reject a video during HITL review.\n\nMarks the video generation job as rejected with an optional reason.\nThis is part of the Human-in-the-Loop workflow for video content.\n\nIssue #2023: Implements POST /posts/{post_id}/videos/{job_id}/reject.\n\nArgs:\n    post_id: ID of the post containing the video\n    job_id: UUID of the video generation job to reject\n    request: Rejection details including optional reason\n    user_id: Authenticated user ID (from JWT token)\n    post_repository: Repository for post lookup\n    job_repository: Repository for video job operations\n\nReturns:\n    VideoRejectResponse with rejection details\n\nRaises:\n    HTTPException 401: If not authenticated\n    HTTPException 403: If user doesn't own the post\n    HTTPException 404: If post or video job not found",
        "operationId": "reject_video_api_v2_posts__post_id__videos__job_id__reject_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "post_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Post Id"
            }
          },
          {
            "name": "job_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Job Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/VideoRejectRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Video job rejected successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VideoRejectResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - authentication required"
          },
          "403": {
            "description": "Forbidden - user does not own this post"
          },
          "404": {
            "description": "Post or video job not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/posts/{post_id}/videos/{job_id}/approvals": {
      "post": {
        "tags": [
          "video-generation"
        ],
        "summary": "Approve Video",
        "description": "Approve a video during HITL review.\n\nMarks the video generation job as approved for publication.\nThis is part of the Human-in-the-Loop workflow for video content.\n\nIssue #2022: Implements POST /posts/{post_id}/videos/{job_id}/approvals.\n\nArgs:\n    post_id: ID of the post containing the video\n    job_id: UUID of the video generation job to approve\n    user_id: Authenticated user ID (from JWT token)\n    post_repository: Repository for post lookup\n    job_repository: Repository for video job operations\n\nReturns:\n    VideoApprovalResponse with approval details\n\nRaises:\n    HTTPException 400: If job cannot be approved (wrong state)\n    HTTPException 401: If not authenticated\n    HTTPException 403: If user doesn't own the post\n    HTTPException 404: If post or video job not found",
        "operationId": "approve_video_api_v2_posts__post_id__videos__job_id__approvals_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "post_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Post Id"
            }
          },
          {
            "name": "job_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Job Id"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Video job approved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VideoApprovalResponse"
                }
              }
            }
          },
          "400": {
            "description": "Video job cannot be approved in current state"
          },
          "401": {
            "description": "Unauthorized - authentication required"
          },
          "403": {
            "description": "Forbidden - user does not own this post"
          },
          "404": {
            "description": "Post or video job not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/posts/{post_id}/videos/{job_id}/regenerations": {
      "post": {
        "tags": [
          "video-generation"
        ],
        "summary": "Regenerate Video",
        "description": "Regenerate a video during HITL review.\n\nCreates a new video generation job based on the original, optionally\nincorporating user feedback. Publishes to video-generator worker.\n\nIssue #2024: Implements POST /posts/{post_id}/videos/{job_id}/regenerations.\n\nArgs:\n    post_id: ID of the post containing the video\n    job_id: UUID of the original video generation job\n    request: Regeneration parameters including optional feedback\n    response: FastAPI response object for headers\n    user_id: Authenticated user ID (from JWT token)\n    post_repository: Repository for post lookup\n    job_repository: Repository for video job operations\n    publisher: Video generation publisher (Pub/Sub or direct HTTP)\n\nReturns:\n    VideoRegenerateResponse with new job details\n\nRaises:\n    HTTPException 400: If post has no image or original job invalid\n    HTTPException 401: If not authenticated\n    HTTPException 403: If user doesn't own the post\n    HTTPException 404: If post or video job not found\n    HTTPException 500: If publishing fails",
        "operationId": "regenerate_video_api_v2_posts__post_id__videos__job_id__regenerations_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "post_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Post Id"
            }
          },
          {
            "name": "job_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Job Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/VideoRegenerateRequest"
              }
            }
          }
        },
        "responses": {
          "202": {
            "description": "Video regeneration job queued successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VideoRegenerateResponse"
                }
              }
            }
          },
          "400": {
            "description": "Post has no image or original job invalid"
          },
          "401": {
            "description": "Unauthorized - authentication required"
          },
          "403": {
            "description": "Forbidden - user does not own this post"
          },
          "404": {
            "description": "Post or video job not found"
          },
          "500": {
            "description": "Failed to queue video regeneration"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/posts/{post_id}/videos/{job_id}/static/conversions": {
      "post": {
        "tags": [
          "video-generation"
        ],
        "summary": "Convert To Static",
        "description": "Convert a video job to static image.\n\nCancels the video generation job and returns the post's static image.\nThis is part of the Human-in-the-Loop workflow for video content when\nthe user decides to use the static image instead.\n\nIssue #2025: Implements POST /posts/{post_id}/videos/{job_id}/static/conversions.\n\nArgs:\n    post_id: ID of the post containing the video\n    job_id: UUID of the video generation job to cancel\n    user_id: Authenticated user ID (from JWT token)\n    post_repository: Repository for post lookup\n    job_repository: Repository for video job operations\n\nReturns:\n    VideoConvertStaticResponse with static image URL\n\nRaises:\n    HTTPException 401: If not authenticated\n    HTTPException 403: If user doesn't own the post\n    HTTPException 404: If post or video job not found\n    HTTPException 409: If job is already in terminal state",
        "operationId": "convert_to_static_api_v2_posts__post_id__videos__job_id__static_conversions_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "post_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Post Id"
            }
          },
          {
            "name": "job_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Job Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Video converted to static image successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VideoConvertStaticResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - authentication required"
          },
          "403": {
            "description": "Forbidden - user does not own this post"
          },
          "404": {
            "description": "Post or video job not found"
          },
          "409": {
            "description": "Conflict - job already in terminal state"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/video-jobs/cleanup": {
      "post": {
        "tags": [
          "video-generation"
        ],
        "summary": "Cleanup Stale Video Jobs",
        "description": "Clean up stale video generation jobs.\n\nFinds video generation jobs stuck in 'processing' or 'queued' status\nbeyond the configured timeout and transitions them to 'failed'.\n\nIssue #2905: Endpoint for stale video job cleanup.\n\nThis endpoint can be called by:\n- Cloud Scheduler for periodic cleanup\n- Admin users for manual cleanup\n- Health check systems\n\nArgs:\n    firebase_user: Authenticated user from JWT token\n    cleanup_service: Service for stale job cleanup\n\nReturns:\n    Dict with cleaned_count and status\n\nRaises:\n    HTTPException 401: If not authenticated\n    HTTPException 500: If cleanup fails",
        "operationId": "cleanup_stale_video_jobs_api_v2_video_jobs_cleanup_post",
        "responses": {
          "200": {
            "description": "Stale video job cleanup completed",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "type": "object",
                  "title": "Response Cleanup Stale Video Jobs Api V2 Video Jobs Cleanup Post"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - authentication required"
          },
          "500": {
            "description": "Cleanup failed"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    }
  },
  "components": {
    "schemas": {
      "AgenticContextualBanditState": {
        "properties": {
          "recommended_arm": {
            "type": "string",
            "title": "Recommended Arm",
            "description": "Pre-computed arm recommendation based on current context"
          },
          "arm_probabilities": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Arm Probabilities",
            "description": "Predicted success probability for each arm"
          },
          "context_features": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Context Features",
            "description": "Current context features used for prediction"
          },
          "exploration_mode": {
            "type": "boolean",
            "title": "Exploration Mode",
            "description": "Whether recommendation was made in exploration mode",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "recommended_arm"
        ],
        "title": "AgenticContextualBanditState",
        "description": "Contextual bandit state for embedding in fat Pub/Sub message.\n\nThis is fetched by the API and embedded in the content generation\nmessage. The content generator does NOT fetch this directly."
      },
      "AgenticLearningState": {
        "properties": {
          "scene_posteriors": {
            "items": {
              "$ref": "#/components/schemas/AgenticScenePosterior"
            },
            "type": "array",
            "title": "Scene Posteriors",
            "description": "Beta distribution posteriors per scene type"
          },
          "min_observations_threshold": {
            "type": "integer",
            "title": "Min Observations Threshold",
            "description": "Min observations before trusting posteriors",
            "default": 50
          }
        },
        "type": "object",
        "title": "AgenticLearningState",
        "description": "Learning state for embedding in fat Pub/Sub message.\n\nThis is fetched by the API and embedded in the post generation\nmessage. The post-generator does NOT fetch this directly."
      },
      "AgenticScenePosterior": {
        "properties": {
          "scene_type": {
            "type": "string",
            "title": "Scene Type",
            "description": "Scene type (lifestyle, product, etc.)"
          },
          "alpha": {
            "type": "number",
            "minimum": 0.0,
            "title": "Alpha",
            "description": "Beta dist alpha param",
            "default": 1.0
          },
          "beta": {
            "type": "number",
            "minimum": 0.0,
            "title": "Beta",
            "description": "Beta dist beta param",
            "default": 1.0
          },
          "observation_count": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Observation Count",
            "description": "Total observations",
            "default": 0
          }
        },
        "type": "object",
        "required": [
          "scene_type"
        ],
        "title": "AgenticScenePosterior",
        "description": "Beta distribution parameters for embedding in fat message.\n\nThis schema is used when building the Pub/Sub message for the\npost-generator. The post-generator does NOT call this API."
      },
      "ArmDistributionMetrics": {
        "properties": {
          "brandId": {
            "type": "string",
            "title": "Brandid",
            "description": "Brand ID analyzed"
          },
          "armDistribution": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Armdistribution",
            "description": "Distribution of selections across arms (sums to 1.0)"
          },
          "expectedValues": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Expectedvalues",
            "description": "Expected values (posterior means) for each arm"
          },
          "giniCoefficient": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Ginicoefficient",
            "description": "Gini coefficient measuring selection inequality (0=equal, 1=concentrated)",
            "default": 0.0
          },
          "dominantArm": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Dominantarm",
            "description": "Arm receiving the most selections"
          },
          "dominantArmShare": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Dominantarmshare",
            "description": "Share of selections going to dominant arm",
            "default": 0.0
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Human-readable description of distribution status",
            "default": ""
          },
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "title": "Timestamp",
            "description": "When the analysis was performed"
          }
        },
        "type": "object",
        "required": [
          "brandId"
        ],
        "title": "ArmDistributionMetrics",
        "description": "Metrics for arm selection distribution."
      },
      "AspectRatio": {
        "type": "string",
        "enum": [
          "9:16",
          "1:1",
          "16:9"
        ],
        "title": "AspectRatio",
        "description": "Supported aspect ratios for video generation."
      },
      "AssetAvailability": {
        "properties": {
          "logos": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Logos",
            "description": "Available logo URLs or identifiers"
          },
          "productImages": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Productimages",
            "description": "Available product image URLs or identifiers"
          },
          "icons": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Icons",
            "description": "Available icon URLs or identifiers"
          },
          "fonts": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Fonts",
            "description": "Available font names or URLs"
          }
        },
        "type": "object",
        "title": "AssetAvailability",
        "description": "Asset availability schema for brand resources."
      },
      "BatchPerformanceCreate": {
        "properties": {
          "posts": {
            "items": {
              "$ref": "#/components/schemas/PostPerformanceMetric"
            },
            "type": "array",
            "minItems": 1,
            "title": "Posts",
            "description": "List of post performance metrics"
          }
        },
        "type": "object",
        "required": [
          "posts"
        ],
        "title": "BatchPerformanceCreate",
        "description": "Schema for batch performance metrics submission.\n\nPhase 1 ML improvements: Accepts metrics for multiple posts at once.\nUsed for POST /api/v2/campaigns/{campaign_id}/performance"
      },
      "BatchPerformanceResponse": {
        "properties": {
          "submittedCount": {
            "type": "integer",
            "title": "Submittedcount",
            "description": "Number of metrics successfully submitted",
            "default": 0
          },
          "failedCount": {
            "type": "integer",
            "title": "Failedcount",
            "description": "Number of metrics that failed",
            "default": 0
          },
          "performanceIds": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Performanceids",
            "description": "IDs of created performance records"
          }
        },
        "type": "object",
        "title": "BatchPerformanceResponse",
        "description": "Response schema for batch performance submission."
      },
      "BatchProcessingResponse": {
        "properties": {
          "brand_id": {
            "type": "string",
            "title": "Brand Id",
            "description": "The brand ID"
          },
          "posts_processed": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Posts Processed",
            "description": "Number of posts successfully processed"
          },
          "posts_skipped": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Posts Skipped",
            "description": "Number of posts skipped (missing data)"
          },
          "total_reward": {
            "type": "number",
            "minimum": 0.0,
            "title": "Total Reward",
            "description": "Sum of all rewards"
          },
          "average_reward": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Average Reward",
            "description": "Average reward across processed posts"
          },
          "results": {
            "items": {
              "$ref": "#/components/schemas/FeedbackProcessingResponse"
            },
            "type": "array",
            "title": "Results",
            "description": "Individual processing results"
          }
        },
        "type": "object",
        "required": [
          "brand_id",
          "posts_processed",
          "posts_skipped",
          "total_reward",
          "average_reward",
          "results"
        ],
        "title": "BatchProcessingResponse",
        "description": "Response schema for batch engagement processing."
      },
      "Body_update_brand_files": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Name",
            "description": "Brand name"
          },
          "website": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Website",
            "description": "Brand website URL"
          },
          "brand_colors": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Brand Colors",
            "description": "JSON array of RGB hex codes"
          },
          "industry": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Industry",
            "description": "Brand industry"
          },
          "target_audience": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Target Audience",
            "description": "Target audience"
          },
          "brand_guidelines": {
            "anyOf": [
              {
                "type": "string",
                "format": "binary"
              },
              {
                "type": "null"
              }
            ],
            "title": "Brand Guidelines"
          },
          "logo": {
            "anyOf": [
              {
                "type": "string",
                "format": "binary"
              },
              {
                "type": "null"
              }
            ],
            "title": "Logo"
          }
        },
        "type": "object",
        "title": "Body_update_brand_files"
      },
      "Body_upload_brand_files": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Name",
            "description": "Brand name"
          },
          "website": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Website",
            "description": "Brand website URL"
          },
          "brand_colors": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Brand Colors",
            "description": "JSON array of RGB hex codes"
          },
          "industry": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Industry",
            "description": "Brand industry"
          },
          "target_audience": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Target Audience",
            "description": "Target audience"
          },
          "brand_guidelines": {
            "anyOf": [
              {
                "type": "string",
                "format": "binary"
              },
              {
                "type": "null"
              }
            ],
            "title": "Brand Guidelines"
          },
          "logo": {
            "anyOf": [
              {
                "type": "string",
                "format": "binary"
              },
              {
                "type": "null"
              }
            ],
            "title": "Logo"
          }
        },
        "type": "object",
        "title": "Body_upload_brand_files"
      },
      "BrandArchetype": {
        "type": "string",
        "enum": [
          "premium",
          "minimalist",
          "playful",
          "luxury",
          "eco",
          "athletic",
          "tech",
          "professional",
          "creative",
          "traditional"
        ],
        "title": "BrandArchetype",
        "description": "Brand archetype classification for content tone and style."
      },
      "BrandAudienceSummary": {
        "properties": {
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "Target audience description"
          },
          "ageRange": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Agerange",
            "description": "Age range"
          },
          "interests": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Interests",
            "description": "Key interests"
          },
          "values": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Values",
            "description": "Core values"
          }
        },
        "type": "object",
        "title": "BrandAudienceSummary",
        "description": "Target audience in the summary view."
      },
      "BrandColorSummary": {
        "properties": {
          "hex": {
            "type": "string",
            "title": "Hex",
            "description": "Hex color code (e.g., #FF0000)"
          },
          "name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Name",
            "description": "Color name if available"
          },
          "usage": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Usage",
            "description": "Color usage (primary, secondary, accent)"
          }
        },
        "type": "object",
        "required": [
          "hex"
        ],
        "title": "BrandColorSummary",
        "description": "Brand color in the summary view."
      },
      "BrandCrawlAssetsInfo": {
        "properties": {
          "colorsFound": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Colorsfound",
            "description": "Number of brand colors found",
            "default": 0
          },
          "fontsFound": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Fontsfound",
            "description": "Number of fonts identified",
            "default": 0
          },
          "imagesFound": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Imagesfound",
            "description": "Number of images discovered",
            "default": 0
          },
          "logosFound": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Logosfound",
            "description": "Number of logos identified",
            "default": 0
          }
        },
        "type": "object",
        "title": "BrandCrawlAssetsInfo",
        "description": "Assets discovered during brand crawl."
      },
      "BrandCrawlOutputAckResponse": {
        "properties": {
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Processing status",
            "default": "acknowledged"
          },
          "brand_id": {
            "type": "string",
            "title": "Brand Id",
            "description": "Brand ID from message"
          },
          "crawl_status": {
            "type": "string",
            "title": "Crawl Status",
            "description": "Crawl status (completed/failed)"
          }
        },
        "type": "object",
        "required": [
          "brand_id",
          "crawl_status"
        ],
        "title": "BrandCrawlOutputAckResponse",
        "description": "Response for successful brand crawl output processing."
      },
      "BrandCrawlOutputEnvelope": {
        "properties": {
          "message": {
            "$ref": "#/components/schemas/PubSubMessage",
            "description": "The Pub/Sub message"
          },
          "subscription": {
            "type": "string",
            "title": "Subscription",
            "description": "Subscription name that sent the message"
          }
        },
        "type": "object",
        "required": [
          "message",
          "subscription"
        ],
        "title": "BrandCrawlOutputEnvelope",
        "description": "Pub/Sub push subscription envelope for brand crawl output.\n\nThis is the outer wrapper that Pub/Sub sends to push endpoints.\nThe actual message data is base64-encoded inside message.data."
      },
      "BrandCrawlPerformance": {
        "properties": {
          "brand_id": {
            "type": "string",
            "title": "Brand Id",
            "description": "Brand identifier"
          },
          "brand_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Brand Name",
            "description": "Brand name if available"
          },
          "total_pages": {
            "type": "integer",
            "title": "Total Pages",
            "description": "Total pages crawled for brand"
          },
          "successful_pages": {
            "type": "integer",
            "title": "Successful Pages",
            "description": "Successfully crawled pages"
          },
          "failed_pages": {
            "type": "integer",
            "title": "Failed Pages",
            "description": "Failed crawl attempts"
          },
          "success_rate": {
            "type": "number",
            "title": "Success Rate",
            "description": "Success rate percentage"
          },
          "average_duration_seconds": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Average Duration Seconds",
            "description": "Average crawl duration"
          },
          "last_crawl_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Crawl At",
            "description": "Most recent crawl"
          }
        },
        "type": "object",
        "required": [
          "brand_id",
          "total_pages",
          "successful_pages",
          "failed_pages",
          "success_rate"
        ],
        "title": "BrandCrawlPerformance",
        "description": "Crawl performance metrics for a single brand."
      },
      "BrandCrawlProgressInfo": {
        "properties": {
          "pagesEstimated": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Pagesestimated",
            "description": "Estimated total pages to crawl",
            "default": 0
          },
          "pagesCrawled": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Pagescrawled",
            "description": "Pages successfully crawled",
            "default": 0
          },
          "pagesFailed": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Pagesfailed",
            "description": "Pages that failed to crawl",
            "default": 0
          },
          "pagesPending": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Pagespending",
            "description": "Pages waiting to be crawled",
            "default": 0
          },
          "percentage": {
            "type": "number",
            "maximum": 100.0,
            "minimum": 0.0,
            "title": "Percentage",
            "description": "Crawl completion percentage",
            "default": 0.0
          }
        },
        "type": "object",
        "title": "BrandCrawlProgressInfo",
        "description": "Progress metrics for brand crawl status."
      },
      "BrandCrawlStatusResponse": {
        "properties": {
          "brandId": {
            "type": "string",
            "title": "Brandid",
            "description": "Brand ID"
          },
          "crawlJobId": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Crawljobid",
            "description": "ID of the current crawl job (if any)"
          },
          "status": {
            "type": "string",
            "enum": [
              "pending",
              "estimating",
              "crawling",
              "extracting",
              "uploading",
              "complete",
              "failed",
              "not_started"
            ],
            "title": "Status",
            "description": "Current crawl status"
          },
          "progress": {
            "$ref": "#/components/schemas/BrandCrawlProgressInfo",
            "description": "Detailed progress metrics"
          },
          "assets": {
            "$ref": "#/components/schemas/BrandCrawlAssetsInfo",
            "description": "Assets discovered during crawl"
          },
          "timing": {
            "$ref": "#/components/schemas/BrandCrawlTimingInfo",
            "description": "Timing information"
          },
          "page": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Page",
            "description": "URL of the page being crawled"
          },
          "errorMessage": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Errormessage",
            "description": "Error message if status is 'failed'"
          }
        },
        "type": "object",
        "required": [
          "brandId",
          "status",
          "progress",
          "assets",
          "timing"
        ],
        "title": "BrandCrawlStatusResponse",
        "description": "Response schema for brand crawl progress endpoint (Issue #1279).\n\nProvides real-time status updates for brand crawl operations so the\nfrontend can show users progress during website crawling."
      },
      "BrandCrawlTimingInfo": {
        "properties": {
          "startedAt": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Startedat",
            "description": "When the crawl started"
          },
          "estimatedCompletion": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Estimatedcompletion",
            "description": "Estimated completion time"
          },
          "elapsedSeconds": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Elapsedseconds",
            "description": "Seconds elapsed since crawl started",
            "default": 0
          }
        },
        "type": "object",
        "title": "BrandCrawlTimingInfo",
        "description": "Timing information for brand crawl."
      },
      "BrandCreate": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 255,
            "minLength": 1,
            "title": "Name"
          },
          "website": {
            "type": "string",
            "title": "Website",
            "description": "Brand website URL"
          },
          "brandColors": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Brandcolors",
            "description": "List of brand colors (RGB hex codes from color picker)"
          },
          "industry": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Industry",
            "description": "Brand industry or sector"
          },
          "targetAudience": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Targetaudience",
            "description": "Description of target audience"
          },
          "brandArchetype": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/BrandArchetype"
              },
              {
                "type": "null"
              }
            ],
            "description": "Brand archetype for content tone/style guidance"
          },
          "legalRestrictions": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/LegalRestrictions"
              },
              {
                "type": "null"
              }
            ],
            "description": "Legal restrictions for brand content"
          },
          "assetAvailability": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/AssetAvailability"
              },
              {
                "type": "null"
              }
            ],
            "description": "Available brand assets"
          }
        },
        "type": "object",
        "required": [
          "name",
          "website"
        ],
        "title": "BrandCreate",
        "description": "Schema for creating a new brand."
      },
      "BrandFileUploadResponse": {
        "properties": {
          "brandId": {
            "type": "string",
            "title": "Brandid",
            "description": "Brand ID"
          },
          "brandGuidelinesUrl": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Brandguidelinesurl",
            "description": "Google Cloud Storage URL for uploaded brand guidelines PDF"
          },
          "logoUrl": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Logourl",
            "description": "Google Cloud Storage URL for uploaded logo image"
          },
          "extractedData": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Extracteddata",
            "description": "Extracted brand information from PDF (colors, typography, photography)"
          }
        },
        "type": "object",
        "required": [
          "brandId"
        ],
        "title": "BrandFileUploadResponse",
        "description": "Response schema for brand file upload with LLM extraction."
      },
      "BrandGuardrailBase": {
        "properties": {
          "guardrail_type": {
            "type": "string",
            "title": "Guardrail Type",
            "description": "Type of guardrail: approved, avoid, negative_prompt",
            "example": "approved"
          },
          "category": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Category",
            "description": "Category: scenes, subjects, keywords, claims",
            "example": "scenes"
          },
          "value": {
            "type": "string",
            "title": "Value",
            "description": "The guardrail value or text",
            "example": "outdoor settings"
          },
          "reason": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Reason",
            "description": "Reason for this guardrail",
            "example": "Brand focuses on outdoor lifestyle"
          }
        },
        "type": "object",
        "required": [
          "guardrail_type",
          "value"
        ],
        "title": "BrandGuardrailBase",
        "description": "Base schema for brand guardrails."
      },
      "BrandGuardrailListResponse": {
        "properties": {
          "guardrails": {
            "items": {
              "$ref": "#/components/schemas/BrandGuardrailResponse"
            },
            "type": "array",
            "title": "Guardrails",
            "description": "List of brand guardrails"
          },
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "Total number of guardrails"
          }
        },
        "type": "object",
        "required": [
          "guardrails",
          "total"
        ],
        "title": "BrandGuardrailListResponse",
        "description": "Schema for list of brand guardrails."
      },
      "BrandGuardrailResponse": {
        "properties": {
          "guardrail_type": {
            "type": "string",
            "title": "Guardrail Type",
            "description": "Type of guardrail: approved, avoid, negative_prompt",
            "example": "approved"
          },
          "category": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Category",
            "description": "Category: scenes, subjects, keywords, claims",
            "example": "scenes"
          },
          "value": {
            "type": "string",
            "title": "Value",
            "description": "The guardrail value or text",
            "example": "outdoor settings"
          },
          "reason": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Reason",
            "description": "Reason for this guardrail",
            "example": "Brand focuses on outdoor lifestyle"
          },
          "id": {
            "type": "integer",
            "title": "Id",
            "description": "Guardrail ID"
          },
          "brand_id": {
            "type": "string",
            "title": "Brand Id",
            "description": "Brand ID this guardrail belongs to"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "Creation timestamp"
          }
        },
        "type": "object",
        "required": [
          "guardrail_type",
          "value",
          "id",
          "brand_id",
          "created_at"
        ],
        "title": "BrandGuardrailResponse",
        "description": "Schema for brand guardrail responses."
      },
      "BrandGuardrailUpdate": {
        "properties": {
          "guardrail_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Guardrail Type",
            "description": "Type of guardrail: approved, avoid, negative_prompt"
          },
          "category": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Category",
            "description": "Category: scenes, subjects, keywords, claims"
          },
          "value": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Value",
            "description": "The guardrail value or text"
          },
          "reason": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Reason",
            "description": "Reason for this guardrail"
          }
        },
        "type": "object",
        "title": "BrandGuardrailUpdate",
        "description": "Schema for updating a brand guardrail."
      },
      "BrandKnowledgeBrandSummaryResponse": {
        "properties": {
          "brandId": {
            "type": "string",
            "title": "Brandid",
            "description": "Brand ID"
          },
          "totalEntries": {
            "type": "integer",
            "title": "Totalentries",
            "description": "Total number of knowledge entries for this brand"
          },
          "lastUpdated": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Lastupdated",
            "description": "Last update timestamp (None if no knowledge exists)"
          },
          "categoryBreakdown": {
            "$ref": "#/components/schemas/CategoryBreakdown",
            "description": "Breakdown by category (traits, products, colors)"
          }
        },
        "type": "object",
        "required": [
          "brandId",
          "totalEntries",
          "categoryBreakdown"
        ],
        "title": "BrandKnowledgeBrandSummaryResponse",
        "description": "Summary statistics for a specific brand's knowledge."
      },
      "BrandKnowledgeStatusResponse": {
        "properties": {
          "brandId": {
            "type": "string",
            "title": "Brandid",
            "description": "Brand ID"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Current knowledge extraction status (not_started, pending, crawl_complete, failed)"
          },
          "progress": {
            "type": "integer",
            "maximum": 100.0,
            "minimum": 0.0,
            "title": "Progress",
            "description": "Overall progress percentage (0-100)"
          },
          "stepText": {
            "type": "string",
            "title": "Steptext",
            "description": "Human-readable description of the current progress step (e.g., 'Initializing brand analysis', 'Crawling your website'). This is the single source of truth for frontend display."
          },
          "quickExtractComplete": {
            "type": "boolean",
            "title": "Quickextractcomplete",
            "description": "Whether quick extraction phase is complete"
          },
          "deepCrawlComplete": {
            "type": "boolean",
            "title": "Deepcrawlcomplete",
            "description": "Whether deep crawl phase is complete"
          },
          "lastUpdated": {
            "type": "string",
            "format": "date-time",
            "title": "Lastupdated",
            "description": "When the knowledge status was last updated"
          },
          "metadata": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "additionalProperties": true,
            "title": "Metadata",
            "description": "Additional metadata about knowledge extraction (pages crawled, etc.)"
          }
        },
        "type": "object",
        "required": [
          "brandId",
          "status",
          "progress",
          "stepText",
          "quickExtractComplete",
          "deepCrawlComplete",
          "lastUpdated"
        ],
        "title": "BrandKnowledgeStatusResponse",
        "description": "Response schema for brand knowledge extraction status (Phase 1: Progressive Brand Knowledge)."
      },
      "BrandKnowledgeV2ListResponse": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/BrandKnowledgeV2Response"
            },
            "type": "array",
            "title": "Items",
            "description": "List of brand knowledge entries"
          },
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "Total number of knowledge entries for this brand"
          },
          "limit": {
            "type": "integer",
            "title": "Limit",
            "description": "Number of items per page"
          },
          "offset": {
            "type": "integer",
            "title": "Offset",
            "description": "Number of items skipped"
          }
        },
        "type": "object",
        "required": [
          "items",
          "total",
          "limit",
          "offset"
        ],
        "title": "BrandKnowledgeV2ListResponse",
        "description": "V2 Paginated response model for brand knowledge list."
      },
      "BrandKnowledgeV2Response": {
        "properties": {
          "brandId": {
            "type": "string",
            "title": "Brandid",
            "description": "Brand ID"
          },
          "personalityTraits": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Personalitytraits",
            "description": "2-5 lowercase adjectives describing brand personality"
          },
          "toneAttributes": {
            "$ref": "#/components/schemas/ToneAttributesV2",
            "description": "Structured tone characteristics"
          },
          "colorPalette": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Colorpalette",
            "description": "3-5 hex color codes from brand visual identity"
          },
          "products": {
            "items": {
              "$ref": "#/components/schemas/ProductV2"
            },
            "type": "array",
            "title": "Products",
            "description": "List of products with name and category"
          },
          "brandDescription": {
            "type": "string",
            "maxLength": 500,
            "title": "Branddescription",
            "description": "1-2 sentences describing the brand"
          },
          "valueProposition": {
            "type": "string",
            "maxLength": 500,
            "title": "Valueproposition",
            "description": "1-2 sentences describing the value proposition"
          },
          "targetAudience": {
            "type": "string",
            "maxLength": 500,
            "title": "Targetaudience",
            "description": "1-2 sentences describing the target audience"
          },
          "audienceEmotions": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Audienceemotions",
            "description": "Emotional themes that resonate with the target audience (e.g., excitement, trust, innovation)"
          },
          "audienceInterests": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Audienceinterests",
            "description": "Interest categories of the target audience (e.g., technology, sustainability, efficiency)"
          }
        },
        "type": "object",
        "required": [
          "brandId",
          "personalityTraits",
          "toneAttributes",
          "colorPalette",
          "products",
          "brandDescription",
          "valueProposition",
          "targetAudience"
        ],
        "title": "BrandKnowledgeV2Response",
        "description": "V2 Response model for simplified brand knowledge extraction."
      },
      "BrandLearningStateResponse": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "brand_id": {
            "type": "string",
            "title": "Brand Id"
          },
          "scene_type": {
            "type": "string",
            "title": "Scene Type",
            "description": "Scene type: lifestyle, product, testimonial, educational"
          },
          "alpha": {
            "type": "number",
            "title": "Alpha",
            "description": "Beta distribution alpha parameter"
          },
          "beta": {
            "type": "number",
            "title": "Beta",
            "description": "Beta distribution beta parameter"
          },
          "observation_count": {
            "type": "integer",
            "title": "Observation Count",
            "description": "Total observations for this scene type"
          },
          "positive_outcomes": {
            "type": "integer",
            "title": "Positive Outcomes",
            "description": "Count of positive outcomes"
          },
          "negative_outcomes": {
            "type": "integer",
            "title": "Negative Outcomes",
            "description": "Count of negative outcomes"
          },
          "expected_success_rate": {
            "type": "number",
            "title": "Expected Success Rate",
            "description": "Expected success rate (alpha / (alpha + beta))"
          },
          "last_updated": {
            "type": "string",
            "format": "date-time",
            "title": "Last Updated"
          }
        },
        "type": "object",
        "required": [
          "id",
          "brand_id",
          "scene_type",
          "alpha",
          "beta",
          "observation_count",
          "positive_outcomes",
          "negative_outcomes",
          "expected_success_rate",
          "last_updated"
        ],
        "title": "BrandLearningStateResponse",
        "description": "Response schema for brand learning state."
      },
      "BrandManualCompleteResponse": {
        "properties": {
          "brandId": {
            "type": "string",
            "title": "Brandid",
            "description": "Brand ID"
          },
          "knowledgeStatus": {
            "type": "string",
            "title": "Knowledgestatus",
            "description": "Updated knowledge status (crawl_complete)"
          },
          "knowledgeProgress": {
            "type": "integer",
            "title": "Knowledgeprogress",
            "description": "Updated knowledge progress (100)"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Human-readable status message"
          },
          "isReadyForCampaigns": {
            "type": "boolean",
            "title": "Isreadyforcampaigns",
            "description": "Whether the brand is now ready for campaign creation"
          }
        },
        "type": "object",
        "required": [
          "brandId",
          "knowledgeStatus",
          "knowledgeProgress",
          "message",
          "isReadyForCampaigns"
        ],
        "title": "BrandManualCompleteResponse",
        "description": "Response schema for manual brand knowledge completion (Issue #3423).\n\nReturned when a user manually completes brand setup without a website crawl,\nmarking the brand as ready for campaign creation."
      },
      "BrandOnboardingProgressResponse": {
        "properties": {
          "brandId": {
            "type": "string",
            "title": "Brandid",
            "description": "Brand ID"
          },
          "step": {
            "type": "string",
            "title": "Step",
            "description": "Step in the onboarding process"
          },
          "completedSteps": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Completedsteps",
            "description": "List of completed steps in chronological order"
          },
          "progressPercentage": {
            "type": "integer",
            "maximum": 100.0,
            "minimum": 0.0,
            "title": "Progresspercentage",
            "description": "Overall progress percentage (0-100)",
            "default": 0
          },
          "metadata": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "additionalProperties": true,
            "title": "Metadata",
            "description": "Additional metadata about the current step or progress"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "title": "Updatedat",
            "description": "When the progress was last updated"
          }
        },
        "type": "object",
        "required": [
          "brandId",
          "step",
          "updatedAt"
        ],
        "title": "BrandOnboardingProgressResponse",
        "description": "Schema for brand onboarding progress response."
      },
      "BrandOnboardingProgressUpdate": {
        "properties": {
          "step": {
            "type": "string",
            "maxLength": 100,
            "title": "Step",
            "description": "Step in the onboarding process (e.g., 'brand-info', 'assets-upload', 'knowledge-review')"
          },
          "completedSteps": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Completedsteps",
            "description": "List of completed steps in chronological order"
          },
          "progressPercentage": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 100.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Progresspercentage",
            "description": "Overall progress percentage (0-100)"
          },
          "metadata": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "additionalProperties": true,
            "title": "Metadata",
            "description": "Additional metadata about the current step or progress"
          }
        },
        "type": "object",
        "required": [
          "step"
        ],
        "title": "BrandOnboardingProgressUpdate",
        "description": "Schema for updating brand onboarding progress step."
      },
      "BrandProductSummary": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Product name"
          },
          "category": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Category",
            "description": "Product category"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "Brief product description"
          }
        },
        "type": "object",
        "required": [
          "name"
        ],
        "title": "BrandProductSummary",
        "description": "Product in the summary view."
      },
      "BrandProfileExport": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "website": {
            "type": "string",
            "title": "Website"
          },
          "brandColors": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Brandcolors"
          },
          "industry": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Industry"
          },
          "targetAudience": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Targetaudience"
          },
          "logoUrl": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Logourl"
          },
          "mission": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Mission"
          },
          "values": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Values"
          },
          "brandPersona": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Brandpersona"
          },
          "toneOfVoice": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Toneofvoice"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "website"
        ],
        "title": "BrandProfileExport",
        "description": "Brand profile data for export documents."
      },
      "BrandRecrawlResponse": {
        "properties": {
          "brandId": {
            "type": "string",
            "title": "Brandid",
            "description": "Brand ID"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Human-readable status message"
          },
          "correlationId": {
            "type": "string",
            "title": "Correlationid",
            "description": "Correlation ID for tracking the re-crawl request"
          },
          "previousStatus": {
            "type": "string",
            "title": "Previousstatus",
            "description": "Knowledge status before the re-crawl was triggered"
          }
        },
        "type": "object",
        "required": [
          "brandId",
          "message",
          "correlationId",
          "previousStatus"
        ],
        "title": "BrandRecrawlResponse",
        "description": "Response schema for brand re-crawl endpoint (Issue #2935).\n\nReturned when a user triggers a re-crawl for a brand whose crawl\nhas failed or become stuck."
      },
      "BrandResponse": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 255,
            "minLength": 1,
            "title": "Name"
          },
          "website": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Website"
          },
          "id": {
            "type": "string",
            "title": "ID"
          },
          "brandGuidelinesUrl": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Brandguidelinesurl",
            "description": "Google Cloud Storage URL for brand guidelines PDF"
          },
          "logoUrl": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Logourl",
            "description": "Google Cloud Storage URL for brand logo"
          },
          "brandColors": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Brandcolors",
            "description": "Brand colors (RGB hex codes from frontend or extracted during crawling)"
          },
          "industry": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Industry"
          },
          "targetAudience": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Targetaudience"
          },
          "status": {
            "$ref": "#/components/schemas/BrandStatus"
          },
          "workflowId": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Workflowid",
            "description": "ID of the associated brand extraction workflow"
          },
          "knowledgeStatus": {
            "type": "string",
            "title": "Knowledgestatus",
            "description": "Status of knowledge extraction (not_started, pending, crawl_complete, failed)",
            "default": "not_started"
          },
          "knowledgeProgress": {
            "type": "integer",
            "maximum": 100.0,
            "minimum": 0.0,
            "title": "Knowledgeprogress",
            "description": "Knowledge extraction progress percentage (0-100)",
            "default": 0
          },
          "brandArchetype": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/BrandArchetype"
              },
              {
                "type": "null"
              }
            ],
            "description": "Brand archetype for content tone/style guidance"
          },
          "legalRestrictions": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/LegalRestrictions"
              },
              {
                "type": "null"
              }
            ],
            "description": "Legal restrictions for brand content"
          },
          "assetAvailability": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/AssetAvailability"
              },
              {
                "type": "null"
              }
            ],
            "description": "Available brand assets"
          },
          "crawlData": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Crawldata",
            "description": "Full crawl data from brand crawler: visual_identity, brand_voice, social_media, etc."
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "name",
          "id",
          "status",
          "createdAt",
          "updatedAt"
        ],
        "title": "BrandResponse",
        "description": "Schema for brand responses."
      },
      "BrandStatus": {
        "type": "string",
        "enum": [
          "onboarding",
          "active",
          "inactive"
        ],
        "title": "BrandStatus",
        "description": "Brand status enumeration."
      },
      "BrandSummaryResponse": {
        "properties": {
          "brandId": {
            "type": "string",
            "title": "Brandid",
            "description": "The brand ID this summary belongs to"
          },
          "summary": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 1000
              },
              {
                "type": "null"
              }
            ],
            "title": "Summary",
            "description": "Generated brand summary (60 words or less), or None if async",
            "examples": [
              "TechCorp is committed to democratizing AI technology, envisioning a future where intelligent systems enhance human potential. Operating in the technology industry, the brand emphasizes innovation and accessibility, communicating with a professional yet approachable voice. Known for its modern design, it embodies an innovative persona, effectively serving the enterprise software vertical."
            ]
          },
          "message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Message",
            "description": "Status message for async operations"
          },
          "correlationId": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Correlationid",
            "description": "Correlation ID for tracking async operations"
          }
        },
        "type": "object",
        "required": [
          "brandId"
        ],
        "title": "BrandSummaryResponse",
        "description": "Schema for brand summary response.\n\nIssue #1386: Updated to support async pattern with optional summary.\n\nReturns a generated cohesive brand summary paragraph based on the brand's\nmission, vision, values, tone/voice, persona, industry, and vertical.\n\nFor async operations:\n- summary is None (generation in progress)\n- message contains status info\n- correlation_id can be used for tracking\n\nFollowing V1 implementation (ReviewForm.tsx):\n- Generated via LLM (brand-crawler service)\n- 60 words or less\n- Single cohesive paragraph\n- Includes: mission, vision, values, tone/voice, persona, industry, vertical\n- Excludes: brand colors, service lists, location"
      },
      "BrandSummaryView": {
        "properties": {
          "brandId": {
            "type": "string",
            "title": "Brandid",
            "description": "Brand ID"
          },
          "brandName": {
            "type": "string",
            "title": "Brandname",
            "description": "Brand name"
          },
          "website": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Website",
            "description": "Brand website URL"
          },
          "brandDescription": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Branddescription",
            "description": "1-2 sentence brand description"
          },
          "valueProposition": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Valueproposition",
            "description": "What makes this brand unique"
          },
          "mission": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Mission",
            "description": "Brand mission statement"
          },
          "tagline": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tagline",
            "description": "Brand tagline/slogan"
          },
          "industry": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Industry",
            "description": "Industry category"
          },
          "industryVertical": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Industryvertical",
            "description": "Industry vertical"
          },
          "brandArchetype": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Brandarchetype",
            "description": "Brand archetype (e.g., tech, luxury, playful)"
          },
          "colors": {
            "items": {
              "$ref": "#/components/schemas/BrandColorSummary"
            },
            "type": "array",
            "title": "Colors",
            "description": "Brand color palette"
          },
          "logoUrl": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Logourl",
            "description": "Primary logo URL"
          },
          "tone": {
            "$ref": "#/components/schemas/BrandToneSummary",
            "description": "Brand tone attributes"
          },
          "keyPhrases": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Keyphrases",
            "description": "Signature brand phrases"
          },
          "thingsToAvoid": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Thingstoavoid",
            "description": "Words/phrases to avoid in content"
          },
          "products": {
            "items": {
              "$ref": "#/components/schemas/BrandProductSummary"
            },
            "type": "array",
            "title": "Products",
            "description": "Key products/services"
          },
          "audience": {
            "$ref": "#/components/schemas/BrandAudienceSummary",
            "description": "Target audience information"
          },
          "knowledgeStatus": {
            "type": "string",
            "title": "Knowledgestatus",
            "description": "Status of brand knowledge extraction"
          },
          "isComplete": {
            "type": "boolean",
            "title": "Iscomplete",
            "description": "Whether crawl is complete and data is available"
          }
        },
        "type": "object",
        "required": [
          "brandId",
          "brandName",
          "knowledgeStatus",
          "isComplete"
        ],
        "title": "BrandSummaryView",
        "description": "Synchronous brand summary view for Issue A (user testing feedback).\n\nThis schema extracts and displays what the system understood about the brand\nafter scraping. It enables users to:\n- See brand attributes, tone, positioning\n- Understand product focus areas\n- Know what context is being passed to content generation\n\nExtracted from the brand's crawl_data field which contains BrandAssets."
      },
      "BrandToneSummary": {
        "properties": {
          "formality": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Formality",
            "description": "Formality level (casual, semi-formal, formal)"
          },
          "enthusiasm": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Enthusiasm",
            "description": "Enthusiasm level (low, medium, high)"
          },
          "expertise": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Expertise",
            "description": "Expertise level (beginner, intermediate, authoritative)"
          },
          "personality": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Personality",
            "description": "Brand personality description"
          },
          "personalityTraits": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Personalitytraits",
            "description": "List of personality trait adjectives"
          }
        },
        "type": "object",
        "title": "BrandToneSummary",
        "description": "Brand tone attributes in the summary view."
      },
      "BrandUpdate": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Name"
          },
          "website": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Website",
            "description": "Brand website URL"
          },
          "brandGuidelinesUrl": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Brandguidelinesurl"
          },
          "logoUrl": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Logourl"
          },
          "brandColors": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Brandcolors",
            "description": "List of brand colors (RGB hex codes)"
          },
          "industry": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Industry"
          },
          "targetAudience": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Targetaudience"
          },
          "status": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/BrandStatus"
              },
              {
                "type": "null"
              }
            ]
          },
          "brandArchetype": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/BrandArchetype"
              },
              {
                "type": "null"
              }
            ],
            "description": "Brand archetype for content tone/style guidance"
          },
          "legalRestrictions": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/LegalRestrictions"
              },
              {
                "type": "null"
              }
            ],
            "description": "Legal restrictions for brand content"
          },
          "assetAvailability": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/AssetAvailability"
              },
              {
                "type": "null"
              }
            ],
            "description": "Available brand assets"
          }
        },
        "type": "object",
        "title": "BrandUpdate",
        "description": "Schema for updating an existing brand."
      },
      "BriefAckResponse": {
        "properties": {
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Processing status",
            "default": "acknowledged"
          },
          "correlationId": {
            "type": "string",
            "title": "Correlationid",
            "description": "Correlation ID from message"
          },
          "messageType": {
            "$ref": "#/components/schemas/MessageType",
            "description": "Type of message processed"
          },
          "brandName": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Brandname",
            "description": "Brand name if available"
          }
        },
        "type": "object",
        "required": [
          "correlationId",
          "messageType"
        ],
        "title": "BriefAckResponse",
        "description": "Response for successful brief processing."
      },
      "BriefStatusEnum": {
        "type": "string",
        "enum": [
          "in_progress",
          "core_complete",
          "complete",
          "failed"
        ],
        "title": "BriefStatusEnum",
        "description": "Aggregated crawl status derived from received briefs."
      },
      "BriefStatusResponse": {
        "properties": {
          "correlationId": {
            "type": "string",
            "title": "Correlationid",
            "description": "Correlation ID for the crawl"
          },
          "brandId": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Brandid",
            "description": "Associated brand ID if known"
          },
          "status": {
            "$ref": "#/components/schemas/BriefStatusEnum",
            "description": "Aggregated crawl status"
          },
          "briefs": {
            "items": {
              "$ref": "#/components/schemas/BriefSummary"
            },
            "type": "array",
            "title": "Briefs",
            "description": "List of received briefs"
          },
          "error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error",
            "description": "Error message if crawl failed"
          },
          "createdAt": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Createdat",
            "description": "When first brief was received"
          }
        },
        "type": "object",
        "required": [
          "correlationId",
          "status"
        ],
        "title": "BriefStatusResponse",
        "description": "Response for GET /briefs/{correlation_id} endpoint.\n\nProvides aggregated status of a brand crawl by correlation_id,\nincluding list of received briefs and derived overall status.\n\nIssue #2225: Brand Crawl status endpoint for frontend polling."
      },
      "BriefSummary": {
        "properties": {
          "type": {
            "type": "string",
            "title": "Type",
            "description": "Brief type: core or deep"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Processing status"
          },
          "receivedAt": {
            "type": "string",
            "format": "date-time",
            "title": "Receivedat",
            "description": "When brief was received"
          },
          "brandName": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Brandname",
            "description": "Extracted brand name"
          }
        },
        "type": "object",
        "required": [
          "type",
          "status",
          "receivedAt"
        ],
        "title": "BriefSummary",
        "description": "Summary of a single brief."
      },
      "CTAType": {
        "type": "string",
        "enum": [
          "none",
          "soft",
          "direct"
        ],
        "title": "CTAType",
        "description": "Call-to-action type options.\n\nControls the type of call-to-action included in the caption.\n- NONE: No CTA\n- SOFT: Subtle encouragement (e.g., \"Learn more\", \"Check it out\")\n- DIRECT: Strong CTA (e.g., \"Buy now\", \"Sign up today\", \"Shop the link\")"
      },
      "CampaignContentStatusResponse": {
        "properties": {
          "campaignId": {
            "type": "integer",
            "title": "Campaignid",
            "description": "Campaign ID"
          },
          "status": {
            "$ref": "#/components/schemas/GenerationStatus",
            "description": "Overall generation status: pending/generating/completed/failed"
          },
          "progress": {
            "type": "integer",
            "maximum": 100.0,
            "minimum": 0.0,
            "title": "Progress",
            "description": "Generation completion percentage (0-100). Per SPEC-CAMP-002, progress is primarily communicated via the 'message' field (descriptive pulse messages). Progress percentage is only meaningful when posts are completing; otherwise it remains 0 and the message should be used for user-facing display.",
            "default": 0
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Human-readable status message (primary progress indicator per SPEC-CAMP-002)",
            "default": ""
          },
          "correlationId": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Correlationid",
            "description": "Correlation ID from original generation request for tracing"
          },
          "totalPosts": {
            "type": "integer",
            "title": "Totalposts",
            "description": "Total number of posts to generate",
            "default": 0
          },
          "postsWithText": {
            "type": "integer",
            "title": "Postswithtext",
            "description": "Number of posts with text generated",
            "default": 0
          },
          "postsWithImages": {
            "type": "integer",
            "title": "Postswithimages",
            "description": "Number of posts with images generated",
            "default": 0
          },
          "postsReady": {
            "type": "integer",
            "title": "Postsready",
            "description": "Number of posts ready for review (text + images complete)",
            "default": 0
          },
          "postsFailed": {
            "type": "integer",
            "title": "Postsfailed",
            "description": "Number of posts that failed generation",
            "default": 0
          },
          "failedPostIds": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Failedpostids",
            "description": "IDs of posts that failed image generation (for retry functionality)"
          },
          "stallWarning": {
            "type": "boolean",
            "title": "Stallwarning",
            "description": "True if content generation may have stalled (no progress for >120s)",
            "default": false
          },
          "startedAt": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Startedat",
            "description": "When content generation started"
          },
          "completedAt": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Completedat",
            "description": "When content generation completed (if finished)"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "title": "Updatedat",
            "description": "Last status update timestamp"
          }
        },
        "type": "object",
        "required": [
          "campaignId",
          "status",
          "updatedAt"
        ],
        "title": "CampaignContentStatusResponse",
        "description": "Response for campaign content generation status.\n\nProvides high-level progress tracking for campaign content generation.\nUsed by frontend to poll progress during async content generation.\n\nPer SPEC-CAMP-002: Progress is communicated via descriptive pulse messages,\nnot percentages. The 'message' field contains the user-facing status text.\n\nIssue #1484: GET /campaigns/{campaign_id}/content/status"
      },
      "CampaignCreateRequest": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 255,
            "minLength": 1,
            "title": "Name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "brandId": {
            "type": "string",
            "minLength": 1,
            "title": "Brand ID",
            "description": "ID of the brand this campaign belongs to. Required for all campaigns."
          },
          "durationWeeks": {
            "type": "integer",
            "maximum": 52.0,
            "minimum": 1.0,
            "title": "Duration Weeks",
            "description": "Campaign duration in weeks. Required to calculate total content count."
          },
          "postsPerDay": {
            "type": "integer",
            "maximum": 10.0,
            "minimum": 1.0,
            "title": "Posts Per Day",
            "description": "Number of posts per day. Required to calculate total content count."
          },
          "campaignType": {
            "$ref": "#/components/schemas/CampaignType",
            "title": "Campaign Type",
            "description": "Type of media content for the campaign",
            "default": "image"
          },
          "platforms": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Platforms",
            "description": "List of social media platforms for the campaign (e.g., ['instagram', 'facebook'])"
          },
          "intent": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Intent",
            "description": "Campaign intent or objective (e.g., 'awareness', 'engagement', 'conversion')"
          },
          "campaignVariables": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "additionalProperties": true,
            "title": "Campaign Variables"
          },
          "audienceGender": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Audience Gender",
            "description": "Target audience gender list (e.g., ['female'], ['male', 'female'], ['diverse'])"
          },
          "audienceAgeRange": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Audience Age Range",
            "description": "Target audience age ranges (e.g., ['18-24'], ['25-34', '35-44'])"
          },
          "audienceEmotion": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Audience Emotion",
            "description": "Target emotional triggers (e.g., ['excited', 'inspired', 'curious'])"
          },
          "audienceInterests": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Audience Interests",
            "description": "Target interest categories (e.g., ['technology', 'fitness', 'travel'])"
          },
          "sceneLocations": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array",
                "maxItems": 3
              },
              {
                "type": "null"
              }
            ],
            "title": "Scene Locations",
            "description": "Backdrop/location settings for content (e.g., ['outdoor', 'office', 'home']). Up to 3 locations selected by user in campaign creation."
          },
          "videoModel": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Video Model",
            "description": "Model for video generation (e.g., 'fal-ai/ltx-video', 'fal-ai/kling-video'). Only used when campaign_type is 'video'. If null, uses tier-based selection."
          },
          "videoDuration": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 60.0,
                "minimum": 1.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Video Duration",
            "description": "Video duration in seconds. Only used when campaign_type is 'video'. Default: 5 seconds.",
            "default": 5
          },
          "videoResolution": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Video Resolution",
            "description": "Video resolution (e.g., '720p', '1080p'). Only used when campaign_type is 'video'.",
            "default": "1080p"
          },
          "startDate": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Campaign Start Date",
            "description": "When the campaign should start posting content. Required for content scheduling."
          },
          "timezone": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Campaign Timezone",
            "description": "Timezone for campaign scheduling (e.g., 'America/New_York')."
          }
        },
        "type": "object",
        "required": [
          "name",
          "brandId",
          "durationWeeks",
          "postsPerDay"
        ],
        "title": "CampaignCreateRequest",
        "description": "Schema for API request to create a new campaign.\n\nNote: user_id is extracted from JWT token, not from request body.\nThis prevents users from creating campaigns on behalf of others."
      },
      "CampaignExportApprovalStatus": {
        "properties": {
          "approved": {
            "type": "boolean",
            "title": "Approved",
            "description": "Whether all content is approved for export"
          },
          "approvedContent": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Approvedcontent",
            "description": "Number of approved posts"
          },
          "totalContent": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Totalcontent",
            "description": "Total number of posts"
          },
          "unapprovedContentIds": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Unapprovedcontentids",
            "description": "List of unapproved content IDs"
          }
        },
        "type": "object",
        "required": [
          "approved",
          "approvedContent",
          "totalContent"
        ],
        "title": "CampaignExportApprovalStatus",
        "description": "Response schema for campaign export approval status.\n\nReturns detailed approval status for export functionality including\nlist of unapproved content IDs."
      },
      "CampaignExportData": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "durationWeeks": {
            "type": "integer",
            "title": "Durationweeks"
          },
          "postsPerDay": {
            "type": "integer",
            "title": "Postsperday"
          },
          "campaignVariables": {
            "additionalProperties": true,
            "type": "object",
            "title": "Campaignvariables"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "title": "Createdat"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "title": "Updatedat"
          },
          "brand": {
            "$ref": "#/components/schemas/BrandProfileExport"
          },
          "content": {
            "items": {
              "$ref": "#/components/schemas/ContentExport"
            },
            "type": "array",
            "title": "Content"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "durationWeeks",
          "postsPerDay",
          "createdAt",
          "updatedAt",
          "brand"
        ],
        "title": "CampaignExportData",
        "description": "Complete campaign data for export documents."
      },
      "CampaignPerformanceResponse": {
        "properties": {
          "campaignId": {
            "type": "string",
            "title": "Campaignid",
            "description": "Campaign ID"
          },
          "totalImpressions": {
            "type": "integer",
            "title": "Totalimpressions",
            "description": "Sum of impressions across all posts",
            "default": 0
          },
          "totalEngagement": {
            "type": "integer",
            "title": "Totalengagement",
            "description": "Sum of likes, comments, shares, saves, clicks",
            "default": 0
          },
          "averageEngagementRate": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Averageengagementrate",
            "description": "Average engagement rate across posts"
          },
          "totalRecords": {
            "type": "integer",
            "title": "Totalrecords",
            "description": "Total number of performance records",
            "default": 0
          },
          "posts": {
            "items": {
              "$ref": "#/components/schemas/PostPerformanceResponse"
            },
            "type": "array",
            "title": "Posts",
            "description": "Per-post performance breakdown"
          }
        },
        "type": "object",
        "required": [
          "campaignId"
        ],
        "title": "CampaignPerformanceResponse",
        "description": "Response schema for campaign performance with aggregated metrics.\n\nIssue #3192: GET /api/v2/campaigns/{campaign_id}/performance\nReturns per-post breakdown and aggregate summary."
      },
      "CampaignPublicationCreate": {
        "properties": {
          "timezone": {
            "type": "string",
            "title": "Timezone",
            "description": "IANA timezone for scheduling"
          },
          "scheduled_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Scheduled At",
            "description": "Optional scheduled publication time"
          }
        },
        "type": "object",
        "required": [
          "timezone"
        ],
        "title": "CampaignPublicationCreate",
        "description": "Request schema for creating a publication.\n\nDirect port from V1 PublishRequest model with timezone field.\nRMM L2: Creating a publication is resource creation, not an action."
      },
      "CampaignPublicationResponse": {
        "properties": {
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Publication status message"
          },
          "scheduled": {
            "type": "integer",
            "title": "Scheduled",
            "description": "Number of posts successfully scheduled"
          },
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "Total number of posts processed"
          },
          "posts": {
            "items": {
              "$ref": "#/components/schemas/PublishedPostSummary"
            },
            "type": "array",
            "title": "Posts",
            "description": "Details of scheduled posts"
          },
          "publication_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Publication Id",
            "description": "Unique publication identifier"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "Publication creation timestamp"
          }
        },
        "type": "object",
        "required": [
          "message",
          "scheduled",
          "total"
        ],
        "title": "CampaignPublicationResponse",
        "description": "Response schema for publication creation.\n\nDirect port from V1 publish endpoint response format.\nTracks publication status and scheduled posts."
      },
      "CampaignResponse": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 255,
            "minLength": 1,
            "title": "Name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "brandId": {
            "type": "string",
            "minLength": 1,
            "title": "Brand ID",
            "description": "ID of the brand this campaign belongs to. Required for all campaigns."
          },
          "durationWeeks": {
            "type": "integer",
            "maximum": 52.0,
            "minimum": 1.0,
            "title": "Duration Weeks",
            "description": "Campaign duration in weeks. Required to calculate total content count."
          },
          "postsPerDay": {
            "type": "integer",
            "maximum": 10.0,
            "minimum": 1.0,
            "title": "Posts Per Day",
            "description": "Number of posts per day. Required to calculate total content count."
          },
          "campaignType": {
            "$ref": "#/components/schemas/CampaignType",
            "title": "Campaign Type",
            "description": "Type of media content for the campaign",
            "default": "image"
          },
          "platforms": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Platforms",
            "description": "List of social media platforms for the campaign (e.g., ['instagram', 'facebook'])"
          },
          "intent": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Intent",
            "description": "Campaign intent or objective (e.g., 'awareness', 'engagement', 'conversion')"
          },
          "campaignVariables": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "additionalProperties": true,
            "title": "Campaign Variables"
          },
          "audienceGender": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Audience Gender",
            "description": "Target audience gender list (e.g., ['female'], ['male', 'female'], ['diverse'])"
          },
          "audienceAgeRange": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Audience Age Range",
            "description": "Target audience age ranges (e.g., ['18-24'], ['25-34', '35-44'])"
          },
          "audienceEmotion": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Audience Emotion",
            "description": "Target emotional triggers (e.g., ['excited', 'inspired', 'curious'])"
          },
          "audienceInterests": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Audience Interests",
            "description": "Target interest categories (e.g., ['technology', 'fitness', 'travel'])"
          },
          "sceneLocations": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array",
                "maxItems": 3
              },
              {
                "type": "null"
              }
            ],
            "title": "Scene Locations",
            "description": "Backdrop/location settings for content (e.g., ['outdoor', 'office', 'home']). Up to 3 locations selected by user in campaign creation."
          },
          "videoModel": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Video Model",
            "description": "Model for video generation (e.g., 'fal-ai/ltx-video', 'fal-ai/kling-video'). Only used when campaign_type is 'video'. If null, uses tier-based selection."
          },
          "videoDuration": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 60.0,
                "minimum": 1.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Video Duration",
            "description": "Video duration in seconds. Only used when campaign_type is 'video'. Default: 5 seconds.",
            "default": 5
          },
          "videoResolution": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Video Resolution",
            "description": "Video resolution (e.g., '720p', '1080p'). Only used when campaign_type is 'video'.",
            "default": "1080p"
          },
          "startDate": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Campaign Start Date"
          },
          "timezone": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Campaign Timezone"
          },
          "id": {
            "type": "integer",
            "title": "ID"
          },
          "userId": {
            "type": "string",
            "title": "User ID",
            "description": "ID of the user who owns this campaign."
          },
          "status": {
            "$ref": "#/components/schemas/CampaignStatus"
          },
          "workflowId": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Workflow ID",
            "description": "ID of the content generation workflow execution"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          },
          "postingDate": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "First Post Date"
          },
          "contentCount": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Total Content Count",
            "default": 0
          },
          "approvedCount": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Approved Content Count",
            "default": 0
          },
          "pendingCount": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Pending Content Count",
            "default": 0
          },
          "generatingCount": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Generating Content Count",
            "default": 0
          },
          "week": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Week Number",
            "description": "Week number in campaign (1-indexed), 0 if not started"
          },
          "formattedDateRange": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Formatted Date Range",
            "description": "Human-readable date range (e.g., 'Jan 1 - Jan 31, 2025')"
          },
          "postingSchedule": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Posting Schedule",
            "description": "Array of posting times with timezone (e.g., ['9 AM GMT', '2 PM GMT'])"
          },
          "weekProgress": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Week Progress Percentage",
            "description": "Campaign progress as percentage (0.0 to 100.0)"
          },
          "isCompleted": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Is Campaign Completed",
            "description": "Whether campaign end date has passed"
          },
          "daysRemaining": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Days Remaining",
            "description": "Number of days remaining in campaign (0 if completed)"
          }
        },
        "type": "object",
        "required": [
          "name",
          "brandId",
          "durationWeeks",
          "postsPerDay",
          "id",
          "userId",
          "status",
          "createdAt",
          "updatedAt"
        ],
        "title": "CampaignResponse",
        "description": "Schema for campaign responses."
      },
      "CampaignSpecificationAsyncResponse": {
        "properties": {
          "campaignId": {
            "type": "integer",
            "title": "Campaign ID",
            "description": "ID of the campaign for which specification generation was triggered"
          },
          "messageId": {
            "type": "string",
            "title": "Message ID",
            "description": "Pub/Sub message ID for tracking the request"
          },
          "correlationId": {
            "type": "string",
            "title": "Correlation ID",
            "description": "Unique correlation ID for tracing the request"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Current status of the generation request",
            "default": "accepted"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Human-readable status message"
          },
          "statusUrl": {
            "type": "string",
            "title": "Status URL",
            "description": "URL to poll for generation status"
          }
        },
        "type": "object",
        "required": [
          "campaignId",
          "messageId",
          "correlationId",
          "message",
          "statusUrl"
        ],
        "title": "CampaignSpecificationAsyncResponse",
        "description": "Response schema for async campaign specification generation request.\n\nIssue #1549: Returns when a specification generation request has been published.\nThe actual generation happens asynchronously via post-generator.\n\nFollows the same pattern as ContentGenerationResponse."
      },
      "CampaignSpecificationRequest": {
        "properties": {},
        "type": "object",
        "title": "CampaignSpecificationRequest",
        "description": "Request schema for campaign specification generation (optional, can be empty)."
      },
      "CampaignSpecificationResponse": {
        "properties": {
          "keyFeatures": {
            "type": "string",
            "title": "Keyfeatures",
            "description": "Concise description of the product's benefits based on product features"
          },
          "audience": {
            "type": "string",
            "title": "Audience",
            "description": "Description of target audience including age, gender, interests, and emotional goals"
          },
          "purpose": {
            "type": "string",
            "title": "Purpose",
            "description": "Description explaining the goal of the campaign and its focus"
          }
        },
        "type": "object",
        "required": [
          "keyFeatures",
          "audience",
          "purpose"
        ],
        "title": "CampaignSpecificationResponse",
        "description": "Response schema for campaign specification generation.\n\nDirect port from V1 CampaignDetails.tsx JSON output format.",
        "example": {
          "audience": "Health-conscious millennials aged 25-40, interested in sustainability and wellness",
          "keyFeatures": "Premium organic ingredients, eco-friendly packaging, supports local farmers",
          "purpose": "Launch new product line focused on environmental responsibility and premium quality"
        }
      },
      "CampaignSpecificationStatusResponse": {
        "properties": {
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Generation status: pending, generating, completed, or failed"
          },
          "campaignId": {
            "type": "integer",
            "title": "Campaign ID",
            "description": "ID of the campaign"
          },
          "specification": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/CampaignSpecificationResponse"
              },
              {
                "type": "null"
              }
            ],
            "title": "Specification",
            "description": "Generated specification (only present when status is completed)"
          },
          "errorMessage": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Message",
            "description": "Error details (only present when status is failed)"
          }
        },
        "type": "object",
        "required": [
          "status",
          "campaignId"
        ],
        "title": "CampaignSpecificationStatusResponse",
        "description": "Response schema for specification generation status polling.\n\nIssue #1549: Used to check progress of async specification generation."
      },
      "CampaignStatistics": {
        "properties": {
          "campaignId": {
            "type": "integer",
            "title": "Campaign ID"
          },
          "totalPosts": {
            "type": "integer",
            "title": "Total Posts"
          },
          "publishedPosts": {
            "type": "integer",
            "title": "Published Posts"
          },
          "scheduledPosts": {
            "type": "integer",
            "title": "Scheduled Posts"
          },
          "draftPosts": {
            "type": "integer",
            "title": "Draft Posts"
          },
          "totalImpressions": {
            "type": "integer",
            "title": "Total Impressions",
            "default": 0
          },
          "totalEngagements": {
            "type": "integer",
            "title": "Total Engagements",
            "default": 0
          },
          "averageEngagementRate": {
            "type": "number",
            "title": "Average Engagement Rate",
            "default": 0.0
          },
          "platformStats": {
            "additionalProperties": {
              "additionalProperties": true,
              "type": "object"
            },
            "type": "object",
            "title": "Platform Statistics"
          },
          "bestPerformingTime": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Best Performing Time"
          },
          "bestPerformingDay": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Best Performing Day"
          },
          "topPerformingPosts": {
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "type": "array",
            "title": "Top Performing Posts"
          },
          "contentTypePerformance": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Content Type Performance"
          },
          "completionPercentage": {
            "type": "number",
            "title": "Campaign Completion %",
            "default": 0.0
          },
          "daysRemaining": {
            "type": "integer",
            "title": "Days Remaining",
            "default": 0
          },
          "postsRemaining": {
            "type": "integer",
            "title": "Posts Remaining",
            "default": 0
          },
          "approvedCount": {
            "type": "integer",
            "title": "Approved Content Count",
            "default": 0
          },
          "pendingReviewCount": {
            "type": "integer",
            "title": "Pending Review Content Count",
            "default": 0
          },
          "generatingCount": {
            "type": "integer",
            "title": "Generating Content Count",
            "default": 0
          },
          "exportedCount": {
            "type": "integer",
            "title": "Exported Content Count",
            "default": 0
          },
          "lastUpdated": {
            "type": "string",
            "format": "date-time",
            "title": "Last Updated"
          }
        },
        "type": "object",
        "required": [
          "campaignId",
          "totalPosts",
          "publishedPosts",
          "scheduledPosts",
          "draftPosts",
          "lastUpdated"
        ],
        "title": "CampaignStatistics",
        "description": "Schema for campaign statistics."
      },
      "CampaignStatus": {
        "type": "string",
        "enum": [
          "draft",
          "active",
          "paused",
          "completed",
          "archived"
        ],
        "title": "CampaignStatus",
        "description": "Campaign status enumeration."
      },
      "CampaignStatusCount": {
        "properties": {
          "status": {
            "type": "string",
            "title": "Status"
          },
          "count": {
            "type": "integer",
            "title": "Count"
          }
        },
        "type": "object",
        "required": [
          "status",
          "count"
        ],
        "title": "CampaignStatusCount",
        "description": "Campaign count by status."
      },
      "CampaignType": {
        "type": "string",
        "enum": [
          "image",
          "video"
        ],
        "title": "CampaignType",
        "description": "Campaign type enumeration for media content types."
      },
      "CampaignUpdate": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "brandId": {
            "anyOf": [
              {
                "type": "string",
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Brand ID",
            "description": "ID of the brand this campaign belongs to. Cannot be set to empty."
          },
          "durationWeeks": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 52.0,
                "minimum": 1.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Duration Weeks"
          },
          "postsPerDay": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 10.0,
                "minimum": 1.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Posts Per Day"
          },
          "status": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/CampaignStatus"
              },
              {
                "type": "null"
              }
            ]
          },
          "campaignType": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/CampaignType"
              },
              {
                "type": "null"
              }
            ],
            "title": "Campaign Type",
            "description": "Type of media content for the campaign"
          },
          "platforms": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Platforms",
            "description": "List of social media platforms for the campaign"
          },
          "intent": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Intent",
            "description": "Campaign intent or objective"
          },
          "campaignVariables": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "additionalProperties": true,
            "title": "Campaign Variables"
          },
          "audienceGender": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Audience Gender",
            "description": "Target audience gender list (e.g., ['female'], ['male', 'female'], ['diverse'])"
          },
          "audienceAgeRange": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Audience Age Range",
            "description": "Target audience age ranges (e.g., ['18-24'], ['25-34', '35-44'])"
          },
          "audienceEmotion": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Audience Emotion",
            "description": "Target emotional triggers (e.g., ['excited', 'inspired', 'curious'])"
          },
          "audienceInterests": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Audience Interests",
            "description": "Target interest categories (e.g., ['technology', 'fitness', 'travel'])"
          },
          "sceneLocations": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array",
                "maxItems": 3
              },
              {
                "type": "null"
              }
            ],
            "title": "Scene Locations",
            "description": "Backdrop/location settings for content (e.g., ['outdoor', 'office', 'home']). Up to 3 locations selected by user in campaign creation."
          },
          "workflowId": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Workflow ID",
            "description": "ID of the content generation workflow execution"
          },
          "videoModel": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Video Model",
            "description": "Model for video generation (e.g., 'fal-ai/ltx-video', 'fal-ai/kling-video'). Only used when campaign_type is 'video'. If null, uses tier-based selection."
          },
          "videoDuration": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 60.0,
                "minimum": 1.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Video Duration",
            "description": "Video duration in seconds. Only used when campaign_type is 'video'."
          },
          "videoResolution": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Video Resolution",
            "description": "Video resolution (e.g., '720p', '1080p'). Only used when campaign_type is 'video'."
          },
          "startDate": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Campaign Start Date",
            "description": "When the campaign should start posting content."
          },
          "timezone": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Campaign Timezone",
            "description": "Timezone for campaign scheduling (e.g., 'America/New_York')."
          },
          "postingDate": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "First Post Date",
            "description": "Date of the first scheduled post."
          }
        },
        "type": "object",
        "title": "CampaignUpdate",
        "description": "Schema for updating an existing campaign."
      },
      "CancelScheduledPostRequest": {
        "properties": {
          "reason": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Reason",
            "description": "Optional reason for cancellation"
          }
        },
        "type": "object",
        "title": "CancelScheduledPostRequest",
        "description": "Request schema for cancelling a scheduled post."
      },
      "CancelScheduledPostResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success",
            "description": "Whether cancellation succeeded"
          },
          "postId": {
            "type": "string",
            "title": "Postid",
            "description": "Post ID that was cancelled"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Result message"
          },
          "schedulerJobDeleted": {
            "type": "boolean",
            "title": "Schedulerjobdeleted",
            "description": "Whether Cloud Scheduler job was deleted",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "success",
          "postId",
          "message"
        ],
        "title": "CancelScheduledPostResponse",
        "description": "Response schema for cancel operation."
      },
      "CaptionCreate": {
        "properties": {
          "text": {
            "type": "string",
            "title": "Text",
            "description": "Caption text"
          },
          "platform": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/Platform"
              },
              {
                "type": "null"
              }
            ],
            "description": "Target platform (instagram, facebook, linkedin, twitter, tiktok)"
          },
          "tone": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/CaptionTone"
              },
              {
                "type": "null"
              }
            ],
            "description": "Desired tone for the caption",
            "default": "engaging"
          },
          "length": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/CaptionLength"
              },
              {
                "type": "null"
              }
            ],
            "description": "Target length preset for the caption",
            "default": "medium"
          },
          "hashtags": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Hashtags",
            "description": "Hashtags to include"
          },
          "hashtagDensity": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/HashtagDensity"
              },
              {
                "type": "null"
              }
            ],
            "description": "Density of hashtags in the caption",
            "default": "moderate"
          },
          "ctaType": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/CTAType"
              },
              {
                "type": "null"
              }
            ],
            "description": "Type of call-to-action to include",
            "default": "soft"
          },
          "emojiUsage": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/EmojiUsage"
              },
              {
                "type": "null"
              }
            ],
            "description": "Level of emoji usage in the caption",
            "default": "minimal"
          },
          "hookStyle": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/HookStyle"
              },
              {
                "type": "null"
              }
            ],
            "description": "Style of opening hook for the caption"
          },
          "storyArc": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/StoryArc"
              },
              {
                "type": "null"
              }
            ],
            "description": "Narrative structure for the caption"
          },
          "contentFocus": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ContentFocus"
              },
              {
                "type": "null"
              }
            ],
            "description": "Primary focus area of the caption"
          },
          "maxLength": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 63206.0,
                "minimum": 1.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Maxlength",
            "description": "Maximum caption length (overrides platform default)"
          },
          "brandVoice": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Brandvoice",
            "description": "Brand voice guidelines"
          },
          "brandVoiceAdherence": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Brandvoiceadherence",
            "description": "How strictly to follow brand voice (0.0-1.0)",
            "default": 0.8
          },
          "platformOptimization": {
            "type": "boolean",
            "title": "Platformoptimization",
            "description": "Whether to optimize caption for platform-specific best practices",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "text"
        ],
        "title": "CaptionCreate",
        "description": "Schema for creating a caption.\n\nIssue #2052: Enhanced with enum fields for structured caption parameters."
      },
      "CaptionLength": {
        "type": "string",
        "enum": [
          "short",
          "medium",
          "long"
        ],
        "title": "CaptionLength",
        "description": "Length presets for caption generation.\n\nControls the approximate length of generated captions.\n- SHORT: ~50-100 characters, ideal for punchy social posts\n- MEDIUM: ~100-200 characters, balanced engagement\n- LONG: ~200-500 characters, detailed storytelling"
      },
      "CaptionResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Caption ID"
          },
          "contentId": {
            "type": "string",
            "title": "Contentid",
            "description": "Parent content ID"
          },
          "text": {
            "type": "string",
            "title": "Text",
            "description": "Caption text"
          },
          "platform": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Platform",
            "description": "Target platform"
          },
          "tone": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tone",
            "description": "Caption tone"
          },
          "length": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Length",
            "description": "Caption length preset"
          },
          "hashtags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Hashtags",
            "description": "Included hashtags"
          },
          "hashtagDensity": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Hashtagdensity",
            "description": "Hashtag density setting"
          },
          "ctaType": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Ctatype",
            "description": "CTA type setting"
          },
          "emojiUsage": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Emojiusage",
            "description": "Emoji usage setting"
          },
          "hookStyle": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Hookstyle",
            "description": "Hook style setting"
          },
          "storyArc": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Storyarc",
            "description": "Story arc setting"
          },
          "contentFocus": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Contentfocus",
            "description": "Content focus setting"
          },
          "approved": {
            "type": "boolean",
            "title": "Approved",
            "description": "Approval status",
            "default": false
          },
          "brandVoiceAdherence": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Brandvoiceadherence",
            "description": "Brand voice adherence (0.0-1.0)"
          },
          "platformOptimization": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Platformoptimization",
            "description": "Platform optimization flag"
          },
          "generatedAt": {
            "type": "string",
            "format": "date-time",
            "title": "Generatedat",
            "description": "Generation timestamp"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "title": "Updatedat",
            "description": "Last update timestamp"
          },
          "metadata": {
            "additionalProperties": true,
            "type": "object",
            "title": "Metadata",
            "description": "Additional metadata"
          }
        },
        "type": "object",
        "required": [
          "id",
          "contentId",
          "text",
          "generatedAt",
          "updatedAt"
        ],
        "title": "CaptionResponse",
        "description": "Schema for caption response.\n\nIssue #2052: Enhanced with enum fields for structured caption parameters."
      },
      "CaptionTone": {
        "type": "string",
        "enum": [
          "engaging",
          "informative",
          "promotional",
          "conversational"
        ],
        "title": "CaptionTone",
        "description": "Tone options for caption generation.\n\nDefines the emotional quality and style of the caption text."
      },
      "CategoryBreakdown": {
        "properties": {
          "personalityTraits": {
            "type": "integer",
            "title": "Personalitytraits",
            "description": "Number of personality traits",
            "default": 0
          },
          "products": {
            "type": "integer",
            "title": "Products",
            "description": "Number of products",
            "default": 0
          },
          "colorPalette": {
            "type": "integer",
            "title": "Colorpalette",
            "description": "Number of colors in palette",
            "default": 0
          }
        },
        "type": "object",
        "title": "CategoryBreakdown",
        "description": "Category breakdown for brand knowledge."
      },
      "ContentApprovalRequest": {
        "properties": {
          "campaignContentId": {
            "type": "string",
            "title": "Campaigncontentid",
            "description": "ID of the content document"
          },
          "week": {
            "type": "integer",
            "minimum": 1.0,
            "title": "Week",
            "description": "Week number (1-indexed)"
          },
          "day": {
            "type": "integer",
            "maximum": 7.0,
            "minimum": 1.0,
            "title": "Day",
            "description": "Day number (1-7)"
          },
          "approved": {
            "type": "boolean",
            "title": "Approved",
            "description": "Whether to approve or unapprove"
          },
          "timezone": {
            "type": "string",
            "title": "Timezone",
            "description": "Timezone for scheduling"
          },
          "posts": {
            "patternProperties": {
              "^post_\\d+$": {
                "$ref": "#/components/schemas/PostContent"
              }
            },
            "type": "object",
            "title": "Posts",
            "description": "Map of post keys to post content"
          }
        },
        "type": "object",
        "required": [
          "campaignContentId",
          "week",
          "day",
          "approved",
          "timezone",
          "posts"
        ],
        "title": "ContentApprovalRequest",
        "description": "Request schema for approving/unapproving content for a specific day.\n\nThis is a direct port of V1's ApproveRequest schema.\n\nIssue #2751: Added populate_by_name=True and camelCase aliases to accept\nboth snake_case (Python) and camelCase (JavaScript) field names in requests."
      },
      "ContentApprovalResponse": {
        "properties": {
          "approved": {
            "type": "boolean",
            "title": "Approved",
            "description": "Whether the day is approved"
          },
          "posts": {
            "additionalProperties": {
              "additionalProperties": true,
              "type": "object"
            },
            "type": "object",
            "title": "Posts",
            "description": "Updated posts data"
          }
        },
        "type": "object",
        "required": [
          "approved",
          "posts"
        ],
        "title": "ContentApprovalResponse",
        "description": "Response schema for content approval.\n\nReturns the updated day data after approval/unapproval."
      },
      "ContentContext": {
        "properties": {
          "day_of_week": {
            "type": "integer",
            "maximum": 6.0,
            "minimum": 0.0,
            "title": "Day Of Week",
            "description": "Day of week (0=Monday, 6=Sunday)"
          },
          "hour_of_day": {
            "type": "integer",
            "maximum": 23.0,
            "minimum": 0.0,
            "title": "Hour Of Day",
            "description": "Hour of day (0-23)"
          },
          "is_weekend": {
            "type": "boolean",
            "title": "Is Weekend",
            "description": "Whether it's a weekend day"
          },
          "brand_industry": {
            "type": "string",
            "title": "Brand Industry",
            "description": "Brand industry category"
          },
          "brand_audience_size": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Brand Audience Size",
            "description": "Estimated audience size"
          },
          "days_since_last_post": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Days Since Last Post",
            "description": "Days since last content post"
          },
          "recent_scene_types": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Recent Scene Types",
            "description": "Last 5 scene types used (for fatigue detection)"
          },
          "scene_fatigue_score": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Scene Fatigue Score",
            "description": "Content fatigue score (0=fresh, 1=oversaturated)",
            "default": 0.0
          },
          "rolling_engagement_rate_7d": {
            "type": "number",
            "minimum": 0.0,
            "title": "Rolling Engagement Rate 7D",
            "description": "7-day rolling engagement rate",
            "default": 0.0
          },
          "engagement_trend": {
            "type": "number",
            "title": "Engagement Trend",
            "description": "Engagement trend (positive=improving)",
            "default": 0.0
          }
        },
        "type": "object",
        "required": [
          "day_of_week",
          "hour_of_day",
          "is_weekend",
          "brand_industry",
          "brand_audience_size",
          "days_since_last_post"
        ],
        "title": "ContentContext",
        "description": "Context features for contextual bandit arm selection.\n\nThis represents the feature vector used to predict optimal scene types.\nFeatures are normalized and encoded before being passed to the model."
      },
      "ContentExport": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "campaignId": {
            "type": "integer",
            "title": "Campaignid"
          },
          "totalPosts": {
            "type": "integer",
            "title": "Totalposts"
          },
          "readyForReview": {
            "type": "integer",
            "title": "Readyforreview"
          },
          "approved": {
            "type": "integer",
            "title": "Approved"
          },
          "contentData": {
            "additionalProperties": true,
            "type": "object",
            "title": "Contentdata"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "title": "Createdat"
          }
        },
        "type": "object",
        "required": [
          "id",
          "campaignId",
          "totalPosts",
          "readyForReview",
          "approved",
          "createdAt"
        ],
        "title": "ContentExport",
        "description": "Content data for export documents (organized by week/day/post)."
      },
      "ContentExportCreate": {
        "properties": {
          "platform": {
            "type": "string",
            "title": "Platform",
            "description": "Platform where content was exported (instagram, facebook, linkedin, etc.)",
            "examples": [
              "instagram",
              "facebook",
              "linkedin",
              "twitter"
            ]
          },
          "exported_at": {
            "type": "string",
            "format": "date-time",
            "title": "Exported At",
            "description": "Timestamp when the content was exported"
          },
          "metadata": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "additionalProperties": true,
            "title": "Metadata",
            "description": "Additional export metadata (post URL, platform-specific IDs, etc.)"
          }
        },
        "type": "object",
        "required": [
          "platform",
          "exported_at"
        ],
        "title": "ContentExportCreate",
        "description": "Schema for creating a new content export record.\n\nRMM L2: Creating an export is creating a resource, not an action."
      },
      "ContentExportListResponse": {
        "properties": {
          "contentId": {
            "type": "integer",
            "title": "Contentid",
            "description": "ID of the content"
          },
          "exports": {
            "items": {
              "$ref": "#/components/schemas/ContentExportResponse"
            },
            "type": "array",
            "title": "Exports",
            "description": "List of export records for this content"
          },
          "totalExports": {
            "type": "integer",
            "title": "Totalexports",
            "description": "Total number of exports"
          }
        },
        "type": "object",
        "required": [
          "contentId",
          "exports",
          "totalExports"
        ],
        "title": "ContentExportListResponse",
        "description": "Schema for list of content exports.\n\nRMM L2: GET /content/{id}/exports returns list of export resources.\nIssue #2547: Changed content_id from UUID to int to match database."
      },
      "ContentExportResponse": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id",
            "description": "Unique identifier for the export record"
          },
          "contentId": {
            "type": "integer",
            "title": "Contentid",
            "description": "ID of the content that was exported"
          },
          "platform": {
            "type": "string",
            "title": "Platform",
            "description": "Platform where content was exported"
          },
          "exportedAt": {
            "type": "string",
            "title": "Exportedat",
            "description": "Timestamp when content was exported"
          },
          "createdAt": {
            "type": "string",
            "title": "Createdat",
            "description": "When the export record was created"
          },
          "metadata": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "additionalProperties": true,
            "title": "Metadata",
            "description": "Additional export metadata"
          }
        },
        "type": "object",
        "required": [
          "id",
          "contentId",
          "platform",
          "exportedAt",
          "createdAt"
        ],
        "title": "ContentExportResponse",
        "description": "Schema for content export response.\n\nRMM L2: Response includes the created export resource with its ID.\nIssue #2547: Changed id and content_id from UUID to int to match database."
      },
      "ContentFocus": {
        "type": "string",
        "enum": [
          "product",
          "brand",
          "community",
          "promotion",
          "education"
        ],
        "title": "ContentFocus",
        "description": "Content focus area options for captions.\n\nDefines the primary focus/theme of the caption content.\n- PRODUCT: Focus on product features/benefits\n- BRAND: Brand story/values emphasis\n- COMMUNITY: Audience engagement/connection\n- PROMOTION: Offer/discount/sale focus\n- EDUCATION: Tips/how-to/informative content"
      },
      "ContentGenerationResponse": {
        "properties": {
          "campaignId": {
            "type": "integer",
            "title": "Campaign ID",
            "description": "ID of the campaign for which content generation was triggered"
          },
          "messageId": {
            "type": "string",
            "title": "Message ID",
            "description": "ID of the published message for tracking"
          },
          "correlationId": {
            "type": "string",
            "title": "Correlation ID",
            "description": "Unique correlation ID for tracking this generation request across services"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Request status (accepted)",
            "default": "accepted"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Human-readable status message",
            "default": "Content generation request accepted"
          }
        },
        "type": "object",
        "required": [
          "campaignId",
          "messageId",
          "correlationId"
        ],
        "title": "ContentGenerationResponse",
        "description": "Response schema for content generation request.\n\nReturns when a content generation request has been published.\nThe actual generation happens asynchronously."
      },
      "ContentGenerationStatusResponse": {
        "properties": {
          "contentId": {
            "type": "integer",
            "title": "Contentid",
            "description": "Content ID"
          },
          "campaignId": {
            "type": "integer",
            "title": "Campaignid",
            "description": "Associated campaign ID"
          },
          "status": {
            "$ref": "#/components/schemas/GenerationStatus",
            "description": "Overall generation status: pending/generating/completed/failed"
          },
          "progress": {
            "type": "integer",
            "maximum": 100.0,
            "minimum": 0.0,
            "title": "Progress",
            "description": "Generation completion percentage (0-100). Per SPEC-CAMP-002, progress is primarily communicated via the 'message' field (descriptive pulse messages). Progress percentage is only meaningful when posts are completing; otherwise it remains 0 and the message should be used for user-facing display.",
            "default": 0
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Human-readable status message (primary progress indicator per SPEC-CAMP-002)",
            "default": ""
          },
          "correlationId": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Correlationid",
            "description": "Correlation ID from original generation request"
          },
          "totalPosts": {
            "type": "integer",
            "title": "Totalposts",
            "description": "Total number of posts",
            "default": 0
          },
          "postsReady": {
            "type": "integer",
            "title": "Postsready",
            "description": "Number of posts ready for review",
            "default": 0
          },
          "postsGenerating": {
            "type": "integer",
            "title": "Postsgenerating",
            "description": "Number of posts currently generating",
            "default": 0
          },
          "postsFailed": {
            "type": "integer",
            "title": "Postsfailed",
            "description": "Number of posts that failed",
            "default": 0
          },
          "postStatuses": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/PostGenerationStatus"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Poststatuses",
            "description": "Per-post generation status breakdown (only included if requested)"
          },
          "errorMessage": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Errormessage",
            "description": "Error message if generation failed"
          },
          "failedPostIds": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Failedpostids",
            "description": "IDs of posts that failed generation"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "title": "Createdat",
            "description": "When content record was created"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "title": "Updatedat",
            "description": "Last status update timestamp"
          }
        },
        "type": "object",
        "required": [
          "contentId",
          "campaignId",
          "status",
          "createdAt",
          "updatedAt"
        ],
        "title": "ContentGenerationStatusResponse",
        "description": "Detailed generation status for specific content.\n\nProvides granular status breakdown per post including text and image status.\nUsed for detailed progress tracking and debugging.\n\nPer SPEC-CAMP-002: Progress is communicated via descriptive pulse messages,\nnot percentages. The 'message' field contains the user-facing status text.\n\nIssue #1484: GET /content/{content_id}/generation-status"
      },
      "ContentImageRequest": {
        "properties": {
          "url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Url",
            "description": "URL of existing image to associate"
          },
          "caption": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Caption",
            "description": "Image caption or alt text"
          },
          "altText": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Alttext",
            "description": "Accessibility alt text"
          },
          "width": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Width",
            "description": "Image width in pixels"
          },
          "height": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Height",
            "description": "Image height in pixels"
          },
          "prompt": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Prompt",
            "description": "Image generation prompt"
          },
          "model": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Model",
            "description": "Image model to use"
          },
          "size": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Size",
            "description": "Image size"
          },
          "quality": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Quality",
            "description": "Image quality: standard or hd"
          },
          "style": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Style",
            "description": "Image style: vivid or natural"
          },
          "n": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "N",
            "description": "Number of images to generate"
          },
          "brandColors": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Brandcolors",
            "description": "Brand colors"
          },
          "brandStyle": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Brandstyle",
            "description": "Brand style guidelines"
          }
        },
        "type": "object",
        "title": "ContentImageRequest",
        "description": "Union schema for POST /content/{id}/images - handles both upload and generation.\n\nIssue #1509: Frontend-Backend API Mismatch fix.\nThis schema accepts either:\n- Upload request: has `url` field (associates existing image)\n- Generation request: has `prompt` field (generates new image)\n\nThe endpoint logic inspects which fields are present to determine behavior."
      },
      "ContentImageResponse": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id",
            "description": "Image ID"
          },
          "content_id": {
            "type": "integer",
            "title": "Content Id",
            "description": "Content ID"
          },
          "week_num": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Week Num",
            "description": "Week number (1-indexed, optional)"
          },
          "day_num": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Day Num",
            "description": "Day number (1-7, optional)"
          },
          "post_num": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Post Num",
            "description": "Post number (1-indexed, optional)"
          },
          "image_url": {
            "type": "string",
            "title": "Image Url",
            "description": "URL of the image"
          },
          "image_prompt": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Image Prompt",
            "description": "Prompt used to generate the image"
          },
          "caption": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Caption",
            "description": "Image caption or alt text"
          },
          "generation_count": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Generation Count",
            "description": "Number of times image was generated"
          },
          "model_used": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Model Used",
            "description": "Model used for generation"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "Creation timestamp"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At",
            "description": "Last update timestamp"
          }
        },
        "type": "object",
        "required": [
          "id",
          "content_id",
          "image_url",
          "created_at",
          "updated_at"
        ],
        "title": "ContentImageResponse",
        "description": "Schema for content image response."
      },
      "ContentPromptResponse": {
        "properties": {
          "contentId": {
            "type": "string",
            "title": "Contentid"
          },
          "imagePrompt": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Imageprompt"
          },
          "imagePrompts": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Imageprompts"
          },
          "postId": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Postid"
          },
          "week": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Week"
          },
          "day": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Day"
          }
        },
        "type": "object",
        "required": [
          "contentId"
        ],
        "title": "ContentPromptResponse",
        "description": "Schema for content prompt response.\n\nReturns image_prompt data for a specific content item.\nUsed by frontend to display/edit image generation prompts."
      },
      "ContentPromptUpdate": {
        "properties": {
          "imagePrompt": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Imageprompt"
          },
          "postId": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Postid"
          },
          "week": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Week"
          },
          "day": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Day"
          }
        },
        "type": "object",
        "title": "ContentPromptUpdate",
        "description": "Schema for updating content prompt.\n\nAllows updating image_prompt for a content item."
      },
      "ContentResponse": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "campaignId": {
            "type": "integer",
            "title": "Campaignid"
          },
          "userId": {
            "type": "string",
            "title": "Userid"
          },
          "readyForReview": {
            "type": "integer",
            "title": "Readyforreview"
          },
          "approved": {
            "type": "integer",
            "title": "Approved"
          },
          "exported": {
            "type": "integer",
            "title": "Exported"
          },
          "published": {
            "type": "boolean",
            "title": "Published"
          },
          "totalPosts": {
            "type": "integer",
            "title": "Totalposts"
          },
          "generationCount": {
            "type": "integer",
            "title": "Generationcount",
            "default": 1
          },
          "contentData": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Contentdata"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "title": "Createdat"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "title": "Updatedat"
          },
          "correlationId": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Correlationid",
            "description": "UUID correlation ID for tracking this generation run"
          }
        },
        "type": "object",
        "required": [
          "id",
          "campaignId",
          "userId",
          "readyForReview",
          "approved",
          "exported",
          "published",
          "totalPosts",
          "contentData",
          "createdAt",
          "updatedAt"
        ],
        "title": "ContentResponse",
        "description": "Schema for content response."
      },
      "ContentStatus": {
        "type": "string",
        "enum": [
          "draft",
          "pending",
          "approved",
          "published",
          "rejected"
        ],
        "title": "ContentStatus",
        "description": "Valid content status values."
      },
      "ContentStatusResponse": {
        "properties": {
          "contentId": {
            "type": "string",
            "title": "Contentid",
            "description": "ID of the content"
          },
          "status": {
            "$ref": "#/components/schemas/ContentStatus",
            "description": "Current status of the content"
          },
          "approvedBy": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Approvedby",
            "description": "User ID who approved the content"
          },
          "approvedAt": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Approvedat",
            "description": "Timestamp when content was approved"
          },
          "rejectedBy": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Rejectedby",
            "description": "User ID who rejected the content"
          },
          "rejectedAt": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Rejectedat",
            "description": "Timestamp when content was rejected"
          },
          "rejectionReason": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/RejectionReason"
              },
              {
                "type": "null"
              }
            ],
            "description": "Structured reason for rejection"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes",
            "description": "Notes about the status change"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "title": "Updatedat",
            "description": "Timestamp of the status update"
          }
        },
        "type": "object",
        "required": [
          "contentId",
          "status",
          "updatedAt"
        ],
        "title": "ContentStatusResponse",
        "description": "Response after updating content status.\n\nReturns the updated content with its new status and metadata.",
        "example": {
          "approvedAt": "2025-10-02T18:20:00Z",
          "approvedBy": "user123",
          "contentId": "content123",
          "status": "approved",
          "updatedAt": "2025-10-02T18:20:00Z"
        }
      },
      "ContentStatusUpdate": {
        "properties": {
          "status": {
            "$ref": "#/components/schemas/ContentStatus",
            "description": "New status for the content"
          },
          "approvedBy": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Approvedby",
            "description": "User ID who approved/rejected the content"
          },
          "rejectionReason": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/RejectionReason"
              },
              {
                "type": "null"
              }
            ],
            "description": "Structured reason for rejection (required when status is 'rejected')"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes",
            "description": "Optional notes about the status change"
          }
        },
        "type": "object",
        "required": [
          "status"
        ],
        "title": "ContentStatusUpdate",
        "description": "Request to update content status.\n\nRMM L2 Compliance: PATCH updates a specific field (status) on the content resource.",
        "example": {
          "approvedBy": "user123",
          "notes": "The color scheme doesn't match brand guidelines",
          "rejectionReason": "off_brand",
          "status": "rejected"
        }
      },
      "ContentUpdate": {
        "properties": {
          "readyForReview": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Readyforreview"
          },
          "approved": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Approved"
          },
          "exported": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Exported"
          },
          "published": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Published"
          },
          "totalPosts": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Totalposts"
          },
          "generationCount": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Generationcount"
          },
          "contentData": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Contentdata"
          },
          "correlationId": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 36
              },
              {
                "type": "null"
              }
            ],
            "title": "Correlationid",
            "description": "UUID correlation ID for tracking this generation run"
          }
        },
        "type": "object",
        "title": "ContentUpdate",
        "description": "Schema for updating content."
      },
      "ContextualBanditModelResponse": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "brand_id": {
            "type": "string",
            "title": "Brand Id"
          },
          "arm": {
            "type": "string",
            "title": "Arm",
            "description": "Scene type/arm this model is for"
          },
          "feature_names": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Feature Names",
            "description": "Feature names for weights"
          },
          "observation_count": {
            "type": "integer",
            "title": "Observation Count",
            "description": "Training observations count"
          },
          "is_initialized": {
            "type": "boolean",
            "title": "Is Initialized",
            "description": "Whether model has been trained"
          },
          "last_updated": {
            "type": "string",
            "format": "date-time",
            "title": "Last Updated"
          }
        },
        "type": "object",
        "required": [
          "id",
          "brand_id",
          "arm",
          "feature_names",
          "observation_count",
          "is_initialized",
          "last_updated"
        ],
        "title": "ContextualBanditModelResponse",
        "description": "Response schema for contextual bandit model info."
      },
      "ContextualBanditRecommendation": {
        "properties": {
          "brand_id": {
            "type": "string",
            "title": "Brand Id"
          },
          "recommended_arm": {
            "type": "string",
            "title": "Recommended Arm",
            "description": "Scene type selected by contextual bandit"
          },
          "arm_probabilities": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Arm Probabilities",
            "description": "Predicted success probability for each arm"
          },
          "exploration_mode": {
            "type": "boolean",
            "title": "Exploration Mode",
            "description": "Whether this was an exploration (random) selection"
          },
          "context_summary": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Context Summary",
            "description": "Summary of context features used for prediction"
          }
        },
        "type": "object",
        "required": [
          "brand_id",
          "recommended_arm",
          "arm_probabilities",
          "exploration_mode"
        ],
        "title": "ContextualBanditRecommendation",
        "description": "Response schema for contextual bandit recommendation."
      },
      "CrawlErrorSummary": {
        "properties": {
          "error_code": {
            "type": "string",
            "title": "Error Code",
            "description": "Error classification code"
          },
          "error_count": {
            "type": "integer",
            "title": "Error Count",
            "description": "Number of occurrences"
          },
          "error_message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Message",
            "description": "Sample error message for this type"
          },
          "last_occurrence": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Occurrence",
            "description": "Most recent occurrence of this error"
          }
        },
        "type": "object",
        "required": [
          "error_code",
          "error_count"
        ],
        "title": "CrawlErrorSummary",
        "description": "Summary of a specific crawl error type."
      },
      "CrawlStatsBrands": {
        "properties": {
          "brands": {
            "items": {
              "$ref": "#/components/schemas/BrandCrawlPerformance"
            },
            "type": "array",
            "title": "Brands",
            "description": "Performance metrics per brand"
          },
          "period_days": {
            "type": "integer",
            "title": "Period Days",
            "description": "Number of days covered"
          }
        },
        "type": "object",
        "required": [
          "brands",
          "period_days"
        ],
        "title": "CrawlStatsBrands",
        "description": "Brand-level crawl performance statistics."
      },
      "CrawlStatsErrors": {
        "properties": {
          "top_errors": {
            "items": {
              "$ref": "#/components/schemas/CrawlErrorSummary"
            },
            "type": "array",
            "title": "Top Errors",
            "description": "Most common error types"
          },
          "total_errors": {
            "type": "integer",
            "title": "Total Errors",
            "description": "Total error count in period"
          },
          "period_days": {
            "type": "integer",
            "title": "Period Days",
            "description": "Number of days covered"
          }
        },
        "type": "object",
        "required": [
          "top_errors",
          "total_errors",
          "period_days"
        ],
        "title": "CrawlStatsErrors",
        "description": "Error analysis for crawl failures."
      },
      "CrawlStatsOverview": {
        "properties": {
          "total_brands_crawled": {
            "type": "integer",
            "title": "Total Brands Crawled",
            "description": "Total number of brands with crawl activity"
          },
          "average_success_rate": {
            "type": "number",
            "title": "Average Success Rate",
            "description": "Overall success rate as percentage (0-100)"
          },
          "average_crawl_time_seconds": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Average Crawl Time Seconds",
            "description": "Average time to complete crawl (seconds)"
          },
          "pages_crawled_total": {
            "type": "integer",
            "title": "Pages Crawled Total",
            "description": "Total pages successfully crawled in period"
          },
          "period_days": {
            "type": "integer",
            "title": "Period Days",
            "description": "Number of days covered by stats"
          }
        },
        "type": "object",
        "required": [
          "total_brands_crawled",
          "average_success_rate",
          "pages_crawled_total",
          "period_days"
        ],
        "title": "CrawlStatsOverview",
        "description": "Overview statistics for crawl monitoring."
      },
      "CrawlStatsTrends": {
        "properties": {
          "data_points": {
            "items": {
              "$ref": "#/components/schemas/CrawlTrendDataPoint"
            },
            "type": "array",
            "title": "Data Points",
            "description": "Time series data points"
          },
          "period_days": {
            "type": "integer",
            "title": "Period Days",
            "description": "Number of days covered"
          },
          "interval": {
            "type": "string",
            "title": "Interval",
            "description": "Aggregation interval (day, hour)"
          }
        },
        "type": "object",
        "required": [
          "data_points",
          "period_days",
          "interval"
        ],
        "title": "CrawlStatsTrends",
        "description": "Time series trends for crawl performance."
      },
      "CrawlStatsView": {
        "type": "string",
        "enum": [
          "overview",
          "trends",
          "errors",
          "brands"
        ],
        "title": "CrawlStatsView",
        "description": "View types for unified crawl stats endpoint."
      },
      "CrawlTrendDataPoint": {
        "properties": {
          "date": {
            "type": "string",
            "title": "Date",
            "description": "Date in ISO format (YYYY-MM-DD)"
          },
          "completed_count": {
            "type": "integer",
            "title": "Completed Count",
            "description": "Crawls completed on this date"
          },
          "failed_count": {
            "type": "integer",
            "title": "Failed Count",
            "description": "Crawls failed on this date"
          },
          "success_rate": {
            "type": "number",
            "title": "Success Rate",
            "description": "Success rate percentage for date"
          }
        },
        "type": "object",
        "required": [
          "date",
          "completed_count",
          "failed_count",
          "success_rate"
        ],
        "title": "CrawlTrendDataPoint",
        "description": "Single data point in crawl trends time series."
      },
      "CreateVersionRequest": {
        "properties": {
          "target": {
            "$ref": "#/components/schemas/VersionRequestTarget",
            "description": "What to regenerate: text, media, or all"
          },
          "mediaId": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Mediaid",
            "description": "Required when target='media'. ID of media to regenerate."
          },
          "modifications": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/VersionModifications"
              },
              {
                "type": "null"
              }
            ],
            "description": "Modification parameters for regeneration"
          }
        },
        "type": "object",
        "required": [
          "target"
        ],
        "title": "CreateVersionRequest",
        "description": "Request to create a new post version."
      },
      "CreateVersionResponse": {
        "properties": {
          "versionRequestId": {
            "type": "string",
            "title": "Versionrequestid",
            "description": "UUID of the version request"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Initial status",
            "default": "pending"
          },
          "statusUrl": {
            "type": "string",
            "title": "Statusurl",
            "description": "URL to poll for status"
          },
          "estimatedCompletionSeconds": {
            "type": "integer",
            "title": "Estimatedcompletionseconds",
            "description": "Estimated seconds to completion",
            "default": 30
          }
        },
        "type": "object",
        "required": [
          "versionRequestId",
          "statusUrl"
        ],
        "title": "CreateVersionResponse",
        "description": "Response when version request is accepted (202 Accepted)."
      },
      "CreditBalanceResponse": {
        "properties": {
          "firecrawl_balance": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Firecrawl Balance",
            "description": "Firecrawl credit balance"
          },
          "firecrawl_warning": {
            "type": "boolean",
            "title": "Firecrawl Warning",
            "description": "Below warning threshold",
            "default": false
          },
          "firecrawl_error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Firecrawl Error",
            "description": "Error fetching Firecrawl balance"
          },
          "openrouter_balance": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Openrouter Balance",
            "description": "OpenRouter credit balance"
          },
          "openrouter_warning": {
            "type": "boolean",
            "title": "Openrouter Warning",
            "description": "Below warning threshold",
            "default": false
          },
          "openrouter_error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Openrouter Error",
            "description": "Error fetching OpenRouter balance"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Status message",
            "default": "Credit balance check requires external API calls. Values shown are from last known state."
          }
        },
        "type": "object",
        "title": "CreditBalanceResponse",
        "description": "Response schema for external API credit balances."
      },
      "DayContent": {
        "properties": {
          "dayNumber": {
            "type": "integer",
            "title": "Daynumber"
          },
          "approved": {
            "type": "boolean",
            "title": "Approved",
            "default": false
          },
          "postsToGenerate": {
            "type": "integer",
            "title": "Poststogenerate",
            "default": 3
          },
          "posts": {
            "items": {
              "$ref": "#/components/schemas/PostSchema"
            },
            "type": "array",
            "title": "Posts"
          }
        },
        "type": "object",
        "required": [
          "dayNumber"
        ],
        "title": "DayContent",
        "description": "Schema for daily content."
      },
      "DesignerOutputAckResponse": {
        "properties": {
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Processing status",
            "default": "acknowledged"
          },
          "correlationId": {
            "type": "string",
            "title": "Correlationid",
            "description": "Correlation ID from message"
          },
          "campaignId": {
            "type": "integer",
            "title": "Campaignid",
            "description": "Campaign ID"
          },
          "postsFannedOut": {
            "type": "integer",
            "title": "Postsfannedout",
            "description": "Number of posts fanned out to Post Generator"
          }
        },
        "type": "object",
        "required": [
          "correlationId",
          "campaignId",
          "postsFannedOut"
        ],
        "title": "DesignerOutputAckResponse",
        "description": "Response for successful designer output processing."
      },
      "DiversityMetrics": {
        "properties": {
          "contentTypeDiversity": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Contenttypediversity",
            "description": "Diversity score for content types (0-1)"
          },
          "themeCoverage": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Themecoverage",
            "description": "Theme coverage score (0-1)"
          },
          "temporalDistribution": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Temporaldistribution",
            "description": "How evenly content is distributed over time (0-1)"
          },
          "overallScore": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Overallscore",
            "description": "Overall diversity score (0-1)"
          }
        },
        "type": "object",
        "required": [
          "contentTypeDiversity",
          "themeCoverage",
          "temporalDistribution",
          "overallScore"
        ],
        "title": "DiversityMetrics",
        "description": "Diversity metrics for plan preview."
      },
      "DriftDetectionResult": {
        "properties": {
          "brandId": {
            "type": "string",
            "title": "Brandid",
            "description": "Brand ID analyzed"
          },
          "driftDetected": {
            "type": "boolean",
            "title": "Driftdetected",
            "description": "Whether significant drift was detected",
            "default": false
          },
          "driftScore": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Driftscore",
            "description": "Combined drift score (0=no drift, 1=maximum drift)",
            "default": 0.0
          },
          "klDivergence": {
            "anyOf": [
              {
                "type": "number",
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Kldivergence",
            "description": "KL divergence between baseline and current distributions"
          },
          "entropyChange": {
            "anyOf": [
              {
                "type": "number",
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Entropychange",
            "description": "Relative change in posterior entropy"
          },
          "baselineEntropy": {
            "anyOf": [
              {
                "type": "number",
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Baselineentropy",
            "description": "Entropy of baseline distribution"
          },
          "currentEntropy": {
            "anyOf": [
              {
                "type": "number",
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Currententropy",
            "description": "Entropy of current distribution"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Human-readable description of drift status",
            "default": ""
          },
          "affectedArms": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Affectedarms",
            "description": "Arms with significant distribution changes"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "title": "Timestamp",
            "description": "When the analysis was performed"
          }
        },
        "type": "object",
        "required": [
          "brandId"
        ],
        "title": "DriftDetectionResult",
        "description": "Result of posterior drift detection analysis."
      },
      "EmailVerificationRequest": {
        "properties": {
          "token": {
            "type": "string",
            "minLength": 1,
            "title": "Token",
            "description": "Verification token from email"
          }
        },
        "type": "object",
        "required": [
          "token"
        ],
        "title": "EmailVerificationRequest",
        "description": "Schema for email verification request.\n\nFor POST /api/v2/verifications endpoint.\nVerifies user email using token from verification email."
      },
      "EmojiUsage": {
        "type": "string",
        "enum": [
          "none",
          "minimal",
          "moderate"
        ],
        "title": "EmojiUsage",
        "description": "Emoji usage options for captions.\n\nControls the frequency of emoji usage in generated captions.\n- NONE: No emojis\n- MINIMAL: 1-2 emojis, strategic placement\n- MODERATE: 3-5 emojis, natural integration"
      },
      "EngagementMetricsRequest": {
        "properties": {
          "impressions": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Impressions",
            "description": "Total impressions/views",
            "default": 0
          },
          "likes": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Likes",
            "description": "Number of likes",
            "default": 0
          },
          "comments": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Comments",
            "description": "Number of comments",
            "default": 0
          },
          "shares": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Shares",
            "description": "Number of shares",
            "default": 0
          },
          "saves": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Saves",
            "description": "Number of saves",
            "default": 0
          },
          "clicks": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Clicks",
            "description": "Number of clicks",
            "default": 0
          }
        },
        "type": "object",
        "title": "EngagementMetricsRequest",
        "description": "Engagement metrics for a single post."
      },
      "ExperiencePromptUpdate": {
        "properties": {
          "experiencePrompt": {
            "type": "string",
            "maxLength": 5000,
            "minLength": 1,
            "title": "Experienceprompt",
            "description": "New experience prompt describing the desired post content"
          }
        },
        "type": "object",
        "required": [
          "experiencePrompt"
        ],
        "title": "ExperiencePromptUpdate",
        "description": "Request body for updating a post's experience prompt (GATE 10 Phase 2).\n\nThe experience prompt is a user-facing description of the entire post.\nWhen edited, the backend sends it to Content Designer for interpretation\ninto text_prompt and media_prompt, then triggers full regeneration."
      },
      "ExplorationRateMetrics": {
        "properties": {
          "brandId": {
            "type": "string",
            "title": "Brandid",
            "description": "Brand ID analyzed"
          },
          "actualRate": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Actualrate",
            "description": "Current exploration rate (epsilon)",
            "default": 0.0
          },
          "expectedRate": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Expectedrate",
            "description": "Expected/configured exploration rate",
            "default": 0.0
          },
          "deviation": {
            "type": "number",
            "minimum": 0.0,
            "title": "Deviation",
            "description": "Absolute deviation from expected rate",
            "default": 0.0
          },
          "withinTolerance": {
            "type": "boolean",
            "title": "Withintolerance",
            "description": "Whether deviation is within acceptable tolerance",
            "default": true
          },
          "selectionCount": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Selectioncount",
            "description": "Total number of arm selections made",
            "default": 0
          },
          "selectionEntropy": {
            "anyOf": [
              {
                "type": "number",
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Selectionentropy",
            "description": "Entropy of arm selection distribution"
          },
          "entropyRatio": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 1.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Entropyratio",
            "description": "Ratio of selection entropy to maximum possible entropy"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Human-readable description of exploration status",
            "default": ""
          },
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "title": "Timestamp",
            "description": "When the analysis was performed"
          }
        },
        "type": "object",
        "required": [
          "brandId"
        ],
        "title": "ExplorationRateMetrics",
        "description": "Metrics for exploration rate monitoring."
      },
      "FeedbackProcessingResponse": {
        "properties": {
          "post_id": {
            "type": "string",
            "title": "Post Id",
            "description": "The post ID"
          },
          "scene_type": {
            "type": "string",
            "title": "Scene Type",
            "description": "Scene type of the post"
          },
          "reward": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Reward",
            "description": "Computed reward signal (0=bad, 1=good)"
          },
          "success": {
            "type": "boolean",
            "title": "Success",
            "description": "Whether reward >= 0.5 (positive outcome)"
          },
          "previous_alpha": {
            "type": "number",
            "title": "Previous Alpha",
            "description": "Alpha before update"
          },
          "previous_beta": {
            "type": "number",
            "title": "Previous Beta",
            "description": "Beta before update"
          },
          "new_alpha": {
            "type": "number",
            "title": "New Alpha",
            "description": "Alpha after update"
          },
          "new_beta": {
            "type": "number",
            "title": "New Beta",
            "description": "Beta after update"
          },
          "observation_count": {
            "type": "integer",
            "title": "Observation Count",
            "description": "Total observations for this scene type"
          },
          "expected_success_rate": {
            "type": "number",
            "title": "Expected Success Rate",
            "description": "Expected success rate after update"
          }
        },
        "type": "object",
        "required": [
          "post_id",
          "scene_type",
          "reward",
          "success",
          "previous_alpha",
          "previous_beta",
          "new_alpha",
          "new_beta",
          "observation_count",
          "expected_success_rate"
        ],
        "title": "FeedbackProcessingResponse",
        "description": "Response schema for single post engagement processing."
      },
      "GeneratedContentPublic": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "campaignId": {
            "type": "integer",
            "title": "Campaignid"
          },
          "userId": {
            "type": "string",
            "title": "Userid"
          },
          "readyForReview": {
            "type": "integer",
            "title": "Readyforreview"
          },
          "approved": {
            "type": "integer",
            "title": "Approved"
          },
          "exported": {
            "type": "integer",
            "title": "Exported"
          },
          "published": {
            "type": "boolean",
            "title": "Published"
          },
          "totalPosts": {
            "type": "integer",
            "title": "Totalposts"
          },
          "weeks": {
            "items": {
              "$ref": "#/components/schemas/WeekContent"
            },
            "type": "array",
            "title": "Weeks"
          },
          "correlationId": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Correlationid"
          },
          "createdAt": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Createdat"
          },
          "updatedAt": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updatedat"
          }
        },
        "type": "object",
        "required": [
          "id",
          "campaignId",
          "userId",
          "readyForReview",
          "approved",
          "exported",
          "published",
          "totalPosts"
        ],
        "title": "GeneratedContentPublic",
        "description": "Public schema for generated content (Issue #2890).\n\nExcludes AI-internal prompt fields (image_prompt, experience_prompt)\nfrom nested PostSchema objects in user-facing API responses.\nStakeholder requirement: AI prompts must be hidden from users.\n\nAdmin endpoints retain the full GeneratedContent with prompt fields."
      },
      "GenerationStatsResponse": {
        "properties": {
          "total_generations": {
            "type": "integer",
            "title": "Total Generations",
            "description": "Total content generations",
            "default": 0
          },
          "successful": {
            "type": "integer",
            "title": "Successful",
            "description": "Successful generations",
            "default": 0
          },
          "failed": {
            "type": "integer",
            "title": "Failed",
            "description": "Failed generations",
            "default": 0
          },
          "success_rate": {
            "type": "number",
            "title": "Success Rate",
            "description": "Success rate percentage",
            "default": 0.0
          }
        },
        "type": "object",
        "title": "GenerationStatsResponse",
        "description": "Response schema for generation statistics."
      },
      "GenerationStatus": {
        "type": "string",
        "enum": [
          "pending",
          "generating",
          "completed",
          "failed"
        ],
        "title": "GenerationStatus",
        "description": "Content generation status values."
      },
      "GetRecommendationRequest": {
        "properties": {
          "context": {
            "$ref": "#/components/schemas/ContentContext",
            "description": "Current context features"
          },
          "epsilon": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Epsilon",
            "description": "Exploration probability (0=pure exploitation, 1=pure exploration)",
            "default": 0.1
          }
        },
        "type": "object",
        "required": [
          "context"
        ],
        "title": "GetRecommendationRequest",
        "description": "Request schema for getting contextual bandit recommendation."
      },
      "HTTPValidationError": {
        "properties": {
          "detail": {
            "items": {
              "$ref": "#/components/schemas/ValidationError"
            },
            "type": "array",
            "title": "Detail"
          }
        },
        "type": "object",
        "title": "HTTPValidationError"
      },
      "HashtagDensity": {
        "type": "string",
        "enum": [
          "none",
          "light",
          "moderate",
          "heavy"
        ],
        "title": "HashtagDensity",
        "description": "Hashtag density options for captions.\n\nControls how many hashtags are included in the caption.\n- NONE: No hashtags\n- LIGHT: 1-3 hashtags\n- MODERATE: 4-8 hashtags\n- HEAVY: 9+ hashtags"
      },
      "HealthOverviewResponse": {
        "properties": {
          "total_users": {
            "type": "integer",
            "title": "Total Users",
            "description": "Total registered users"
          },
          "active_users_7d": {
            "type": "integer",
            "title": "Active Users 7D",
            "description": "Users active in last 7 days"
          },
          "total_brands": {
            "type": "integer",
            "title": "Total Brands",
            "description": "Total brands"
          },
          "total_campaigns": {
            "type": "integer",
            "title": "Total Campaigns",
            "description": "Total campaigns"
          },
          "total_posts": {
            "type": "integer",
            "title": "Total Posts",
            "description": "Total posts"
          },
          "campaigns_by_status": {
            "items": {
              "$ref": "#/components/schemas/CampaignStatusCount"
            },
            "type": "array",
            "title": "Campaigns By Status",
            "description": "Campaign counts by status"
          },
          "generations_today_success": {
            "type": "integer",
            "title": "Generations Today Success",
            "description": "Successful generations today",
            "default": 0
          },
          "generations_today_failed": {
            "type": "integer",
            "title": "Generations Today Failed",
            "description": "Failed generations today",
            "default": 0
          }
        },
        "type": "object",
        "required": [
          "total_users",
          "active_users_7d",
          "total_brands",
          "total_campaigns",
          "total_posts"
        ],
        "title": "HealthOverviewResponse",
        "description": "Response schema for admin health overview."
      },
      "HookStyle": {
        "type": "string",
        "enum": [
          "question",
          "statement",
          "statistic",
          "story",
          "benefit"
        ],
        "title": "HookStyle",
        "description": "Opening hook style options for captions.\n\nDefines the style of the opening line to capture attention.\n- QUESTION: Start with an engaging question\n- STATEMENT: Bold declarative opening\n- STATISTIC: Lead with a compelling number or fact\n- STORY: Begin with narrative/personal element\n- BENEFIT: Lead with value proposition"
      },
      "ImageGenerationStatus": {
        "type": "string",
        "enum": [
          "pending",
          "generating",
          "completed",
          "failed"
        ],
        "title": "ImageGenerationStatus",
        "description": "Image generation status values for individual posts."
      },
      "InitializeContextualBanditRequest": {
        "properties": {
          "arms": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Arms",
            "description": "Arms to initialize. If None, uses default scene types."
          }
        },
        "type": "object",
        "title": "InitializeContextualBanditRequest",
        "description": "Request to initialize contextual bandit for a new brand."
      },
      "InitializeLearningStateRequest": {
        "properties": {
          "scene_types": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Scene Types",
            "description": "Scene types to initialize. If None, uses defaults."
          },
          "initial_alpha": {
            "type": "number",
            "minimum": 0.1,
            "title": "Initial Alpha",
            "description": "Initial alpha for all scene types (uniform prior = 1.0)",
            "default": 1.0
          },
          "initial_beta": {
            "type": "number",
            "minimum": 0.1,
            "title": "Initial Beta",
            "description": "Initial beta for all scene types (uniform prior = 1.0)",
            "default": 1.0
          },
          "use_hierarchical_priors": {
            "type": "boolean",
            "title": "Use Hierarchical Priors",
            "description": "Whether to use industry-level hierarchical priors. When True, derives priors from aggregate industry data to accelerate cold-start convergence. When False, uses uniform Beta(initial_alpha, initial_beta) priors.",
            "default": true
          }
        },
        "type": "object",
        "title": "InitializeLearningStateRequest",
        "description": "Request to initialize learning state for a new brand."
      },
      "InstagramOAuthRequest": {
        "properties": {
          "code": {
            "type": "string",
            "minLength": 1,
            "title": "Code",
            "description": "Authorization code from Instagram OAuth callback"
          },
          "redirectUri": {
            "type": "string",
            "minLength": 1,
            "title": "Redirecturi",
            "description": "Redirect URI used in authorization request"
          }
        },
        "type": "object",
        "required": [
          "code",
          "redirectUri"
        ],
        "title": "InstagramOAuthRequest",
        "description": "Schema for Instagram OAuth token exchange request."
      },
      "InstagramOAuthResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Instagram account ID"
          },
          "userName": {
            "type": "string",
            "title": "Username",
            "description": "Instagram username"
          },
          "accessToken": {
            "type": "string",
            "title": "Accesstoken",
            "description": "Long-lived access token"
          },
          "expiresIn": {
            "type": "integer",
            "title": "Expiresin",
            "description": "Token expiration time in seconds"
          },
          "issuedAt": {
            "type": "string",
            "format": "date-time",
            "title": "Issuedat",
            "description": "Token issuance timestamp"
          },
          "userId": {
            "type": "string",
            "title": "Userid",
            "description": "Associated user ID from our system"
          }
        },
        "type": "object",
        "required": [
          "id",
          "userName",
          "accessToken",
          "expiresIn",
          "issuedAt",
          "userId"
        ],
        "title": "InstagramOAuthResponse",
        "description": "Schema for Instagram OAuth token exchange response."
      },
      "IntegrationAuthRequest": {
        "properties": {
          "authCode": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Authcode",
            "description": "OAuth authorization code"
          },
          "accessToken": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Accesstoken",
            "description": "Direct access token"
          },
          "refreshToken": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Refreshtoken",
            "description": "Refresh token"
          },
          "scope": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Scope",
            "description": "Requested permissions"
          },
          "metadata": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metadata",
            "description": "Platform-specific metadata"
          }
        },
        "type": "object",
        "title": "IntegrationAuthRequest",
        "description": "Schema for integration authentication request."
      },
      "IntegrationRedirectRequest": {
        "properties": {
          "platform": {
            "type": "string",
            "title": "Platform",
            "description": "Platform name (instagram, facebook, linkedin, twitter)"
          },
          "scope": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Scope",
            "description": "Requested OAuth scopes"
          },
          "state": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "State",
            "description": "State parameter for OAuth flow"
          }
        },
        "type": "object",
        "required": [
          "platform"
        ],
        "title": "IntegrationRedirectRequest",
        "description": "Schema for integration redirect URI request."
      },
      "IntegrationRedirectResponse": {
        "properties": {
          "redirectUri": {
            "type": "string",
            "title": "Redirecturi",
            "description": "OAuth redirect URI"
          },
          "state": {
            "type": "string",
            "title": "State",
            "description": "State parameter to verify callback"
          },
          "expiresAt": {
            "type": "string",
            "format": "date-time",
            "title": "Expiresat",
            "description": "Expiration time for this redirect"
          }
        },
        "type": "object",
        "required": [
          "redirectUri",
          "state",
          "expiresAt"
        ],
        "title": "IntegrationRedirectResponse",
        "description": "Schema for integration redirect URI response."
      },
      "IntegrationResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Integration ID"
          },
          "platform": {
            "type": "string",
            "title": "Platform",
            "description": "Platform name"
          },
          "accountId": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Accountid",
            "description": "Connected account ID"
          },
          "accountName": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Accountname",
            "description": "Connected account name"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Integration status (connected, disconnected, error)"
          },
          "scope": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Scope",
            "description": "Granted permissions"
          },
          "expiresAt": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Expiresat",
            "description": "Token expiration time"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "title": "Createdat",
            "description": "Integration creation time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "title": "Updatedat",
            "description": "Last update time"
          },
          "metadata": {
            "additionalProperties": true,
            "type": "object",
            "title": "Metadata",
            "description": "Platform-specific data"
          }
        },
        "type": "object",
        "required": [
          "id",
          "platform",
          "status",
          "createdAt",
          "updatedAt"
        ],
        "title": "IntegrationResponse",
        "description": "Schema for integration response."
      },
      "IntegrationsListResponse": {
        "properties": {
          "integrations": {
            "items": {
              "$ref": "#/components/schemas/IntegrationResponse"
            },
            "type": "array",
            "title": "Integrations",
            "description": "List of integrations"
          },
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "Total number of integrations"
          }
        },
        "type": "object",
        "required": [
          "integrations",
          "total"
        ],
        "title": "IntegrationsListResponse",
        "description": "Schema for listing all integrations."
      },
      "LearningRequest": {
        "properties": {
          "approvalThreshold": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Approvalthreshold",
            "description": "Threshold below which scene types are considered underperforming",
            "default": 0.7
          },
          "minFeedbackCount": {
            "type": "integer",
            "minimum": 1.0,
            "title": "Minfeedbackcount",
            "description": "Minimum feedback count before triggering reoptimization",
            "default": 10
          },
          "autoApply": {
            "type": "boolean",
            "title": "Autoapply",
            "description": "If true, automatically apply recommended policy updates",
            "default": false
          },
          "forceRegeneration": {
            "type": "boolean",
            "title": "Forceregeneration",
            "description": "If true, force plan regeneration regardless of trigger status",
            "default": false
          }
        },
        "type": "object",
        "title": "LearningRequest",
        "description": "Request schema for triggering learning cycle."
      },
      "LearningResponse": {
        "properties": {
          "campaignId": {
            "type": "string",
            "title": "Campaignid",
            "description": "Campaign ID that was analyzed"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "title": "Timestamp",
            "description": "When the learning analysis was performed"
          },
          "totalFeedbackCount": {
            "type": "integer",
            "title": "Totalfeedbackcount",
            "description": "Total feedback signals collected",
            "default": 0
          },
          "overallApprovalRate": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Overallapprovalrate",
            "description": "Overall approval rate across all scene types",
            "default": 0.0
          },
          "sceneSignals": {
            "items": {
              "$ref": "#/components/schemas/SceneTypeLearningSignal"
            },
            "type": "array",
            "title": "Scenesignals",
            "description": "Learning signals per scene type"
          },
          "reoptimizationTriggered": {
            "type": "boolean",
            "title": "Reoptimizationtriggered",
            "description": "Whether reoptimization threshold was met",
            "default": false
          },
          "triggerReason": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Triggerreason",
            "description": "Reason for trigger (or why not triggered)"
          },
          "recommendations": {
            "items": {
              "$ref": "#/components/schemas/PolicyRecommendation"
            },
            "type": "array",
            "title": "Recommendations",
            "description": "Policy update recommendations"
          },
          "policyUpdated": {
            "type": "boolean",
            "title": "Policyupdated",
            "description": "Whether policy was automatically updated",
            "default": false
          },
          "planRegenerated": {
            "type": "boolean",
            "title": "Planregenerated",
            "description": "Whether plan regeneration was triggered",
            "default": false
          },
          "summary": {
            "type": "string",
            "title": "Summary",
            "description": "Human-readable summary of learning results",
            "default": ""
          }
        },
        "type": "object",
        "required": [
          "campaignId"
        ],
        "title": "LearningResponse",
        "description": "Response schema for learning endpoint."
      },
      "LearningStatus": {
        "properties": {
          "campaignId": {
            "type": "string",
            "title": "Campaignid",
            "description": "Campaign ID"
          },
          "hasSampler": {
            "type": "boolean",
            "title": "Hassampler",
            "description": "Whether a Thompson Sampler exists for this campaign",
            "default": false
          },
          "sceneTypes": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Scenetypes",
            "description": "Scene types being tracked"
          },
          "totalFeedback": {
            "type": "integer",
            "title": "Totalfeedback",
            "description": "Total feedback count",
            "default": 0
          },
          "lastLearningRun": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Lastlearningrun",
            "description": "When learning was last run"
          },
          "explorationRate": {
            "type": "number",
            "title": "Explorationrate",
            "description": "Epsilon for exploration",
            "default": 0.0
          },
          "modelStatistics": {
            "additionalProperties": true,
            "type": "object",
            "title": "Modelstatistics",
            "description": "Current model statistics"
          }
        },
        "type": "object",
        "required": [
          "campaignId"
        ],
        "title": "LearningStatus",
        "description": "Status of the learning system for a campaign."
      },
      "LegalRestrictions": {
        "properties": {
          "claims": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Claims",
            "description": "Legal claims the brand can make"
          },
          "disclaimers": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Disclaimers",
            "description": "Required disclaimers for brand content"
          },
          "restrictedTerms": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Restrictedterms",
            "description": "Terms that should not be used in content"
          }
        },
        "type": "object",
        "title": "LegalRestrictions",
        "description": "Legal restrictions schema for brand compliance."
      },
      "LogoutResponse": {
        "properties": {
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Logout confirmation message"
          }
        },
        "type": "object",
        "required": [
          "message"
        ],
        "title": "LogoutResponse",
        "description": "Schema for logout response.\n\nConfirms successful token invalidation (logout)."
      },
      "MediaSignedUrlResponse": {
        "properties": {
          "mediaId": {
            "type": "integer",
            "title": "Mediaid",
            "description": "Media ID"
          },
          "signedUrl": {
            "type": "string",
            "title": "Signedurl",
            "description": "Short-lived signed URL for the media"
          },
          "expiresInSeconds": {
            "type": "integer",
            "title": "Expiresinseconds",
            "description": "Seconds until the signed URL expires",
            "default": 3600
          },
          "mediaType": {
            "type": "string",
            "title": "Mediatype",
            "description": "Type of media (image, video, carousel)"
          },
          "contentType": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Contenttype",
            "description": "MIME content type if known"
          }
        },
        "type": "object",
        "required": [
          "mediaId",
          "signedUrl",
          "mediaType"
        ],
        "title": "MediaSignedUrlResponse",
        "description": "Response schema for media signed URL endpoint.\n\nReturns the signed URL along with metadata about the media and expiration."
      },
      "MessageType": {
        "type": "string",
        "enum": [
          "core",
          "deep",
          "event"
        ],
        "title": "MessageType",
        "description": "Message type discriminator for topic routing."
      },
      "ModelHealthMetrics": {
        "properties": {
          "brandId": {
            "type": "string",
            "title": "Brandid",
            "description": "Brand ID analyzed"
          },
          "status": {
            "$ref": "#/components/schemas/ModelHealthStatus",
            "description": "Overall health status category",
            "default": "not_initialized"
          },
          "overallScore": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Overallscore",
            "description": "Overall health score (0=unhealthy, 1=perfectly healthy)",
            "default": 0.0
          },
          "driftMetrics": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/DriftDetectionResult"
              },
              {
                "type": "null"
              }
            ],
            "description": "Posterior drift detection results"
          },
          "explorationMetrics": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ExplorationRateMetrics"
              },
              {
                "type": "null"
              }
            ],
            "description": "Exploration rate monitoring results"
          },
          "armMetrics": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ArmDistributionMetrics"
              },
              {
                "type": "null"
              }
            ],
            "description": "Arm distribution metrics"
          },
          "totalObservations": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Totalobservations",
            "description": "Total feedback observations across all arms",
            "default": 0
          },
          "sceneTypes": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Scenetypes",
            "description": "Scene types (arms) being tracked"
          },
          "currentEpsilon": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Currentepsilon",
            "description": "Current exploration rate",
            "default": 0.0
          },
          "selectionCount": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Selectioncount",
            "description": "Total arm selections made",
            "default": 0
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Human-readable health summary",
            "default": ""
          },
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "title": "Timestamp",
            "description": "When the health check was performed"
          },
          "lastHealthCheck": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Lasthealthcheck",
            "description": "When the previous health check was performed"
          }
        },
        "type": "object",
        "required": [
          "brandId"
        ],
        "title": "ModelHealthMetrics",
        "description": "Comprehensive model health metrics."
      },
      "ModelHealthStatus": {
        "type": "string",
        "enum": [
          "not_initialized",
          "healthy",
          "warning",
          "degraded",
          "critical"
        ],
        "title": "ModelHealthStatus",
        "description": "Health status categories for ML models."
      },
      "NativeUserCreate": {
        "properties": {
          "email": {
            "type": "string",
            "format": "email",
            "title": "Email",
            "description": "User email address"
          },
          "name": {
            "type": "string",
            "maxLength": 255,
            "minLength": 1,
            "title": "Name",
            "description": "User full name"
          },
          "password": {
            "type": "string",
            "maxLength": 128,
            "minLength": 8,
            "title": "Password",
            "description": "User password. Must contain at least one uppercase letter, one lowercase letter, one digit, and one special character."
          }
        },
        "type": "object",
        "required": [
          "email",
          "name",
          "password"
        ],
        "title": "NativeUserCreate",
        "description": "Schema for creating a new user via native email/password authentication.\n\nFor POST /api/v2/users endpoint.\nPassword is hashed and stored in our database with bcrypt.\nEmail verification link is sent via SendGrid.\n\nPassword Requirements:\n- Minimum 8 characters\n- Maximum 128 characters\n- At least one uppercase letter (A-Z)\n- At least one lowercase letter (a-z)\n- At least one digit (0-9)\n- At least one special character (!@#$%^&*(),.?\":{}|<>-_+=[]\\;'`~)\n- Not a commonly used password"
      },
      "OutputAckResponse": {
        "properties": {
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Processing status",
            "default": "acknowledged"
          },
          "correlationId": {
            "type": "string",
            "title": "Correlationid",
            "description": "Correlation ID from message"
          },
          "postId": {
            "type": "string",
            "title": "Postid",
            "description": "Post ID that was updated"
          }
        },
        "type": "object",
        "required": [
          "correlationId",
          "postId"
        ],
        "title": "OutputAckResponse",
        "description": "Response for successful output processing."
      },
      "PaginatedResponse_BrandResponse_": {
        "properties": {
          "data": {
            "items": {
              "$ref": "#/components/schemas/BrandResponse"
            },
            "type": "array",
            "title": "Data",
            "description": "List of items for the current page"
          },
          "total": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Total",
            "description": "Total number of items matching the query"
          },
          "limit": {
            "type": "integer",
            "minimum": 1.0,
            "title": "Limit",
            "description": "Maximum number of items per page"
          },
          "offset": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Offset",
            "description": "Number of items skipped"
          }
        },
        "type": "object",
        "required": [
          "data",
          "total",
          "limit",
          "offset"
        ],
        "title": "PaginatedResponse[BrandResponse]"
      },
      "PaginatedResponse_CampaignResponse_": {
        "properties": {
          "data": {
            "items": {
              "$ref": "#/components/schemas/CampaignResponse"
            },
            "type": "array",
            "title": "Data",
            "description": "List of items for the current page"
          },
          "total": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Total",
            "description": "Total number of items matching the query"
          },
          "limit": {
            "type": "integer",
            "minimum": 1.0,
            "title": "Limit",
            "description": "Maximum number of items per page"
          },
          "offset": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Offset",
            "description": "Number of items skipped"
          }
        },
        "type": "object",
        "required": [
          "data",
          "total",
          "limit",
          "offset"
        ],
        "title": "PaginatedResponse[CampaignResponse]"
      },
      "PasswordResetCreateRequest": {
        "properties": {
          "email": {
            "type": "string",
            "format": "email",
            "title": "Email",
            "description": "User email address to send reset link"
          }
        },
        "type": "object",
        "required": [
          "email"
        ],
        "title": "PasswordResetCreateRequest",
        "description": "Schema for creating a password reset request (RMM L2 compliant).\n\nFor POST /api/v2/passwords endpoint.\nCreates a password reset token and sends email to user.\n\nRMM Level 2 Compliance:\n- Resource-based URL: /passwords (noun, not verb)\n- POST method creates new password-reset resource\n- No verbs in URL path"
      },
      "PasswordResetCreateResponse": {
        "properties": {
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Generic success message (security: doesn't reveal if email exists)",
            "default": "If the email exists, a password reset link has been sent."
          }
        },
        "type": "object",
        "title": "PasswordResetCreateResponse",
        "description": "Schema for password reset creation response (RMM L2 compliant).\n\nReturns confirmation message without revealing if email exists.\nSecurity: Always returns success to prevent email enumeration."
      },
      "PasswordResetUpdateRequest": {
        "properties": {
          "newPassword": {
            "type": "string",
            "maxLength": 128,
            "minLength": 8,
            "title": "Newpassword",
            "description": "New password. Must contain at least one uppercase letter, one lowercase letter, one digit, and one special character."
          }
        },
        "type": "object",
        "required": [
          "newPassword"
        ],
        "title": "PasswordResetUpdateRequest",
        "description": "Schema for completing a password reset (RMM L2 compliant).\n\nFor PUT /api/v2/password-resets/{token} endpoint.\nUpdates the password using the reset token.\n\nRMM Level 2 Compliance:\n- Resource-based URL: /password-resets/{token}\n- PUT method updates the password-reset resource\n- Token in path (resource identifier), password in body\n\nPassword Requirements:\n- Minimum 8 characters\n- Maximum 128 characters\n- At least one uppercase letter (A-Z)\n- At least one lowercase letter (a-z)\n- At least one digit (0-9)\n- At least one special character (!@#$%^&*(),.?\":{}|<>-_+=[]\\;'`~)\n- Not a commonly used password"
      },
      "PasswordResetUpdateResponse": {
        "properties": {
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Success confirmation message",
            "default": "Password reset successful. You can now log in with your new password."
          }
        },
        "type": "object",
        "title": "PasswordResetUpdateResponse",
        "description": "Schema for password reset completion response (RMM L2 compliant).\n\nReturns success message after password is reset."
      },
      "PipelineHealthResponse": {
        "properties": {
          "recent_jobs": {
            "items": {
              "$ref": "#/components/schemas/PipelineJobSummary"
            },
            "type": "array",
            "title": "Recent Jobs",
            "description": "Recent content generation jobs"
          },
          "total_recent": {
            "type": "integer",
            "title": "Total Recent",
            "description": "Total recent jobs count",
            "default": 0
          },
          "failed_recent": {
            "type": "integer",
            "title": "Failed Recent",
            "description": "Failed jobs in recent window",
            "default": 0
          }
        },
        "type": "object",
        "title": "PipelineHealthResponse",
        "description": "Response schema for pipeline health."
      },
      "PipelineJobSummary": {
        "properties": {
          "correlation_id": {
            "type": "string",
            "title": "Correlation Id"
          },
          "campaign_id": {
            "type": "integer",
            "title": "Campaign Id"
          },
          "status": {
            "type": "string",
            "title": "Status"
          },
          "created_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Created At"
          }
        },
        "type": "object",
        "required": [
          "correlation_id",
          "campaign_id",
          "status"
        ],
        "title": "PipelineJobSummary",
        "description": "Summary of a recent pipeline job."
      },
      "PlanGenerationAcceptedResponse": {
        "properties": {
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Human-readable status message",
            "default": "Plan generation started"
          },
          "statusUrl": {
            "type": "string",
            "title": "Statusurl",
            "description": "URL to poll for plan generation status"
          },
          "correlationId": {
            "type": "string",
            "title": "Correlationid",
            "description": "Correlation ID for tracking this generation request"
          }
        },
        "type": "object",
        "required": [
          "statusUrl",
          "correlationId"
        ],
        "title": "PlanGenerationAcceptedResponse",
        "description": "Response for async plan generation request (HTTP 202 Accepted).\n\nIssue #1547: Migrate /campaigns/{id}/plan to async publisher pattern.\n\nReturned immediately after publishing plan generation request to indicate\nthe request was accepted and processing has begun asynchronously."
      },
      "PlanGenerationStatusResponse": {
        "properties": {
          "status": {
            "type": "string",
            "enum": [
              "generating",
              "completed",
              "failed"
            ],
            "title": "Status",
            "description": "Plan generation status"
          },
          "plan": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/SceneMixPlanResponse"
              },
              {
                "type": "null"
              }
            ],
            "description": "Generated plan (only present when status is 'completed')"
          },
          "errorMessage": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Errormessage",
            "description": "Error message (only present when status is 'failed')"
          }
        },
        "type": "object",
        "required": [
          "status"
        ],
        "title": "PlanGenerationStatusResponse",
        "description": "Response for plan generation status polling.\n\nIssue #1547: Migrate /campaigns/{id}/plan to async publisher pattern.\n\nUsed to poll the status of an async plan generation request."
      },
      "Platform": {
        "type": "string",
        "enum": [
          "instagram",
          "facebook",
          "linkedin",
          "twitter",
          "tiktok"
        ],
        "title": "Platform",
        "description": "Supported social media platforms.\n\nUsed for platform-specific caption optimization."
      },
      "PolicyRecommendation": {
        "properties": {
          "sceneType": {
            "type": "string",
            "title": "Scenetype",
            "description": "Scene type this recommendation applies to"
          },
          "weight": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Weight",
            "description": "Weight in content mix"
          },
          "recommendedWeight": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Recommendedweight",
            "description": "Recommended new weight"
          },
          "reason": {
            "type": "string",
            "title": "Reason",
            "description": "Explanation for the recommendation"
          },
          "confidence": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Confidence",
            "description": "Confidence level in this recommendation"
          }
        },
        "type": "object",
        "required": [
          "sceneType",
          "weight",
          "recommendedWeight",
          "reason",
          "confidence"
        ],
        "title": "PolicyRecommendation",
        "description": "Recommendation for policy update."
      },
      "PostContent": {
        "properties": {
          "selectedImage": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 2083,
                "minLength": 1,
                "format": "uri"
              },
              {
                "type": "null"
              }
            ],
            "title": "Selectedimage",
            "description": "URL of the selected image (optional - can be set later)"
          },
          "text": {
            "type": "string",
            "title": "Text",
            "description": "Post caption text (can be empty)",
            "default": ""
          }
        },
        "type": "object",
        "title": "PostContent",
        "description": "Schema for post content in approval request."
      },
      "PostGenerationStatus": {
        "properties": {
          "postId": {
            "type": "string",
            "title": "Postid",
            "description": "Unique identifier for the post"
          },
          "textGenerated": {
            "type": "boolean",
            "title": "Textgenerated",
            "description": "Whether post text has been generated",
            "default": false
          },
          "imageGenerationStatus": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ImageGenerationStatus"
              },
              {
                "type": "null"
              }
            ],
            "description": "Status of image generation: pending/generating/completed/failed"
          },
          "imageGenerationAttempts": {
            "type": "integer",
            "title": "Imagegenerationattempts",
            "description": "Number of image generation attempts",
            "default": 0
          },
          "hasImages": {
            "type": "boolean",
            "title": "Hasimages",
            "description": "Whether post has generated images",
            "default": false
          },
          "errorMessage": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Errormessage",
            "description": "Error message if generation failed"
          }
        },
        "type": "object",
        "required": [
          "postId"
        ],
        "title": "PostGenerationStatus",
        "description": "Status of a single post's generation.\n\nProvides granular status for text and image generation per post."
      },
      "PostPerformanceMetric": {
        "properties": {
          "postId": {
            "type": "string",
            "title": "Postid",
            "description": "Post ID the metrics relate to"
          },
          "platform": {
            "type": "string",
            "title": "Platform",
            "description": "Social media platform (instagram, tiktok, linkedin, twitter)"
          },
          "impressions": {
            "anyOf": [
              {
                "type": "integer",
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Impressions",
            "description": "Total impressions/views"
          },
          "engagementRate": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 1.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Engagementrate",
            "description": "Engagement rate as decimal (0.04 = 4%)"
          },
          "likes": {
            "anyOf": [
              {
                "type": "integer",
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Likes",
            "description": "Number of likes"
          },
          "comments": {
            "anyOf": [
              {
                "type": "integer",
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Comments",
            "description": "Number of comments"
          },
          "shares": {
            "anyOf": [
              {
                "type": "integer",
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Shares",
            "description": "Number of shares"
          },
          "saves": {
            "anyOf": [
              {
                "type": "integer",
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Saves",
            "description": "Number of saves/bookmarks"
          },
          "clicks": {
            "anyOf": [
              {
                "type": "integer",
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Clicks",
            "description": "Number of link clicks"
          },
          "reach": {
            "anyOf": [
              {
                "type": "integer",
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Reach",
            "description": "Unique accounts reached"
          },
          "videoViews": {
            "anyOf": [
              {
                "type": "integer",
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Videoviews",
            "description": "Video views"
          },
          "videoCompletionRate": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 1.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Videocompletionrate",
            "description": "Video completion rate (0-1)"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "title": "Timestamp",
            "description": "When the metrics were recorded"
          },
          "metadata": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metadata",
            "description": "Additional platform-specific metrics"
          }
        },
        "type": "object",
        "required": [
          "postId",
          "platform",
          "timestamp"
        ],
        "title": "PostPerformanceMetric",
        "description": "Schema for a single post's performance metrics.\n\nPhase 1 ML improvements: Used within batch performance submission."
      },
      "PostPerformanceResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "postId": {
            "type": "string",
            "title": "Postid"
          },
          "campaignId": {
            "type": "string",
            "title": "Campaignid"
          },
          "platform": {
            "type": "string",
            "title": "Platform"
          },
          "impressions": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Impressions"
          },
          "engagementRate": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Engagementrate"
          },
          "likes": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Likes"
          },
          "comments": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Comments"
          },
          "shares": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Shares"
          },
          "saves": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Saves"
          },
          "clicks": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Clicks"
          },
          "reach": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Reach"
          },
          "videoViews": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Videoviews"
          },
          "videoCompletionRate": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Videocompletionrate"
          },
          "metadata": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metadata"
          },
          "recordedAt": {
            "type": "string",
            "format": "date-time",
            "title": "Recordedat"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "title": "Createdat"
          }
        },
        "type": "object",
        "required": [
          "id",
          "postId",
          "campaignId",
          "platform",
          "recordedAt",
          "createdAt"
        ],
        "title": "PostPerformanceResponse",
        "description": "Response schema for post performance data."
      },
      "PostPlan": {
        "properties": {
          "day": {
            "type": "integer",
            "title": "Day",
            "description": "Day of week (1-7)"
          },
          "sceneType": {
            "type": "string",
            "title": "Scenetype",
            "description": "Scene type (e.g., product_showcase, testimonial, educational)"
          },
          "theme": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Theme",
            "description": "Content theme"
          },
          "elements": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Elements",
            "description": "Content elements"
          },
          "captionStyle": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Captionstyle",
            "description": "Caption style"
          }
        },
        "type": "object",
        "required": [
          "day",
          "sceneType"
        ],
        "title": "PostPlan",
        "description": "Individual post within a week."
      },
      "PostSchema": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "text": {
            "type": "string",
            "title": "Text",
            "default": ""
          },
          "imagePrompt": {
            "type": "string",
            "title": "Imageprompt",
            "default": ""
          },
          "experiencePrompt": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Experienceprompt"
          },
          "imageUrls": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Imageurls"
          },
          "gcsUrls": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Gcsurls"
          },
          "videoUrls": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Videourls"
          },
          "videoGcsUrls": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Videogcsurls"
          },
          "videoThumbnailUrl": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Videothumbnailurl"
          },
          "videoDurationSeconds": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Videodurationseconds"
          },
          "mediaType": {
            "type": "string",
            "title": "Mediatype",
            "description": "Content type: 'image' or 'video'",
            "default": "image"
          },
          "textVersions": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Textversions"
          },
          "generationCount": {
            "type": "integer",
            "title": "Generationcount",
            "default": 1
          },
          "regenerateCount": {
            "type": "integer",
            "title": "Regeneratecount",
            "default": 3
          },
          "posted": {
            "type": "boolean",
            "title": "Posted",
            "default": false
          },
          "approved": {
            "type": "boolean",
            "title": "Approved",
            "default": false
          },
          "selectedImageIndex": {
            "type": "integer",
            "title": "Selectedimageindex",
            "default": 0
          },
          "selectedVideoIndex": {
            "type": "integer",
            "title": "Selectedvideoindex",
            "default": 0
          },
          "qualityScore": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Qualityscore",
            "description": "Quality score for the post (0.0 to 1.0)"
          },
          "modelUsed": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Modelused",
            "description": "Image generation model used (e.g., 'fal-ai/nano-banana-pro')"
          },
          "platform": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Platform",
            "description": "Target social media platform (e.g., 'instagram', 'linkedin', 'twitter')"
          },
          "postNumber": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Postnumber",
            "description": "1-based post index within a day (maps to frontend postIndex)"
          }
        },
        "type": "object",
        "required": [
          "id"
        ],
        "title": "PostSchema",
        "description": "Schema for individual social media post."
      },
      "PostVersionItemResponse": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "postId": {
            "type": "string",
            "title": "Postid"
          },
          "versionNumber": {
            "type": "integer",
            "title": "Versionnumber"
          },
          "parentVersionId": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Parentversionid"
          },
          "changeType": {
            "type": "string",
            "title": "Changetype"
          },
          "textSnapshot": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Textsnapshot"
          },
          "mediaSnapshot": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Mediasnapshot"
          },
          "createdBy": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Createdby"
          },
          "createdAt": {
            "type": "string",
            "title": "Createdat"
          }
        },
        "type": "object",
        "required": [
          "id",
          "postId",
          "versionNumber",
          "changeType",
          "createdAt"
        ],
        "title": "PostVersionItemResponse",
        "description": "Single version in history response with camelCase aliases."
      },
      "ProcessEngagementBatchRequest": {
        "properties": {
          "engagement_data": {
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "type": "array",
            "title": "Engagement Data",
            "description": "List of engagement records with post_id, scene_type, and metrics",
            "examples": [
              [
                {
                  "comments": 10,
                  "impressions": 1000,
                  "likes": 50,
                  "post_id": "post-123",
                  "scene_type": "lifestyle",
                  "shares": 5
                }
              ]
            ]
          }
        },
        "type": "object",
        "required": [
          "engagement_data"
        ],
        "title": "ProcessEngagementBatchRequest",
        "description": "Request schema for processing batch engagement data."
      },
      "ProcessEngagementRequest": {
        "properties": {
          "post_id": {
            "type": "string",
            "title": "Post Id",
            "description": "The post ID",
            "examples": [
              "post-123"
            ]
          },
          "scene_type": {
            "type": "string",
            "title": "Scene Type",
            "description": "Scene type of the post",
            "examples": [
              "lifestyle",
              "product",
              "testimonial",
              "educational"
            ]
          },
          "engagement": {
            "$ref": "#/components/schemas/EngagementMetricsRequest",
            "description": "Engagement metrics for the post"
          }
        },
        "type": "object",
        "required": [
          "post_id",
          "scene_type",
          "engagement"
        ],
        "title": "ProcessEngagementRequest",
        "description": "Request schema for processing single post engagement."
      },
      "ProductV2": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Product name"
          },
          "category": {
            "type": "string",
            "title": "Category",
            "description": "Product category"
          }
        },
        "type": "object",
        "required": [
          "name",
          "category"
        ],
        "title": "ProductV2",
        "description": "V2 Product information for brand knowledge."
      },
      "PromptCreate": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Unique prompt identifier"
          },
          "category": {
            "type": "string",
            "title": "Category",
            "description": "Prompt category (brand, content, campaign)"
          },
          "template": {
            "type": "string",
            "title": "Template",
            "description": "Prompt template with {variable} placeholders"
          },
          "variables": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Variables",
            "description": "List of variable names used in template"
          },
          "version": {
            "type": "string",
            "title": "Version",
            "description": "Semantic version (major.minor.patch)",
            "default": "1.0.0"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "Human-readable description of prompt purpose"
          }
        },
        "type": "object",
        "required": [
          "id",
          "category",
          "template"
        ],
        "title": "PromptCreate",
        "description": "Schema for creating a new prompt.\n\nAttributes:\n    id: Unique prompt identifier (e.g., \"brand_summary_v2\")\n    category: Prompt category for filtering (e.g., \"brand\", \"content\", \"campaign\")\n    template: The actual prompt template with variable placeholders\n    variables: List of variable names that can be substituted in the template\n    version: Semantic version of the prompt (e.g., \"1.0.0\")\n    description: Human-readable description of what this prompt does",
        "example": {
          "category": "content",
          "description": "Generate content variations for A/B testing",
          "id": "content_variation_v1",
          "template": "Generate {count} variations of {content_type} for {brand_name}",
          "variables": [
            "count",
            "content_type",
            "brand_name"
          ],
          "version": "1.0.0"
        }
      },
      "PromptEntry": {
        "properties": {
          "service_name": {
            "type": "string",
            "title": "Service Name",
            "description": "Service that owns this prompt"
          },
          "prompt_name": {
            "type": "string",
            "title": "Prompt Name",
            "description": "Human-readable prompt name"
          },
          "description": {
            "type": "string",
            "title": "Description",
            "description": "What this prompt does"
          },
          "location": {
            "type": "string",
            "title": "Location",
            "description": "File or config reference"
          },
          "editable": {
            "type": "boolean",
            "title": "Editable",
            "description": "Whether admins can edit this prompt (Phase 3)",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "service_name",
          "prompt_name",
          "description",
          "location"
        ],
        "title": "PromptEntry",
        "description": "A single prompt in the ecosystem catalog."
      },
      "PromptResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Unique prompt identifier"
          },
          "category": {
            "type": "string",
            "title": "Category",
            "description": "Prompt category (brand, content, campaign)"
          },
          "template": {
            "type": "string",
            "title": "Template",
            "description": "Prompt template with {variable} placeholders"
          },
          "variables": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Variables",
            "description": "List of variable names used in template"
          },
          "version": {
            "type": "string",
            "title": "Version",
            "description": "Semantic version (major.minor.patch)",
            "default": "1.0.0"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "Human-readable description of prompt purpose"
          }
        },
        "type": "object",
        "required": [
          "id",
          "category",
          "template"
        ],
        "title": "PromptResponse",
        "description": "Response schema for a single application prompt.\n\nAttributes:\n    id: Unique prompt identifier (e.g., \"brand_summary_v1\")\n    category: Prompt category for filtering (e.g., \"brand\", \"content\", \"campaign\")\n    template: The actual prompt template with variable placeholders\n    variables: List of variable names that can be substituted in the template\n    version: Semantic version of the prompt (e.g., \"1.0.0\")\n    description: Human-readable description of what this prompt does",
        "example": {
          "category": "brand",
          "description": "Generate concise brand summary for review",
          "id": "brand_summary_v1",
          "template": "Using the data for {brand_name}, create a 60-word summary highlighting {attributes}",
          "variables": [
            "brand_name",
            "attributes"
          ],
          "version": "1.0.0"
        }
      },
      "PromptsEcosystemResponse": {
        "properties": {
          "prompts": {
            "items": {
              "$ref": "#/components/schemas/PromptEntry"
            },
            "type": "array",
            "title": "Prompts",
            "description": "All prompts in the platform"
          },
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "Total prompt count"
          }
        },
        "type": "object",
        "required": [
          "prompts",
          "total"
        ],
        "title": "PromptsEcosystemResponse",
        "description": "Response schema for the prompts ecosystem catalog."
      },
      "PromptsListResponse": {
        "properties": {
          "prompts": {
            "items": {
              "$ref": "#/components/schemas/PromptResponse"
            },
            "type": "array",
            "title": "Prompts",
            "description": "List of application prompts"
          },
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "Total number of prompts in response"
          }
        },
        "type": "object",
        "required": [
          "prompts",
          "total"
        ],
        "title": "PromptsListResponse",
        "description": "Response schema for listing multiple prompts.\n\nAttributes:\n    prompts: List of prompts matching the filter criteria\n    total: Total number of prompts available (useful for pagination if added later)",
        "example": {
          "prompts": [
            {
              "category": "brand",
              "description": "Brand summary generation",
              "id": "brand_summary_v1",
              "template": "Create a summary for {brand_name}",
              "variables": [
                "brand_name"
              ],
              "version": "1.0.0"
            }
          ],
          "total": 1
        }
      },
      "PubSubMessage": {
        "properties": {
          "data": {
            "type": "string",
            "title": "Data",
            "description": "Base64-encoded JSON payload"
          },
          "messageId": {
            "type": "string",
            "title": "Messageid",
            "description": "Pub/Sub message ID"
          },
          "publishTime": {
            "type": "string",
            "title": "Publishtime",
            "description": "ISO-8601 timestamp"
          }
        },
        "type": "object",
        "required": [
          "data",
          "messageId",
          "publishTime"
        ],
        "title": "PubSubMessage",
        "description": "Inner Pub/Sub message structure."
      },
      "PubSubPushEnvelope": {
        "properties": {
          "message": {
            "$ref": "#/components/schemas/PubSubMessage",
            "description": "The Pub/Sub message"
          },
          "subscription": {
            "type": "string",
            "title": "Subscription",
            "description": "Subscription name"
          }
        },
        "type": "object",
        "required": [
          "message",
          "subscription"
        ],
        "title": "PubSubPushEnvelope",
        "description": "Pub/Sub push subscription envelope format."
      },
      "PublishedPostSummary": {
        "properties": {
          "week_key": {
            "type": "string",
            "title": "Week Key",
            "description": "Week identifier (e.g., week_1)"
          },
          "day_key": {
            "type": "string",
            "title": "Day Key",
            "description": "Day identifier (e.g., day_1)"
          },
          "post_key": {
            "type": "string",
            "title": "Post Key",
            "description": "Post identifier (e.g., post_1)"
          },
          "post_name": {
            "type": "string",
            "title": "Post Name",
            "description": "Unique post name for tracking"
          },
          "scheduled_time": {
            "type": "string",
            "format": "date-time",
            "title": "Scheduled Time",
            "description": "Scheduled publication time"
          }
        },
        "type": "object",
        "required": [
          "week_key",
          "day_key",
          "post_key",
          "post_name",
          "scheduled_time"
        ],
        "title": "PublishedPostSummary",
        "description": "Summary of a single published post within a publication."
      },
      "PulseAckResponse": {
        "properties": {
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Processing status",
            "default": "acknowledged"
          },
          "correlationId": {
            "type": "string",
            "title": "Correlationid",
            "description": "Correlation ID from message"
          },
          "progressPct": {
            "type": "integer",
            "title": "Progresspct",
            "description": "Progress percentage received"
          }
        },
        "type": "object",
        "required": [
          "correlationId",
          "progressPct"
        ],
        "title": "PulseAckResponse",
        "description": "Response for successful pulse processing."
      },
      "PulseStatusResponse": {
        "properties": {
          "correlationId": {
            "type": "string",
            "title": "Correlationid",
            "description": "Correlation ID"
          },
          "campaignId": {
            "type": "integer",
            "title": "Campaignid",
            "description": "Campaign ID"
          },
          "step": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Step",
            "description": "Step name"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Human-readable status message"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Current status"
          },
          "activePostId": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Activepostid",
            "description": "Post currently being generated"
          },
          "timestamp": {
            "type": "string",
            "title": "Timestamp",
            "description": "ISO-8601 timestamp of last update"
          }
        },
        "type": "object",
        "required": [
          "correlationId",
          "campaignId",
          "message",
          "status",
          "timestamp"
        ],
        "title": "PulseStatusResponse",
        "description": "Response for GET /pulses/{correlation_id} polling endpoint."
      },
      "RegenerateResponse": {
        "properties": {
          "requestId": {
            "type": "string",
            "title": "Requestid",
            "description": "UUID of the regeneration request"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Initial status",
            "default": "pending"
          },
          "statusUrl": {
            "type": "string",
            "title": "Statusurl",
            "description": "URL to poll for status"
          },
          "estimatedCompletionSeconds": {
            "type": "integer",
            "title": "Estimatedcompletionseconds",
            "description": "Estimated seconds to completion",
            "default": 30
          }
        },
        "type": "object",
        "required": [
          "requestId",
          "statusUrl"
        ],
        "title": "RegenerateResponse",
        "description": "Response when regeneration request is accepted (202 Accepted) - GATE 7."
      },
      "RejectionReason": {
        "type": "string",
        "enum": [
          "off_brand",
          "low_quality",
          "wrong_scene_type",
          "inappropriate_content",
          "text_error",
          "image_quality",
          "missing_elements",
          "other"
        ],
        "title": "RejectionReason",
        "description": "Structured rejection reasons for HITL workflow analysis.\n\nThese reasons enable aggregation and analysis of why content is being rejected,\nallowing for targeted improvements to content generation.\n\nSee Issue #2058 for requirements."
      },
      "ResendVerificationRequest": {
        "properties": {
          "email": {
            "type": "string",
            "format": "email",
            "title": "Email",
            "description": "User email address"
          }
        },
        "type": "object",
        "required": [
          "email"
        ],
        "title": "ResendVerificationRequest",
        "description": "Schema for resend verification email request.\n\nFor POST /api/v2/verifications/resend endpoint.\nAllows unauthenticated users to request a new verification email.\nSimilar to forgot-password flow - accepts email, returns generic response."
      },
      "ResendVerificationResponse": {
        "properties": {
          "message": {
            "type": "string",
            "title": "Message",
            "description": "User-friendly message (generic for security)",
            "default": "If the email exists and is not yet verified, a verification email has been sent."
          },
          "emailSent": {
            "type": "boolean",
            "title": "Emailsent",
            "description": "Whether email was sent successfully (always True for security)",
            "default": true
          }
        },
        "type": "object",
        "title": "ResendVerificationResponse",
        "description": "Schema for resend verification email response.\n\nReturned after resending verification email.\nReturns generic message to prevent email enumeration attacks."
      },
      "SceneMixAckResponse": {
        "properties": {
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Processing status",
            "default": "acknowledged"
          },
          "correlationId": {
            "type": "string",
            "title": "Correlationid",
            "description": "Correlation ID from message"
          },
          "campaignId": {
            "type": "integer",
            "title": "Campaignid",
            "description": "Campaign ID"
          },
          "planId": {
            "type": "string",
            "title": "Planid",
            "description": "Plan ID that was created/updated"
          }
        },
        "type": "object",
        "required": [
          "correlationId",
          "campaignId",
          "planId"
        ],
        "title": "SceneMixAckResponse",
        "description": "Response for successful scene mix processing."
      },
      "SceneMixPlanCreate": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Plan name"
          },
          "policyId": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Policyid",
            "description": "Associated policy ID"
          },
          "durationDays": {
            "type": "integer",
            "title": "Durationdays",
            "description": "Plan duration in days"
          },
          "postsPerDay": {
            "type": "integer",
            "title": "Postsperday",
            "description": "Number of posts per day"
          },
          "contentMix": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Contentmix",
            "description": "Content type distribution percentages"
          },
          "themes": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Themes",
            "description": "Content themes"
          },
          "keywords": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Keywords",
            "description": "Target keywords"
          },
          "autoGenerate": {
            "type": "boolean",
            "title": "Autogenerate",
            "description": "Auto-generate content on approval",
            "default": false
          },
          "mixGoal": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Mixgoal",
            "description": "Goal/objective for the content mix strategy"
          },
          "rationale": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Rationale",
            "description": "Explanation for the content mix decisions"
          }
        },
        "type": "object",
        "required": [
          "name",
          "durationDays",
          "postsPerDay",
          "contentMix"
        ],
        "title": "SceneMixPlanCreate",
        "description": "Schema for creating a scene mix plan."
      },
      "SceneMixPlanPreviewRequest": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Plan name"
          },
          "policyId": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Policyid",
            "description": "Associated policy ID"
          },
          "durationDays": {
            "type": "integer",
            "title": "Durationdays",
            "description": "Plan duration in days"
          },
          "postsPerDay": {
            "type": "integer",
            "title": "Postsperday",
            "description": "Number of posts per day"
          },
          "contentMix": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Contentmix",
            "description": "Content type distribution percentages"
          },
          "themes": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Themes",
            "description": "Content themes"
          },
          "keywords": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Keywords",
            "description": "Target keywords"
          },
          "mixGoal": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Mixgoal",
            "description": "Goal/objective for the content mix strategy"
          },
          "rationale": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Rationale",
            "description": "Explanation for the content mix decisions"
          },
          "explorationRate": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Explorationrate",
            "description": "Exploration rate for policy adjustments",
            "default": 0.15
          }
        },
        "type": "object",
        "required": [
          "name",
          "durationDays",
          "postsPerDay",
          "contentMix"
        ],
        "title": "SceneMixPlanPreviewRequest",
        "description": "Schema for previewing a scene mix plan."
      },
      "SceneMixPlanPreviewResponse": {
        "properties": {
          "policyVersion": {
            "type": "string",
            "title": "Policyversion",
            "description": "Policy version",
            "default": "v1"
          },
          "mixGoal": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Mixgoal",
            "description": "Mix goal distribution (human, product, ingredient)"
          },
          "subtypeWeights": {
            "additionalProperties": {
              "additionalProperties": {
                "type": "number"
              },
              "type": "object"
            },
            "type": "object",
            "title": "Subtypeweights",
            "description": "Subtype weights for each content category"
          },
          "rationale": {
            "type": "string",
            "title": "Rationale",
            "description": "Explanation for the selected mix"
          },
          "explorationRate": {
            "type": "number",
            "title": "Explorationrate",
            "description": "Exploration rate for policy adjustments",
            "default": 0.15
          },
          "diversityMetrics": {
            "$ref": "#/components/schemas/DiversityMetrics",
            "description": "Diversity metrics for the plan"
          },
          "estimatedPosts": {
            "type": "integer",
            "title": "Estimatedposts",
            "description": "Estimated total posts for the plan duration"
          },
          "weeksPreview": {
            "items": {
              "$ref": "#/components/schemas/WeekPlan"
            },
            "type": "array",
            "title": "Weekspreview",
            "description": "Preview of week-by-week post planning"
          }
        },
        "type": "object",
        "required": [
          "mixGoal",
          "subtypeWeights",
          "rationale",
          "diversityMetrics",
          "estimatedPosts"
        ],
        "title": "SceneMixPlanPreviewResponse",
        "description": "Schema for scene mix plan preview response with diversity metrics."
      },
      "SceneMixPlanResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Plan ID"
          },
          "campaignId": {
            "type": "string",
            "title": "Campaignid",
            "description": "Campaign ID"
          },
          "policyId": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Policyid",
            "description": "Associated policy ID"
          },
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Plan name"
          },
          "durationDays": {
            "type": "integer",
            "title": "Durationdays",
            "description": "Plan duration in days"
          },
          "postsPerDay": {
            "type": "integer",
            "title": "Postsperday",
            "description": "Number of posts per day"
          },
          "contentMix": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Contentmix",
            "description": "Content type distribution"
          },
          "themes": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Themes",
            "description": "Content themes"
          },
          "keywords": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Keywords",
            "description": "Target keywords"
          },
          "autoGenerate": {
            "type": "boolean",
            "title": "Autogenerate",
            "description": "Auto-generate enabled",
            "default": false
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Plan status (draft, active, completed)",
            "default": "draft"
          },
          "weeks": {
            "items": {
              "$ref": "#/components/schemas/WeekPlan"
            },
            "type": "array",
            "title": "Weeks",
            "description": "Detailed week-by-week post planning"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "title": "Createdat",
            "description": "Creation timestamp"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "title": "Updatedat",
            "description": "Last update timestamp"
          },
          "executionStats": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Executionstats",
            "description": "Execution statistics"
          },
          "mixGoal": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Mixgoal",
            "description": "Goal/objective for the content mix strategy"
          },
          "subtypeWeights": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "number"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Subtypeweights",
            "description": "Weights for content subtypes (alias for content_mix)"
          },
          "rationale": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Rationale",
            "description": "Explanation for the content mix decisions"
          }
        },
        "type": "object",
        "required": [
          "id",
          "campaignId",
          "name",
          "durationDays",
          "postsPerDay",
          "contentMix",
          "createdAt",
          "updatedAt"
        ],
        "title": "SceneMixPlanResponse",
        "description": "Schema for scene mix plan response."
      },
      "SceneMixPlanUpdate": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Name",
            "description": "Plan name"
          },
          "policyId": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Policyid",
            "description": "Associated policy ID"
          },
          "durationDays": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Durationdays",
            "description": "Plan duration in days"
          },
          "postsPerDay": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Postsperday",
            "description": "Number of posts per day"
          },
          "contentMix": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "number"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Contentmix",
            "description": "Content type distribution percentages"
          },
          "themes": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Themes",
            "description": "Content themes"
          },
          "keywords": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Keywords",
            "description": "Target keywords"
          },
          "autoGenerate": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Autogenerate",
            "description": "Auto-generate content on approval"
          },
          "status": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Status",
            "description": "Plan status"
          },
          "mixGoal": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Mixgoal",
            "description": "Goal/objective for the content mix strategy"
          },
          "rationale": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Rationale",
            "description": "Explanation for the content mix decisions"
          }
        },
        "type": "object",
        "title": "SceneMixPlanUpdate",
        "description": "Schema for updating a scene mix plan."
      },
      "SceneMixPolicyCreate": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Policy name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "Policy description"
          },
          "contentTypes": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Contenttypes",
            "description": "Allowed content types"
          },
          "platforms": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Platforms",
            "description": "Target platforms"
          },
          "frequencyRules": {
            "additionalProperties": true,
            "type": "object",
            "title": "Frequencyrules",
            "description": "Content frequency rules"
          },
          "diversitySettings": {
            "additionalProperties": true,
            "type": "object",
            "title": "Diversitysettings",
            "description": "Content diversity settings"
          },
          "qualityThresholds": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Qualitythresholds",
            "description": "Quality thresholds"
          },
          "active": {
            "type": "boolean",
            "title": "Active",
            "description": "Whether policy is active",
            "default": true
          }
        },
        "type": "object",
        "required": [
          "name",
          "contentTypes",
          "platforms",
          "frequencyRules"
        ],
        "title": "SceneMixPolicyCreate",
        "description": "Schema for creating a scene mix policy."
      },
      "SceneMixPolicyResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Policy ID"
          },
          "campaignId": {
            "type": "string",
            "title": "Campaignid",
            "description": "Campaign ID"
          },
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Policy name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "Policy description"
          },
          "contentTypes": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Contenttypes",
            "description": "Allowed content types"
          },
          "platforms": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Platforms",
            "description": "Target platforms"
          },
          "frequencyRules": {
            "additionalProperties": true,
            "type": "object",
            "title": "Frequencyrules",
            "description": "Content frequency rules"
          },
          "diversitySettings": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Diversitysettings",
            "description": "Content diversity settings"
          },
          "qualityThresholds": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "number"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Qualitythresholds",
            "description": "Quality thresholds"
          },
          "active": {
            "type": "boolean",
            "title": "Active",
            "description": "Whether policy is active",
            "default": true
          },
          "scenes": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/ScenePolicy"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Scenes",
            "description": "Scene-specific policies"
          },
          "diversityScore": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 100.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Diversityscore",
            "description": "Content diversity score"
          },
          "consistencyLevel": {
            "anyOf": [
              {
                "type": "string",
                "enum": [
                  "low",
                  "medium",
                  "high"
                ]
              },
              {
                "type": "null"
              }
            ],
            "title": "Consistencylevel",
            "description": "Consistency enforcement level"
          },
          "createdAt": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Createdat",
            "description": "Creation timestamp"
          },
          "updatedAt": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updatedat",
            "description": "Last update timestamp"
          }
        },
        "type": "object",
        "required": [
          "id",
          "campaignId",
          "name",
          "contentTypes",
          "platforms",
          "frequencyRules"
        ],
        "title": "SceneMixPolicyResponse",
        "description": "Schema for scene mix policy response."
      },
      "ScenePolicy": {
        "properties": {
          "sceneType": {
            "type": "string",
            "title": "Scenetype",
            "description": "Type of scene (e.g., 'product', 'lifestyle', 'testimonial')"
          },
          "minFrequency": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Minfrequency",
            "description": "Minimum occurrence frequency"
          },
          "maxFrequency": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Maxfrequency",
            "description": "Maximum occurrence frequency"
          },
          "priority": {
            "type": "integer",
            "maximum": 10.0,
            "minimum": 1.0,
            "title": "Priority",
            "description": "Scene priority (1-10)"
          }
        },
        "type": "object",
        "required": [
          "sceneType",
          "minFrequency",
          "maxFrequency",
          "priority"
        ],
        "title": "ScenePolicy",
        "description": "Schema for individual scene policy configuration."
      },
      "SceneTypeLearningSignal": {
        "properties": {
          "sceneType": {
            "type": "string",
            "title": "Scenetype",
            "description": "Scene type identifier"
          },
          "expectedValue": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Expectedvalue",
            "description": "Expected performance value from Thompson Sampling"
          },
          "observations": {
            "type": "integer",
            "title": "Observations",
            "description": "Number of feedback observations",
            "default": 0
          },
          "successRate": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Successrate",
            "description": "Historical success/approval rate",
            "default": 0.0
          },
          "avgCtr": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Avgctr",
            "description": "Average click-through rate"
          },
          "avgEr": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Avger",
            "description": "Average engagement rate"
          },
          "avgCvr": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Avgcvr",
            "description": "Average conversion rate"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Status: 'performing', 'stable', 'underperforming', 'insufficient_data'",
            "default": "stable"
          }
        },
        "type": "object",
        "required": [
          "sceneType",
          "expectedValue"
        ],
        "title": "SceneTypeLearningSignal",
        "description": "Learning signal for a specific scene type."
      },
      "ScheduledPostListResponse": {
        "properties": {
          "posts": {
            "items": {
              "$ref": "#/components/schemas/ScheduledPostResponse"
            },
            "type": "array",
            "title": "Posts",
            "description": "List of scheduled posts"
          },
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "Total number of scheduled posts"
          },
          "campaignId": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Campaignid",
            "description": "Campaign filter if applied"
          },
          "statusFilter": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ScheduledPostStatus"
              },
              {
                "type": "null"
              }
            ],
            "description": "Status filter if applied"
          }
        },
        "type": "object",
        "required": [
          "total"
        ],
        "title": "ScheduledPostListResponse",
        "description": "Response schema for listing scheduled posts."
      },
      "ScheduledPostResponse": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id",
            "description": "Database ID"
          },
          "postId": {
            "type": "string",
            "title": "Postid",
            "description": "Unique post identifier"
          },
          "campaignId": {
            "type": "integer",
            "title": "Campaignid",
            "description": "Campaign ID"
          },
          "weekKey": {
            "type": "string",
            "title": "Weekkey",
            "description": "Week identifier (e.g., week_1)"
          },
          "dayKey": {
            "type": "string",
            "title": "Daykey",
            "description": "Day identifier (e.g., day_1)"
          },
          "postKey": {
            "type": "string",
            "title": "Postkey",
            "description": "Post identifier (e.g., post_1)"
          },
          "scheduledTime": {
            "type": "string",
            "format": "date-time",
            "title": "Scheduledtime",
            "description": "When the post will be published"
          },
          "timezone": {
            "type": "string",
            "title": "Timezone",
            "description": "IANA timezone string"
          },
          "status": {
            "$ref": "#/components/schemas/ScheduledPostStatus",
            "description": "Current status"
          },
          "caption": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Caption",
            "description": "Post caption"
          },
          "imageUrl": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Imageurl",
            "description": "Post image URL"
          },
          "instagramAccountId": {
            "type": "string",
            "title": "Instagramaccountid",
            "description": "Instagram account ID"
          },
          "instagramPostId": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Instagrampostid",
            "description": "Instagram post ID after publishing"
          },
          "schedulerJobName": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Schedulerjobname",
            "description": "Cloud Scheduler job name"
          },
          "errorMessage": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Errormessage",
            "description": "Error message if failed"
          },
          "retryCount": {
            "type": "integer",
            "title": "Retrycount",
            "description": "Number of retry attempts",
            "default": 0
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "title": "Createdat",
            "description": "Creation timestamp"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "title": "Updatedat",
            "description": "Last update timestamp"
          },
          "publishedAt": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Publishedat",
            "description": "When post was published"
          }
        },
        "type": "object",
        "required": [
          "id",
          "postId",
          "campaignId",
          "weekKey",
          "dayKey",
          "postKey",
          "scheduledTime",
          "timezone",
          "status",
          "instagramAccountId",
          "createdAt",
          "updatedAt"
        ],
        "title": "ScheduledPostResponse",
        "description": "Response schema for a scheduled post."
      },
      "ScheduledPostStatus": {
        "type": "string",
        "enum": [
          "scheduled",
          "publishing",
          "published",
          "failed",
          "cancelled"
        ],
        "title": "ScheduledPostStatus",
        "description": "Status of a scheduled post."
      },
      "ScheduledPostStatusUpdate": {
        "properties": {
          "status": {
            "$ref": "#/components/schemas/ScheduledPostStatus",
            "description": "New status"
          },
          "errorMessage": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Errormessage",
            "description": "Error message if status is FAILED"
          },
          "instagramPostId": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Instagrampostid",
            "description": "Instagram post ID if published"
          },
          "publishedAt": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Publishedat",
            "description": "Timestamp when published"
          }
        },
        "type": "object",
        "required": [
          "status"
        ],
        "title": "ScheduledPostStatusUpdate",
        "description": "Request schema for updating scheduled post status.\n\nUsed by campaign-publisher worker to update status after publishing."
      },
      "ServiceType": {
        "type": "string",
        "enum": [
          "brand_crawl",
          "content_generation"
        ],
        "title": "ServiceType",
        "description": "Type of agentic service that produced the pulse.\n\nUsed to distinguish pulses from different workflows while\nmaintaining a unified polling endpoint."
      },
      "SessionRequest": {
        "properties": {
          "grantType": {
            "type": "string",
            "pattern": "^(password|refresh_token)$",
            "title": "Granttype",
            "description": "Grant type: 'password' for login, 'refresh_token' for token refresh",
            "default": "password"
          },
          "email": {
            "anyOf": [
              {
                "type": "string",
                "format": "email"
              },
              {
                "type": "null"
              }
            ],
            "title": "Email",
            "description": "User email address (required for password grant)"
          },
          "password": {
            "anyOf": [
              {
                "type": "string",
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Password",
            "description": "User password (required for password grant)"
          },
          "refreshToken": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Refreshtoken",
            "description": "Refresh token from previous session (required for refresh_token grant)"
          }
        },
        "type": "object",
        "title": "SessionRequest",
        "description": "Schema for unified session management (RMM L2 compliant).\n\nFor POST /api/v2/sessions endpoint.\nSupports multiple grant types following OAuth2 patterns:\n- grant_type: \"password\" - Login with email/password (default)\n- grant_type: \"refresh_token\" - Refresh an existing session\n\nRMM Level 2 Compliance:\n- Single resource-based URL: /sessions\n- HTTP method (POST) indicates create/update action\n- Grant type in body differentiates login vs refresh\n- No verbs in URL path\n\nExamples:\n    Login: {\"grant_type\": \"password\", \"email\": \"user@example.com\", \"password\": \"secret\"}\n    Refresh: {\"grant_type\": \"refresh_token\", \"refresh_token\": \"eyJ...\"}"
      },
      "SessionResponse": {
        "properties": {
          "accessToken": {
            "type": "string",
            "title": "Accesstoken",
            "description": "JWT access token"
          },
          "refreshToken": {
            "type": "string",
            "title": "Refreshtoken",
            "description": "Refresh token for next refresh"
          },
          "tokenType": {
            "type": "string",
            "title": "Tokentype",
            "description": "Token type (always 'bearer')",
            "default": "bearer"
          },
          "expiresIn": {
            "type": "integer",
            "title": "Expiresin",
            "description": "Token expiration time in seconds from now"
          },
          "user": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/UserResponse"
              },
              {
                "type": "null"
              }
            ],
            "description": "User profile (included for password grant, optional for refresh)"
          }
        },
        "type": "object",
        "required": [
          "accessToken",
          "refreshToken",
          "expiresIn"
        ],
        "title": "SessionResponse",
        "description": "Unified session response for RMM L2 compliant sessions endpoint.\n\nUsed by POST /api/v2/sessions for both login and token refresh.\nContains all fields needed for both use cases.\n\nFor password grant (login):\n- user: User profile data\n- access_token: JWT access token\n- refresh_token: Token for refreshing session\n- token_type: Always \"bearer\"\n- expires_in: Token expiration in seconds\n\nFor refresh_token grant:\n- access_token: New JWT access token\n- refresh_token: New refresh token\n- token_type: Always \"bearer\"\n- expires_in: Token expiration in seconds\n- user: Optional (may be omitted for refresh)"
      },
      "SignupCreate": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 255,
            "minLength": 2,
            "title": "Name",
            "description": "Signup name"
          },
          "email": {
            "type": "string",
            "format": "email",
            "title": "Email",
            "description": "Signup email address"
          },
          "industry": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Industry",
            "description": "Industry (optional - crawler extracts automatically)"
          }
        },
        "type": "object",
        "required": [
          "name",
          "email"
        ],
        "title": "SignupCreate",
        "description": "Schema for creating a new signup.\n\nUsed for landing page beta signup form submissions."
      },
      "SignupResponse": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 255,
            "minLength": 2,
            "title": "Name",
            "description": "Signup name"
          },
          "email": {
            "type": "string",
            "format": "email",
            "title": "Email",
            "description": "Signup email address"
          },
          "industry": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255
              },
              {
                "type": "null"
              }
            ],
            "title": "Industry",
            "description": "Industry (optional - crawler extracts automatically)"
          },
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id",
            "description": "Signup ID"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "title": "Createdat",
            "description": "Signup creation timestamp"
          }
        },
        "type": "object",
        "required": [
          "name",
          "email",
          "id",
          "createdAt"
        ],
        "title": "SignupResponse",
        "description": "Schema for signup responses.\n\nReturned after successful signup creation."
      },
      "StatusErrorResponse": {
        "properties": {
          "message": {
            "type": "string",
            "title": "Message"
          },
          "code": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Code"
          }
        },
        "type": "object",
        "required": [
          "message"
        ],
        "title": "StatusErrorResponse",
        "description": "Error info."
      },
      "StatusProgressResponse": {
        "properties": {
          "step": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Step"
          },
          "percentage": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Percentage"
          }
        },
        "type": "object",
        "title": "StatusProgressResponse",
        "description": "Progress info with camelCase."
      },
      "StatusResultResponse": {
        "properties": {
          "versionId": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Versionid"
          },
          "mediaUrl": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Mediaurl"
          },
          "text": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Text"
          }
        },
        "type": "object",
        "title": "StatusResultResponse",
        "description": "Result info with camelCase."
      },
      "StoryArc": {
        "type": "string",
        "enum": [
          "problem_solution",
          "before_after",
          "list_format",
          "testimonial",
          "educational"
        ],
        "title": "StoryArc",
        "description": "Narrative structure options for captions.\n\nDefines the overall narrative flow of the caption.\n- PROBLEM_SOLUTION: Present problem, offer solution\n- BEFORE_AFTER: Transformation narrative\n- LIST_FORMAT: Numbered or bulleted points\n- TESTIMONIAL: Social proof/customer story\n- EDUCATIONAL: Teaching/informative structure"
      },
      "StuckProcessCategorySummary": {
        "properties": {
          "count": {
            "type": "integer",
            "title": "Count",
            "description": "Number of stuck processes in this category"
          },
          "items": {
            "items": {
              "$ref": "#/components/schemas/StuckProcessItem"
            },
            "type": "array",
            "title": "Items",
            "description": "Stuck process details"
          }
        },
        "type": "object",
        "required": [
          "count"
        ],
        "title": "StuckProcessCategorySummary",
        "description": "Summary for a single category of stuck processes."
      },
      "StuckProcessItem": {
        "properties": {
          "category": {
            "type": "string",
            "title": "Category",
            "description": "Process category (brand_crawl, content_generation, video_job, quality_gate_loop)"
          },
          "entity_id": {
            "type": "string",
            "title": "Entity Id",
            "description": "ID of the stuck entity (brand ID, content ID, job ID, or post ID)"
          },
          "description": {
            "type": "string",
            "title": "Description",
            "description": "Human-readable description of the stuck state"
          },
          "stuck_since": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Stuck Since",
            "description": "ISO-8601 timestamp when the process was last updated"
          },
          "duration_seconds": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Duration Seconds",
            "description": "How long the process has been stuck (seconds)"
          },
          "metadata": {
            "additionalProperties": true,
            "type": "object",
            "title": "Metadata",
            "description": "Additional context-specific metadata"
          }
        },
        "type": "object",
        "required": [
          "category",
          "entity_id",
          "description"
        ],
        "title": "StuckProcessItem",
        "description": "A single stuck process entry."
      },
      "StuckProcessesResponse": {
        "properties": {
          "checked_at": {
            "type": "string",
            "title": "Checked At",
            "description": "ISO-8601 timestamp of when the check was performed"
          },
          "total_stuck": {
            "type": "integer",
            "title": "Total Stuck",
            "description": "Total number of stuck processes across all categories"
          },
          "brand_crawls": {
            "$ref": "#/components/schemas/StuckProcessCategorySummary",
            "description": "Stuck brand crawl processes"
          },
          "content_generation": {
            "$ref": "#/components/schemas/StuckProcessCategorySummary",
            "description": "Stuck content generation processes"
          },
          "video_jobs": {
            "$ref": "#/components/schemas/StuckProcessCategorySummary",
            "description": "Stuck video generation jobs"
          },
          "quality_gate_loops": {
            "$ref": "#/components/schemas/StuckProcessCategorySummary",
            "description": "Posts stuck in quality gate revision loops"
          },
          "thresholds": {
            "additionalProperties": true,
            "type": "object",
            "title": "Thresholds",
            "description": "Active threshold configuration used for detection"
          }
        },
        "type": "object",
        "required": [
          "checked_at",
          "total_stuck",
          "brand_crawls",
          "content_generation",
          "video_jobs",
          "quality_gate_loops"
        ],
        "title": "StuckProcessesResponse",
        "description": "Response schema for GET /admin/health/processes/stuck."
      },
      "SystemConfigListResponse": {
        "properties": {
          "configs": {
            "items": {
              "$ref": "#/components/schemas/SystemConfigResponse"
            },
            "type": "array",
            "title": "Configs",
            "description": "List of config entries"
          },
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "Total count"
          }
        },
        "type": "object",
        "required": [
          "configs",
          "total"
        ],
        "title": "SystemConfigListResponse",
        "description": "Response schema for list of config entries."
      },
      "SystemConfigResponse": {
        "properties": {
          "key": {
            "type": "string",
            "title": "Key",
            "description": "Config key"
          },
          "value": {
            "type": "string",
            "title": "Value",
            "description": "Config value"
          },
          "value_type": {
            "type": "string",
            "title": "Value Type",
            "description": "Value type: string, integer, boolean, json"
          },
          "category": {
            "type": "string",
            "title": "Category",
            "description": "Config category"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "Human-readable description"
          },
          "updated_by": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated By",
            "description": "User ID who last updated"
          },
          "updated_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated At",
            "description": "Last update timestamp"
          }
        },
        "type": "object",
        "required": [
          "key",
          "value",
          "value_type",
          "category"
        ],
        "title": "SystemConfigResponse",
        "description": "Response schema for a system config entry."
      },
      "SystemConfigUpdateRequest": {
        "properties": {
          "value": {
            "type": "string",
            "title": "Value",
            "description": "New value for the config key"
          }
        },
        "type": "object",
        "required": [
          "value"
        ],
        "title": "SystemConfigUpdateRequest",
        "description": "Request schema for updating a config value."
      },
      "TextPosition": {
        "type": "string",
        "enum": [
          "top",
          "center",
          "bottom",
          "none"
        ],
        "title": "TextPosition",
        "description": "Text overlay positions."
      },
      "ThompsonSamplingRecommendation": {
        "properties": {
          "brand_id": {
            "type": "string",
            "title": "Brand Id"
          },
          "recommended_scene_type": {
            "type": "string",
            "title": "Recommended Scene Type",
            "description": "Scene type selected by Thompson Sampling"
          },
          "scene_probabilities": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Scene Probabilities",
            "description": "Expected success rate (posterior mean) for each scene type"
          },
          "exploration_mode": {
            "type": "boolean",
            "title": "Exploration Mode",
            "description": "Whether this was an exploration (random) selection"
          },
          "min_observations_met": {
            "type": "boolean",
            "title": "Min Observations Met",
            "description": "Whether minimum observation threshold was met"
          }
        },
        "type": "object",
        "required": [
          "brand_id",
          "recommended_scene_type",
          "scene_probabilities",
          "exploration_mode",
          "min_observations_met"
        ],
        "title": "ThompsonSamplingRecommendation",
        "description": "Response schema for Thompson Sampling scene recommendation."
      },
      "ThreadMessageCreate": {
        "properties": {
          "role": {
            "type": "string",
            "title": "Role",
            "description": "Message role: 'user' or 'assistant'"
          },
          "content": {
            "type": "string",
            "maxLength": 10000,
            "minLength": 1,
            "title": "Content",
            "description": "Message content"
          }
        },
        "type": "object",
        "required": [
          "role",
          "content"
        ],
        "title": "ThreadMessageCreate",
        "description": "Schema for creating a new thread message.",
        "example": {
          "content": "Help me create content for my campaign",
          "role": "user"
        }
      },
      "ThreadMessageResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Message UUID"
          },
          "thread_id": {
            "type": "string",
            "title": "Thread Id",
            "description": "Thread UUID"
          },
          "role": {
            "type": "string",
            "title": "Role",
            "description": "Message role: 'user' or 'assistant'"
          },
          "content": {
            "type": "string",
            "title": "Content",
            "description": "Message content"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "Message creation timestamp"
          }
        },
        "type": "object",
        "required": [
          "id",
          "thread_id",
          "role",
          "content",
          "created_at"
        ],
        "title": "ThreadMessageResponse",
        "description": "Schema for thread message response.",
        "example": {
          "content": "Help me create content for my campaign",
          "created_at": "2024-01-15T10:00:00Z",
          "id": "msg-550e8400-e29b-41d4-a716-446655440000",
          "role": "user",
          "thread_id": "thread-550e8400-e29b-41d4-a716-446655440001"
        }
      },
      "ThumbsFeedbackCreate": {
        "properties": {
          "feedbackType": {
            "type": "string",
            "enum": [
              "thumbs",
              "edit",
              "selection",
              "performance"
            ],
            "title": "Feedbacktype",
            "description": "Type of feedback being submitted"
          },
          "value": {
            "type": "string",
            "title": "Value",
            "description": "Feedback value - 'up'/'down' for thumbs, actual content for edit"
          },
          "metadata": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metadata",
            "description": "Optional additional context"
          }
        },
        "type": "object",
        "required": [
          "feedbackType",
          "value"
        ],
        "title": "ThumbsFeedbackCreate",
        "description": "Schema for submitting thumbs up/down feedback on generated content.\n\nPhase 1 ML improvements: Simple feedback mechanism for quick user input.\nUsed for POST /api/v2/campaigns/{campaign_id}/posts/{post_id}/feedback"
      },
      "ThumbsFeedbackResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "postId": {
            "type": "string",
            "title": "Postid"
          },
          "campaignId": {
            "type": "string",
            "title": "Campaignid"
          },
          "feedbackType": {
            "type": "string",
            "title": "Feedbacktype"
          },
          "value": {
            "type": "string",
            "title": "Value"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "title": "Createdat"
          }
        },
        "type": "object",
        "required": [
          "id",
          "postId",
          "campaignId",
          "feedbackType",
          "value",
          "createdAt"
        ],
        "title": "ThumbsFeedbackResponse",
        "description": "Response schema for thumbs feedback submission."
      },
      "ToneAttributesV2": {
        "properties": {
          "formality": {
            "type": "string",
            "title": "Formality",
            "description": "Formality level (casual, professional, formal)"
          },
          "enthusiasm": {
            "type": "string",
            "title": "Enthusiasm",
            "description": "Enthusiasm level (low, medium, high)"
          },
          "expertise": {
            "type": "string",
            "title": "Expertise",
            "description": "Expertise level (beginner, intermediate, expert)"
          }
        },
        "type": "object",
        "required": [
          "formality",
          "enthusiasm",
          "expertise"
        ],
        "title": "ToneAttributesV2",
        "description": "V2 Tone attributes for brand knowledge."
      },
      "UnifiedPulseStatusResponse": {
        "properties": {
          "correlationId": {
            "type": "string",
            "title": "Correlationid",
            "description": "Correlation ID for this workflow"
          },
          "serviceType": {
            "$ref": "#/components/schemas/ServiceType",
            "description": "Type of agentic service (brand_crawl, content_generation)"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Human-readable status message"
          },
          "timestamp": {
            "type": "string",
            "title": "Timestamp",
            "description": "ISO-8601 timestamp of last update"
          },
          "progressPct": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 100.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Progresspct",
            "description": "Progress percentage (0-100)"
          },
          "step": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Step",
            "description": "Step name"
          },
          "status": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Status",
            "description": "Workflow status (in_progress, completed, failed)"
          },
          "campaignId": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Campaignid",
            "description": "Campaign ID (content_generation only)"
          },
          "activePostId": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Activepostid",
            "description": "Post being generated (content_generation only)"
          }
        },
        "type": "object",
        "required": [
          "correlationId",
          "serviceType",
          "message",
          "timestamp"
        ],
        "title": "UnifiedPulseStatusResponse",
        "description": "Unified response for GET /pulses/{correlation_id} endpoint.\n\nThis schema provides a consistent response format for pulses from\nany agentic service. The service_type field indicates the source.\n\nIssue #2428: Frontend polls single endpoint for all agentic status."
      },
      "UpdateContextualBanditRequest": {
        "properties": {
          "arm": {
            "type": "string",
            "title": "Arm",
            "description": "Arm (scene type) that received feedback",
            "examples": [
              "lifestyle",
              "product",
              "testimonial",
              "educational"
            ]
          },
          "context": {
            "$ref": "#/components/schemas/ContentContext",
            "description": "Context at time of decision"
          },
          "reward": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Reward",
            "description": "Engagement reward signal (0=negative, 1=positive)"
          }
        },
        "type": "object",
        "required": [
          "arm",
          "context",
          "reward"
        ],
        "title": "UpdateContextualBanditRequest",
        "description": "Request schema for updating contextual bandit after feedback."
      },
      "UpdateContextualBanditResponse": {
        "properties": {
          "brand_id": {
            "type": "string",
            "title": "Brand Id"
          },
          "arm": {
            "type": "string",
            "title": "Arm"
          },
          "observation_count": {
            "type": "integer",
            "title": "Observation Count",
            "description": "Total observations after update"
          },
          "model_updated": {
            "type": "boolean",
            "title": "Model Updated",
            "description": "Whether model weights were updated"
          }
        },
        "type": "object",
        "required": [
          "brand_id",
          "arm",
          "observation_count",
          "model_updated"
        ],
        "title": "UpdateContextualBanditResponse",
        "description": "Response schema after updating contextual bandit model."
      },
      "UpdateLearningStateRequest": {
        "properties": {
          "scene_type": {
            "type": "string",
            "title": "Scene Type",
            "description": "Scene type that received feedback",
            "examples": [
              "lifestyle",
              "product",
              "testimonial",
              "educational"
            ]
          },
          "reward": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Reward",
            "description": "Engagement reward signal (0=negative, 1=positive, 0.5=neutral)"
          }
        },
        "type": "object",
        "required": [
          "scene_type",
          "reward"
        ],
        "title": "UpdateLearningStateRequest",
        "description": "Request schema for updating learning state after feedback."
      },
      "UpdateLearningStateResponse": {
        "properties": {
          "brand_id": {
            "type": "string",
            "title": "Brand Id"
          },
          "scene_type": {
            "type": "string",
            "title": "Scene Type"
          },
          "previous_alpha": {
            "type": "number",
            "title": "Previous Alpha"
          },
          "previous_beta": {
            "type": "number",
            "title": "Previous Beta"
          },
          "new_alpha": {
            "type": "number",
            "title": "New Alpha"
          },
          "new_beta": {
            "type": "number",
            "title": "New Beta"
          },
          "observation_count": {
            "type": "integer",
            "title": "Observation Count"
          },
          "expected_success_rate": {
            "type": "number",
            "title": "Expected Success Rate"
          }
        },
        "type": "object",
        "required": [
          "brand_id",
          "scene_type",
          "previous_alpha",
          "previous_beta",
          "new_alpha",
          "new_beta",
          "observation_count",
          "expected_success_rate"
        ],
        "title": "UpdateLearningStateResponse",
        "description": "Response schema after updating learning state."
      },
      "UserRegistrationResponse": {
        "properties": {
          "user": {
            "$ref": "#/components/schemas/UserResponse",
            "description": "Created user profile"
          },
          "emailVerificationSent": {
            "type": "boolean",
            "title": "Emailverificationsent",
            "description": "Whether email verification was sent"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "User-friendly message",
            "default": "Registration successful. Please check your email to verify your account."
          }
        },
        "type": "object",
        "required": [
          "user",
          "emailVerificationSent"
        ],
        "title": "UserRegistrationResponse",
        "description": "Schema for user registration response.\n\nReturned after successful registration, includes status of email verification."
      },
      "UserResponse": {
        "properties": {
          "email": {
            "type": "string",
            "format": "email",
            "title": "Email",
            "description": "User email address"
          },
          "name": {
            "type": "string",
            "maxLength": 255,
            "minLength": 1,
            "title": "Name",
            "description": "User full name"
          },
          "id": {
            "type": "string",
            "title": "Id",
            "description": "User ID"
          },
          "emailVerified": {
            "type": "boolean",
            "title": "Emailverified",
            "description": "Whether email has been verified"
          },
          "plan": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Plan",
            "description": "Subscription plan"
          },
          "role": {
            "type": "string",
            "title": "Role",
            "description": "User role",
            "default": "user"
          },
          "isAdmin": {
            "type": "boolean",
            "title": "Isadmin",
            "description": "Whether user has admin privileges",
            "default": false
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "title": "Createdat",
            "description": "Account creation timestamp"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "title": "Updatedat",
            "description": "Last update timestamp"
          }
        },
        "type": "object",
        "required": [
          "email",
          "name",
          "id",
          "emailVerified",
          "createdAt",
          "updatedAt"
        ],
        "title": "UserResponse",
        "description": "Schema for user responses.\n\nExcludes sensitive fields like password_hash.\nIncludes all public profile information."
      },
      "ValidationError": {
        "properties": {
          "loc": {
            "items": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                }
              ]
            },
            "type": "array",
            "title": "Location"
          },
          "msg": {
            "type": "string",
            "title": "Message"
          },
          "type": {
            "type": "string",
            "title": "Error Type"
          }
        },
        "type": "object",
        "required": [
          "loc",
          "msg",
          "type"
        ],
        "title": "ValidationError"
      },
      "VersionHistoryResponse": {
        "properties": {
          "postId": {
            "type": "string",
            "title": "Postid"
          },
          "latestVersion": {
            "type": "integer",
            "title": "Latestversion"
          },
          "totalVersions": {
            "type": "integer",
            "title": "Totalversions"
          },
          "versions": {
            "items": {
              "$ref": "#/components/schemas/PostVersionItemResponse"
            },
            "type": "array",
            "title": "Versions"
          }
        },
        "type": "object",
        "required": [
          "postId",
          "latestVersion",
          "totalVersions",
          "versions"
        ],
        "title": "VersionHistoryResponse",
        "description": "Version history response with camelCase aliases."
      },
      "VersionModifications": {
        "properties": {
          "feedback": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Feedback",
            "description": "User feedback to incorporate"
          },
          "tone": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tone",
            "description": "Desired tone: professional, casual, etc."
          },
          "prompt": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Prompt",
            "description": "New/modified prompt for media"
          },
          "style": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Style",
            "description": "Style transfer to apply"
          },
          "keep_composition": {
            "type": "boolean",
            "title": "Keep Composition",
            "description": "Preserve layout/composition",
            "default": true
          }
        },
        "type": "object",
        "title": "VersionModifications",
        "description": "Modification parameters for version creation."
      },
      "VersionRequestTarget": {
        "type": "string",
        "enum": [
          "text",
          "media",
          "all"
        ],
        "title": "VersionRequestTarget",
        "description": "Target type for version generation."
      },
      "VersionStatusResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "status": {
            "type": "string",
            "title": "Status"
          },
          "progress": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/StatusProgressResponse"
              },
              {
                "type": "null"
              }
            ]
          },
          "result": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/StatusResultResponse"
              },
              {
                "type": "null"
              }
            ]
          },
          "error": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/StatusErrorResponse"
              },
              {
                "type": "null"
              }
            ]
          },
          "createdAt": {
            "type": "string",
            "title": "Createdat"
          },
          "startedAt": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Startedat"
          },
          "completedAt": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Completedat"
          }
        },
        "type": "object",
        "required": [
          "id",
          "status",
          "createdAt"
        ],
        "title": "VersionStatusResponse",
        "description": "Status polling response with camelCase aliases."
      },
      "VideoApprovalResponse": {
        "properties": {
          "jobId": {
            "type": "string",
            "title": "Jobid",
            "description": "UUID of the video generation job"
          },
          "postId": {
            "type": "string",
            "title": "Postid",
            "description": "ID of the associated post"
          },
          "status": {
            "$ref": "#/components/schemas/VideoJobStatus",
            "description": "Job status (approved)",
            "default": "approved"
          },
          "approvedAt": {
            "type": "string",
            "format": "date-time",
            "title": "Approvedat",
            "description": "Timestamp when approved"
          }
        },
        "type": "object",
        "required": [
          "jobId",
          "postId",
          "approvedAt"
        ],
        "title": "VideoApprovalResponse",
        "description": "Response schema for video approval.\n\nAttributes:\n    job_id: UUID of the approved job\n    post_id: ID of the associated post\n    status: New status (approved)\n    approved_at: Timestamp when approved"
      },
      "VideoConvertStaticResponse": {
        "properties": {
          "postId": {
            "type": "string",
            "title": "Postid",
            "description": "ID of the post"
          },
          "jobId": {
            "type": "string",
            "title": "Jobid",
            "description": "UUID of the video job"
          },
          "status": {
            "$ref": "#/components/schemas/VideoJobStatus",
            "description": "Job status after conversion",
            "default": "cancelled"
          },
          "convertedAt": {
            "type": "string",
            "format": "date-time",
            "title": "Convertedat",
            "description": "Timestamp when converted to static"
          }
        },
        "type": "object",
        "required": [
          "postId",
          "jobId",
          "convertedAt"
        ],
        "title": "VideoConvertStaticResponse",
        "description": "Response schema for converting video back to static image.\n\nIssue #2025: POST /api/v2/posts/{post_id}/videos/{job_id}/static/conversions\n\nAttributes:\n    post_id: ID of the post that was converted\n    job_id: UUID of the video job that was cancelled\n    status: New status of the video job (cancelled)\n    converted_at: Timestamp when conversion occurred"
      },
      "VideoGenerationRequest": {
        "properties": {
          "durationSeconds": {
            "type": "integer",
            "maximum": 60.0,
            "minimum": 10.0,
            "title": "Durationseconds",
            "description": "Video duration in seconds (10-60)",
            "default": 15
          },
          "aspectRatio": {
            "$ref": "#/components/schemas/AspectRatio",
            "description": "Target aspect ratio for the video",
            "default": "9:16"
          },
          "style": {
            "$ref": "#/components/schemas/VideoStyle",
            "description": "Visual style preset",
            "default": "cinematic"
          },
          "includeTextOverlay": {
            "type": "boolean",
            "title": "Includetextoverlay",
            "description": "Whether to include post text as overlay",
            "default": true
          },
          "textPosition": {
            "$ref": "#/components/schemas/TextPosition",
            "description": "Position of text overlay if enabled",
            "default": "bottom"
          },
          "motionType": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Motiontype",
            "description": "Motion effect type (zoom, pan, push, etc.)"
          }
        },
        "type": "object",
        "title": "VideoGenerationRequest",
        "description": "Request schema for initiating video generation.\n\nAttributes:\n    duration_seconds: Video duration (10-60 seconds for full video)\n    aspect_ratio: Target aspect ratio\n    style: Visual style preset\n    include_text_overlay: Whether to include text on the video\n    text_position: Where to position the text overlay\n    motion_type: Type of motion effect (zoom, pan, etc.)"
      },
      "VideoJobResponse": {
        "properties": {
          "jobId": {
            "type": "string",
            "title": "Jobid",
            "description": "UUID of the video generation job"
          },
          "postId": {
            "type": "string",
            "title": "Postid",
            "description": "ID of the post"
          },
          "jobType": {
            "$ref": "#/components/schemas/VideoJobType",
            "description": "Type of video being generated"
          },
          "status": {
            "$ref": "#/components/schemas/VideoJobStatus",
            "description": "Current job status"
          },
          "estimatedDurationSeconds": {
            "type": "integer",
            "title": "Estimateddurationseconds",
            "description": "Estimated processing time in seconds"
          },
          "estimatedCostUsd": {
            "type": "string",
            "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$",
            "title": "Estimatedcostusd",
            "description": "Estimated cost in USD"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "title": "Createdat",
            "description": "Timestamp when job was created"
          }
        },
        "type": "object",
        "required": [
          "jobId",
          "postId",
          "jobType",
          "status",
          "estimatedDurationSeconds",
          "estimatedCostUsd",
          "createdAt"
        ],
        "title": "VideoJobResponse",
        "description": "Response schema for video generation job creation.\n\nReturned when a video generation request is successfully queued.\n\nAttributes:\n    job_id: UUID of the created job\n    post_id: ID of the post being processed\n    job_type: Type of video being generated\n    status: Current job status (initially 'queued')\n    estimated_duration_seconds: Estimated processing time\n    estimated_cost_usd: Estimated cost for this generation"
      },
      "VideoJobStatus": {
        "type": "string",
        "enum": [
          "queued",
          "processing",
          "completed",
          "failed",
          "cancelled",
          "approved",
          "rejected"
        ],
        "title": "VideoJobStatus",
        "description": "Status values for video generation jobs."
      },
      "VideoJobStatusResponse": {
        "properties": {
          "jobId": {
            "type": "string",
            "title": "Jobid",
            "description": "UUID of the video generation job"
          },
          "postId": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Postid",
            "description": "ID of the associated post"
          },
          "jobType": {
            "$ref": "#/components/schemas/VideoJobType",
            "description": "Type of video job"
          },
          "status": {
            "$ref": "#/components/schemas/VideoJobStatus",
            "description": "Current job status"
          },
          "progress": {
            "type": "integer",
            "maximum": 100.0,
            "minimum": 0.0,
            "title": "Progress",
            "description": "Progress percentage 0-100 (Issue #2566: dumb frontend pattern)"
          },
          "estimatedTimeRemaining": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Estimatedtimeremaining",
            "description": "Human-readable time estimate, e.g. '30 sec', '2 min' (Issue #2566)"
          },
          "videoUrl": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Videourl",
            "description": "URL of generated video"
          },
          "thumbnailUrl": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Thumbnailurl",
            "description": "URL of video thumbnail"
          },
          "durationSeconds": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Durationseconds",
            "description": "Actual video duration"
          },
          "costUsd": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Costusd",
            "description": "Actual cost incurred"
          },
          "errorMessage": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Errormessage",
            "description": "Error details"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "title": "Createdat",
            "description": "When the job was created"
          },
          "completedAt": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Completedat",
            "description": "When the job completed"
          }
        },
        "type": "object",
        "required": [
          "jobId",
          "jobType",
          "status",
          "progress",
          "createdAt"
        ],
        "title": "VideoJobStatusResponse",
        "description": "Response schema for video job status queries.\n\nUsed by GET /api/v1/video-jobs/{job_id} endpoint (Issue #1697).\nSupports \"dumb frontend\" pattern (Issue #2566) with pre-computed progress.\n\nAttributes:\n    job_id: UUID of the job\n    post_id: ID of the associated post\n    job_type: Type of video job\n    status: Current status\n    progress: Progress percentage 0-100 (for dumb frontend)\n    estimated_time_remaining: Human-readable time estimate (for dumb frontend)\n    video_url: URL of generated video (if completed)\n    thumbnail_url: URL of video thumbnail (if completed)\n    duration_seconds: Actual video duration (if completed)\n    cost_usd: Actual cost incurred (if available)\n    error_message: Error details (if failed)\n    created_at: When the job was created\n    completed_at: When the job completed (if finished)"
      },
      "VideoJobType": {
        "type": "string",
        "enum": [
          "motion_poster",
          "full_video"
        ],
        "title": "VideoJobType",
        "description": "Types of video generation jobs."
      },
      "VideoRegenerateRequest": {
        "properties": {
          "feedback": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 2000
              },
              {
                "type": "null"
              }
            ],
            "title": "Feedback",
            "description": "Optional feedback to guide video regeneration"
          },
          "jobType": {
            "$ref": "#/components/schemas/VideoJobType",
            "description": "Type of video to generate",
            "default": "motion_poster"
          }
        },
        "type": "object",
        "title": "VideoRegenerateRequest",
        "description": "Request schema for regenerating a video during HITL review.\n\nAllows user to provide feedback for improved regeneration.\n\nAttributes:\n    feedback: Optional feedback to guide regeneration\n    job_type: Type of video to generate (defaults to motion_poster)"
      },
      "VideoRegenerateResponse": {
        "properties": {
          "newJobId": {
            "type": "string",
            "title": "Newjobid",
            "description": "UUID of the new regeneration job"
          },
          "originalJobId": {
            "type": "string",
            "title": "Originaljobid",
            "description": "UUID of the original job"
          },
          "postId": {
            "type": "string",
            "title": "Postid",
            "description": "ID of the associated post"
          },
          "status": {
            "$ref": "#/components/schemas/VideoJobStatus",
            "description": "Job status (queued)",
            "default": "queued"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "title": "Createdat",
            "description": "Timestamp when new job was created"
          }
        },
        "type": "object",
        "required": [
          "newJobId",
          "originalJobId",
          "postId",
          "createdAt"
        ],
        "title": "VideoRegenerateResponse",
        "description": "Response schema for video regeneration.\n\nReturned when a regeneration request is successfully queued.\n\nAttributes:\n    new_job_id: UUID of the new regeneration job\n    original_job_id: UUID of the original job being regenerated from\n    post_id: ID of the associated post\n    status: Status of new job (queued)\n    created_at: Timestamp when new job was created"
      },
      "VideoRejectRequest": {
        "properties": {
          "reason": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 1000
              },
              {
                "type": "null"
              }
            ],
            "title": "Reason",
            "description": "Optional reason for rejecting the video"
          }
        },
        "type": "object",
        "title": "VideoRejectRequest",
        "description": "Request schema for rejecting a video during HITL review.\n\nAttributes:\n    reason: Optional reason for rejection"
      },
      "VideoRejectResponse": {
        "properties": {
          "jobId": {
            "type": "string",
            "title": "Jobid",
            "description": "UUID of the video generation job"
          },
          "postId": {
            "type": "string",
            "title": "Postid",
            "description": "ID of the associated post"
          },
          "status": {
            "$ref": "#/components/schemas/VideoJobStatus",
            "description": "Job status (rejected)",
            "default": "rejected"
          },
          "reason": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Reason",
            "description": "Rejection reason"
          },
          "rejectedAt": {
            "type": "string",
            "format": "date-time",
            "title": "Rejectedat",
            "description": "Timestamp when rejected"
          }
        },
        "type": "object",
        "required": [
          "jobId",
          "postId",
          "rejectedAt"
        ],
        "title": "VideoRejectResponse",
        "description": "Response schema for video rejection.\n\nAttributes:\n    job_id: UUID of the rejected job\n    post_id: ID of the associated post\n    status: New status (rejected)\n    reason: Rejection reason if provided\n    rejected_at: Timestamp when rejected"
      },
      "VideoStyle": {
        "type": "string",
        "enum": [
          "cinematic",
          "dynamic",
          "minimal",
          "energetic"
        ],
        "title": "VideoStyle",
        "description": "Visual styles for video generation."
      },
      "WeekContent": {
        "properties": {
          "weekNumber": {
            "type": "integer",
            "title": "Weeknumber"
          },
          "days": {
            "items": {
              "$ref": "#/components/schemas/DayContent"
            },
            "type": "array",
            "title": "Days"
          }
        },
        "type": "object",
        "required": [
          "weekNumber"
        ],
        "title": "WeekContent",
        "description": "Schema for weekly content."
      },
      "WeekPlan": {
        "properties": {
          "weekNumber": {
            "type": "integer",
            "title": "Weeknumber",
            "description": "Week number (1-indexed)"
          },
          "posts": {
            "items": {
              "$ref": "#/components/schemas/PostPlan"
            },
            "type": "array",
            "title": "Posts",
            "description": "Posts for this week"
          }
        },
        "type": "object",
        "required": [
          "weekNumber",
          "posts"
        ],
        "title": "WeekPlan",
        "description": "Week within a content plan."
      },
      "WorkflowRequest": {
        "properties": {
          "sources": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Sources",
            "description": "Website URLs to crawl"
          },
          "maxPages": {
            "type": "integer",
            "title": "Maxpages",
            "description": "Maximum pages to crawl",
            "default": 100
          }
        },
        "type": "object",
        "required": [
          "sources"
        ],
        "title": "WorkflowRequest",
        "description": "Request for starting a crawling workflow."
      },
      "WorkflowResponse": {
        "properties": {
          "workflowId": {
            "type": "string",
            "title": "Workflowid",
            "description": "Unique workflow identifier"
          },
          "brandId": {
            "type": "string",
            "title": "Brandid",
            "description": "Brand identifier"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Overall workflow status: running, completed, failed"
          },
          "steps": {
            "items": {
              "$ref": "#/components/schemas/WorkflowStep"
            },
            "type": "array",
            "title": "Steps",
            "description": "Workflow steps with status"
          },
          "createdAt": {
            "type": "string",
            "title": "Createdat",
            "description": "ISO timestamp when workflow was created"
          },
          "progress": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 100.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Progress",
            "description": "Overall progress percentage 0-100"
          },
          "step": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Step",
            "description": "Currently executing step"
          },
          "sources": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Sources",
            "description": "URLs being crawled"
          },
          "pagesCrawled": {
            "type": "integer",
            "title": "Pagescrawled",
            "description": "Number of pages successfully downloaded/scraped",
            "default": 0
          },
          "pagesProcessed": {
            "type": "integer",
            "title": "Pagesprocessed",
            "description": "Number of pages analyzed for knowledge extraction",
            "default": 0
          },
          "totalPages": {
            "type": "integer",
            "title": "Totalpages",
            "description": "Total pages discovered (can increase during crawl)",
            "default": 0
          },
          "totalPercentage": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 100.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Totalpercentage",
            "description": "Detailed progress percentage with decimals"
          },
          "result": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Result",
            "description": "Final workflow result (only when completed)"
          }
        },
        "type": "object",
        "required": [
          "workflowId",
          "brandId",
          "status",
          "steps",
          "createdAt"
        ],
        "title": "WorkflowResponse",
        "description": "Response from workflow operations with detailed progress tracking."
      },
      "WorkflowStep": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Step name: crawling, analyzing, or completed"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Step status: pending, running, completed, or failed"
          },
          "started_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Started At",
            "description": "ISO timestamp when step started"
          },
          "completed_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Completed At",
            "description": "ISO timestamp when step completed"
          }
        },
        "type": "object",
        "required": [
          "name",
          "status"
        ],
        "title": "WorkflowStep",
        "description": "Schema for workflow step tracking."
      },
      "src__domains__crawler__schemas__crawler_briefs__PubSubPushEnvelope": {
        "properties": {
          "message": {
            "$ref": "#/components/schemas/PubSubMessage",
            "description": "The Pub/Sub message"
          },
          "subscription": {
            "type": "string",
            "title": "Subscription",
            "description": "Subscription name that sent the message"
          }
        },
        "type": "object",
        "required": [
          "message",
          "subscription"
        ],
        "title": "PubSubPushEnvelope",
        "description": "Pub/Sub push subscription envelope format.\n\nThis is the outer wrapper that Pub/Sub sends to push endpoints.\nThe actual message data is base64-encoded inside message.data."
      },
      "src__domains__crawler__schemas__crawler_pulses__PubSubPushEnvelope": {
        "properties": {
          "message": {
            "$ref": "#/components/schemas/PubSubMessage",
            "description": "The Pub/Sub message"
          },
          "subscription": {
            "type": "string",
            "title": "Subscription",
            "description": "Subscription name"
          }
        },
        "type": "object",
        "required": [
          "message",
          "subscription"
        ],
        "title": "PubSubPushEnvelope",
        "description": "Pub/Sub push subscription envelope format."
      },
      "src__domains__crawler__schemas__crawler_pulses__PulseStatusResponse": {
        "properties": {
          "correlationId": {
            "type": "string",
            "title": "Correlationid",
            "description": "Correlation ID for this crawl"
          },
          "progressPct": {
            "type": "integer",
            "maximum": 100.0,
            "minimum": 0.0,
            "title": "Progresspct",
            "description": "Progress percentage"
          },
          "step": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Step",
            "description": "Crawl step"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Human-readable status message"
          },
          "timestamp": {
            "type": "string",
            "title": "Timestamp",
            "description": "ISO-8601 timestamp of last update"
          }
        },
        "type": "object",
        "required": [
          "correlationId",
          "progressPct",
          "message",
          "timestamp"
        ],
        "title": "PulseStatusResponse",
        "description": "Response for GET /pulses/{correlation_id} polling endpoint.\n\nIssue #2181: Frontend polling endpoint for crawl progress."
      }
    },
    "securitySchemes": {
      "HTTPBearer": {
        "type": "http",
        "scheme": "bearer"
      }
    }
  }
}
