{
  "openapi": "3.1.0",
  "info": {
    "title": "Project Beta API",
    "description": "AI-powered content generation platform API",
    "version": "0.7.718"
  },
  "paths": {
    "/api/v2/brands": {
      "post": {
        "tags": [
          "brands"
        ],
        "summary": "Create Brand",
        "description": "Create a new brand and automatically trigger knowledge workflow.\n\nCreates a new brand with server-generated ID and immediately starts\na knowledge extraction workflow in the background.\n\nIssue #2163: This endpoint is idempotent - if a brand with the same\nname already exists for this user, it returns the existing brand (200 OK)\ninstead of creating a duplicate or returning 409 Conflict.\n\nArgs:\n    response: FastAPI response object for setting status code\n    firebase_user: Authenticated Firebase user (injected by auth dependency)\n    request: Brand creation request\n\nReturns:\n    201 Created: New brand created\n    200 OK: Existing brand returned (idempotent)",
        "operationId": "create_brand_api_v2_brands_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BrandCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Brand created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BrandResponse"
                }
              }
            }
          },
          "200": {
            "description": "Existing brand returned (idempotent)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BrandResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request data"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "brands"
        ],
        "summary": "List Brands",
        "description": "List brands belonging to the authenticated user.\n\nReturns a list of brands owned by the authenticated user with pagination support.\nSecurity: Only returns brands belonging to the authenticated user.",
        "operationId": "list_brands_api_v2_brands_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Maximum brands to return",
              "default": 20,
              "title": "Limit"
            },
            "description": "Maximum brands to return"
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "description": "Number of brands to skip",
              "default": 0,
              "title": "Offset"
            },
            "description": "Number of brands to skip"
          }
        ],
        "responses": {
          "200": {
            "description": "List of brands returned",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/BrandResponse"
                  },
                  "title": "Response List Brands Api V2 Brands Get"
                }
              }
            }
          },
          "401": {
            "description": "Authentication required"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/brands/{brand_id}": {
      "put": {
        "tags": [
          "brands"
        ],
        "summary": "Update Brand",
        "description": "Update an existing brand.\n\nUpdates an existing brand. Returns 404 if the brand doesn't exist.\nOnly provided fields will be updated (partial update).\n\nIssue #1655: Added authorization check to prevent IDOR vulnerability.",
        "operationId": "update_brand_api_v2_brands__brand_id__put",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "brand_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The brand ID",
              "title": "Brand Id"
            },
            "description": "The brand ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BrandUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Brand updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BrandResponse"
                }
              }
            }
          },
          "401": {
            "description": "Authentication required"
          },
          "403": {
            "description": "Forbidden - user does not own this brand"
          },
          "404": {
            "description": "Brand not found"
          },
          "400": {
            "description": "Invalid request data"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "brands"
        ],
        "summary": "Get Brand",
        "description": "Get brand information.\n\nReturns the brand details and status.\nReturns 404 if brand doesn't exist.\n\nRMM-2 Compliant Pattern:\n- Use GET /brands/{brand_id} for basic brand data\n- Use GET /brands/{brand_id}?include=files to explicitly request file URLs\n- Replaces non-compliant pattern: GET /brands/{brand_id}/with-files (hyphenated segment)\n\nQuery Parameters:\n- include: Optional comma-separated list of additional data to include\n          Supported values: 'files' (includes brand_guidelines_url, logo_url)\n          Example: ?include=files\n\nNote: File URLs (brand_guidelines_url, logo_url) are always included in the\nresponse for backward compatibility. The include parameter is provided to\ndemonstrate RMM-2 best practices using query parameters instead of hyphenated\npath segments.\n\nIssue #1662: Added authorization check to prevent IDOR vulnerability.",
        "operationId": "get_brand_api_v2_brands__brand_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "brand_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The brand ID",
              "title": "Brand Id"
            },
            "description": "The brand ID"
          },
          {
            "name": "include",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Comma-separated list of additional data to include (e.g., 'files')",
              "title": "Include"
            },
            "description": "Comma-separated list of additional data to include (e.g., 'files')"
          }
        ],
        "responses": {
          "200": {
            "description": "Brand information returned",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BrandResponse"
                }
              }
            }
          },
          "401": {
            "description": "Authentication required"
          },
          "403": {
            "description": "Forbidden - user does not own this brand"
          },
          "404": {
            "description": "Brand not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/brands/{brand_id}/onboarding/progress": {
      "patch": {
        "tags": [
          "brands"
        ],
        "summary": "Update Brand Onboarding Progress",
        "description": "Update brand onboarding progress step.\n\nTracks onboarding workflow progress including current step, completed steps,\nand optional metadata to keep the frontend aligned with backend state.\n\nIssue #1655: Added authorization check to prevent IDOR vulnerability.",
        "operationId": "update_brand_onboarding_progress_api_v2_brands__brand_id__onboarding_progress_patch",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "brand_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The brand ID",
              "title": "Brand Id"
            },
            "description": "The brand ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BrandOnboardingProgressUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Brand onboarding progress updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BrandOnboardingProgressResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid progress data"
          },
          "401": {
            "description": "Authentication required"
          },
          "403": {
            "description": "Forbidden - user does not own this brand"
          },
          "404": {
            "description": "Brand not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/brands/{brand_id}/files": {
      "post": {
        "tags": [
          "brands"
        ],
        "summary": "Upload Brand Files",
        "description": "Upload brand files (guidelines PDF and logo) with async LLM extraction.\n\nIssue #1386: Migrated to brand-crawler publisher pattern.\nIssue #1655: Added authorization check to prevent IDOR vulnerability.\nIssue #2245: Migrated to AgenticBrandCrawlerPublisher.\n\nProper REST endpoint for uploading brand files to an existing brand.\nExtracts structured brand information (colors, typography, photography)\nfrom PDF brand guidelines via agentic brand-crawler service (async).\n\nThe extraction is now async - file is uploaded immediately, and\nagentic-brand-crawler processes the PDF in the background.",
        "operationId": "upload_brand_files",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "brand_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The brand ID",
              "title": "Brand Id"
            },
            "description": "The brand ID"
          }
        ],
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_upload_brand_files"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Brand files uploaded and processed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BrandFileUploadResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid file format or size"
          },
          "401": {
            "description": "Authentication required"
          },
          "403": {
            "description": "Forbidden - user does not own this brand"
          },
          "404": {
            "description": "Brand not found"
          },
          "413": {
            "description": "File too large"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "brands"
        ],
        "summary": "Update Brand Files",
        "description": "Update brand files (guidelines PDF and logo).\n\nProper REST endpoint for updating brand files.\nReplaces the non-RESTful /with-files endpoint.\n\nIssue #1655: Added authorization check to prevent IDOR vulnerability.",
        "operationId": "update_brand_files",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "brand_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The brand ID",
              "title": "Brand Id"
            },
            "description": "The brand ID"
          }
        ],
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_update_brand_files"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Brand files updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BrandResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid file format or size"
          },
          "401": {
            "description": "Authentication required"
          },
          "403": {
            "description": "Forbidden - user does not own this brand"
          },
          "404": {
            "description": "Brand not found"
          },
          "413": {
            "description": "File too large"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/brands/{brand_id}/summaries": {
      "post": {
        "tags": [
          "brands"
        ],
        "summary": "Generate Brand Summary",
        "description": "Trigger brand summary generation via agentic brand-crawler.\n\nIssue #1386: Migrated to brand-crawler publisher pattern.\nIssue #1102: RMM L2 compliance - renamed from /summary to /summaries.\nIssue #1655: Added authorization check to prevent IDOR vulnerability.\nIssue #2245: Migrated to AgenticBrandCrawlerPublisher.\n\n**RMM L2 Compliance**: POST /api/v2/brands/{brand_id}/summaries\n- Summaries modeled as a resource collection\n- POST creates a new summary generation request\n- Returns 202 Accepted with correlation info\n\nSummary is generated asynchronously by agentic brand-crawler:\n- The agentic service extracts brand assets and generates summaries\n- Includes: mission, vision, values, tone/voice, persona, industry, vertical\n- Excludes: brand colors, service lists, location\n- Brand record is updated with summary when complete",
        "operationId": "generate_brand_summary_api_v2_brands__brand_id__summaries_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "brand_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The brand ID",
              "title": "Brand Id"
            },
            "description": "The brand ID"
          }
        ],
        "responses": {
          "202": {
            "description": "Brand summary generation triggered",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BrandSummaryResponse"
                }
              }
            }
          },
          "401": {
            "description": "Authentication required"
          },
          "403": {
            "description": "Forbidden - user does not own this brand"
          },
          "404": {
            "description": "Brand not found"
          },
          "500": {
            "description": "Failed to trigger summary generation"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/brands/{brand_id}/knowledge/status": {
      "get": {
        "tags": [
          "brands"
        ],
        "summary": "Get Brand Knowledge Status",
        "description": "Get the status of brand knowledge extraction (Phase 1: Progressive Brand Knowledge).\n\nReturns the current status and progress of the brand's knowledge extraction workflow,\nincluding whether quick extraction and deep crawl phases are complete.\n\nThis endpoint enables the frontend to:\n- Show instant brand creation feedback\n- Display real-time progress of knowledge extraction\n- Determine when to enable features that require knowledge data\n- Poll for updates during background processing\n\nPhase Architecture:\n- Phase 1 (Instant): Brand created in < 1 second with status \"not_started\"\n- Phase 2 (Quick): Quick extraction adds colors/industry in < 3 seconds\n- Phase 3 (Deep): Deep crawl runs in background (minutes to hours)\n- Phase 4 (Enhancement): Campaigns improve as brand knowledge grows\n\nRMM Level 2 Compliance:\n- GET to /brands/{brand_id}/knowledge/status retrieves status resource\n- Resource-oriented URL structure\n- No verbs in URL path\n\nIssue #1662: Added authorization check to prevent IDOR vulnerability.",
        "operationId": "get_brand_knowledge_status_api_v2_brands__brand_id__knowledge_status_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "brand_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The brand ID",
              "title": "Brand Id"
            },
            "description": "The brand ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Knowledge extraction status returned",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BrandKnowledgeStatusResponse"
                }
              }
            }
          },
          "401": {
            "description": "Authentication required"
          },
          "403": {
            "description": "Forbidden - user does not own this brand"
          },
          "404": {
            "description": "Brand not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/brands/{brand_id}/crawl/status": {
      "get": {
        "tags": [
          "brands"
        ],
        "summary": "Get Brand Crawl Status",
        "description": "Get real-time brand crawl progress (Issue #1279).\n\nReturns comprehensive crawl status information so the frontend can show\nusers real-time progress during website crawling operations.\n\nStatus Values:\n- not_started: No crawl has been initiated\n- pending: Crawl queued but not yet started\n- estimating: Analyzing website structure\n- crawling: Actively crawling pages\n- extracting: Extracting brand assets from crawled content\n- uploading: Saving extracted assets\n- complete: Crawl finished successfully\n- failed: Crawl encountered an error\n\nRMM Level 2 Compliance:\n- GET retrieves crawl status sub-resource\n- Resource-oriented hierarchical URL structure\n- /crawl/status follows RMM-2 path pattern\n\nIssue #1662: Added authorization check to prevent IDOR vulnerability.",
        "operationId": "get_brand_crawl_status_api_v2_brands__brand_id__crawl_status_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "brand_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The brand ID",
              "title": "Brand Id"
            },
            "description": "The brand ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Brand crawl status returned",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BrandCrawlStatusResponse"
                }
              }
            }
          },
          "401": {
            "description": "Authentication required"
          },
          "403": {
            "description": "Forbidden - user does not own this brand"
          },
          "404": {
            "description": "Brand not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/brands/{brand_id}/costs": {
      "get": {
        "tags": [
          "brand-costs"
        ],
        "summary": "Get Brand Costs",
        "description": "Get aggregated costs for a brand.\n\nRetrieves cost information for the specified brand and period.\nDefaults to current month if no period is specified.\n\nIssue #1952: Implements GET /brands/{brand_id}/costs endpoint with\nRMM L2 compliant naming (single-word noun \"costs\").\n\nArgs:\n    brand_id: ID of the brand to get costs for\n    cost_type: Type of costs to retrieve (default: video)\n    period_start: Start date of period (default: first of current month)\n    period_end: End date of period (default: last of current month)\n    firebase_user: Authenticated user from JWT token\n    brand_repository: Repository for brand lookup\n    video_cost_recorder: Service for cost retrieval\n\nReturns:\n    BrandCostsResponse with aggregated cost data\n\nRaises:\n    HTTPException 401: If not authenticated\n    HTTPException 403: If user doesn't own the brand\n    HTTPException 404: If brand not found",
        "operationId": "get_brand_costs_api_v2_brands__brand_id__costs_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "brand_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The brand ID",
              "title": "Brand Id"
            },
            "description": "The brand ID"
          },
          {
            "name": "type",
            "in": "query",
            "required": false,
            "schema": {
              "$ref": "#/components/schemas/CostType",
              "description": "Type of costs to retrieve (default: video)",
              "default": "video"
            },
            "description": "Type of costs to retrieve (default: video)"
          },
          {
            "name": "periodStart",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Start date of cost period (default: first day of current month)",
              "title": "Periodstart"
            },
            "description": "Start date of cost period (default: first day of current month)"
          },
          {
            "name": "periodEnd",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date"
                },
                {
                  "type": "null"
                }
              ],
              "description": "End date of cost period (default: last day of current month)",
              "title": "Periodend"
            },
            "description": "End date of cost period (default: last day of current month)"
          }
        ],
        "responses": {
          "200": {
            "description": "Brand costs retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BrandCostsResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - authentication required"
          },
          "403": {
            "description": "Forbidden - user does not own this brand"
          },
          "404": {
            "description": "Brand not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/brands/{brand_id}/knowledge/workflows": {
      "post": {
        "tags": [
          "brand-workflow"
        ],
        "summary": "Start Knowledge Workflow",
        "description": "Start knowledge discovery workflow for a brand.\n\nCreates a new workflow resource that orchestrates website crawling,\ncontent extraction, and knowledge storage. This is an explicit trigger\nfollowing RMM Level 2 principles.\n\nThe workflow runs asynchronously. Poll the status endpoint to monitor progress.\n\nDesign Pattern (RMM L2):\n- POST creates a workflow resource (not an RPC \"scrape\" action)\n- Returns 202 Accepted (async processing)\n- Provides workflow_id for status polling\n- Idempotent: multiple POSTs return existing workflow if already running",
        "operationId": "start_knowledge_workflow_api_v2_brands__brand_id__knowledge_workflows_post",
        "parameters": [
          {
            "name": "brand_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The brand ID",
              "title": "Brand Id"
            },
            "description": "The brand ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/WorkflowRequest"
              }
            }
          }
        },
        "responses": {
          "202": {
            "description": "Workflow started successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WorkflowResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request data"
          },
          "404": {
            "description": "Brand not found"
          },
          "409": {
            "description": "Workflow already running for this brand"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/brands/{brand_id}/knowledge/workflows/{workflow_id}": {
      "get": {
        "tags": [
          "brand-workflow"
        ],
        "summary": "Get Brand Workflow",
        "description": "Get the status of the knowledge collection workflow.\n\nReturns the current status of the background workflow including\nprogress, current step, and any results. This endpoint is used\nby the frontend to monitor the progress of the knowledge extraction\nthat was initiated internally during brand creation.\n\nIssue #1268: Migrated from WorkflowService to DB-based status tracking.\nStatus is now read from the brand's knowledge_status field.",
        "operationId": "get_brand_workflow_api_v2_brands__brand_id__knowledge_workflows__workflow_id__get",
        "parameters": [
          {
            "name": "brand_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The brand ID",
              "title": "Brand Id"
            },
            "description": "The brand ID"
          },
          {
            "name": "workflow_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The workflow ID",
              "title": "Workflow Id"
            },
            "description": "The workflow ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Workflow status returned",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WorkflowResponse"
                }
              }
            }
          },
          "404": {
            "description": "No workflow found for this brand"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/brands/{brand_id}/knowledge": {
      "get": {
        "tags": [
          "brand-workflow"
        ],
        "summary": "Get Brand Knowledge V2",
        "description": "Get extracted brand knowledge in V2 format with pagination.\n\nReturns the extracted brand knowledge including personality traits,\ntone attributes, color palette, products, and descriptions. This endpoint\nprovides the structured knowledge after workflow completion.\n\nRMM L2 Compliant: Supports `view` query parameter to control response type.\n- view=summary: Returns summary statistics (replaces /knowledge/summary)\n- view not specified: Returns full knowledge list with pagination\n\nSupports pagination parameters for future compatibility when multiple\nknowledge entries per brand are supported.",
        "operationId": "get_brand_knowledge_v2_api_v2_brands__brand_id__knowledge_get",
        "parameters": [
          {
            "name": "brand_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The brand ID",
              "title": "Brand Id"
            },
            "description": "The brand ID"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Number of items to return",
              "default": 10,
              "title": "Limit"
            },
            "description": "Number of items to return"
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "description": "Number of items to skip",
              "default": 0,
              "title": "Offset"
            },
            "description": "Number of items to skip"
          },
          {
            "name": "view",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "View mode: 'summary' for summary statistics. If not provided, returns full knowledge list.",
              "enum": [
                "summary"
              ],
              "title": "View"
            },
            "description": "View mode: 'summary' for summary statistics. If not provided, returns full knowledge list."
          }
        ],
        "responses": {
          "200": {
            "description": "Brand knowledge returned",
            "content": {
              "application/json": {
                "schema": {
                  "anyOf": [
                    {
                      "$ref": "#/components/schemas/BrandKnowledgeV2ListResponse"
                    },
                    {
                      "$ref": "#/components/schemas/BrandKnowledgeBrandSummaryResponse"
                    }
                  ],
                  "title": "Response Get Brand Knowledge V2 Api V2 Brands  Brand Id  Knowledge Get"
                }
              }
            }
          },
          "404": {
            "description": "Brand knowledge not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/briefs": {
      "post": {
        "tags": [
          "briefs"
        ],
        "summary": "Receive brand brief from crawler",
        "description": "Pub/Sub push endpoint for receiving brand briefs from the agentic brand crawler. Accepts messages from both core (quick) and deep (comprehensive) topics. Persists image assets to GCS and briefs to PostgreSQL.",
        "operationId": "receive_brief_api_v2_briefs_post",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          },
          {
            "name": "X-PubSub-Secret",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Pubsub-Secret"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/src__schemas__crawler_briefs__PubSubPushEnvelope"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BriefAckResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/briefs/{correlation_id}": {
      "get": {
        "tags": [
          "briefs"
        ],
        "summary": "Get crawl status by correlation_id",
        "description": "Query the status of a brand crawl by correlation_id. Returns aggregated status derived from received briefs (CORE/DEEP), allowing frontend to track crawl progress in real-time.",
        "operationId": "get_brief_status_api_v2_briefs__correlation_id__get",
        "parameters": [
          {
            "name": "correlation_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Correlation Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BriefStatusResponse"
                }
              }
            }
          },
          "404": {
            "description": "No briefs found for correlation_id"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/campaigns": {
      "post": {
        "tags": [
          "campaigns"
        ],
        "summary": "Create Campaign",
        "description": "Create a new campaign and auto-trigger content generation.\n\nCreates a new campaign with server-generated ID. The campaign name should be unique.\nUser ID is extracted from the authenticated user's JWT token for security.\n\nAfter successful campaign creation, automatically triggers content generation\nin the background using FastAPI BackgroundTasks. This ensures the API\nreturns immediately (< 1 second) while content generation runs asynchronously.\n\nArchitecture Note (Issue #2192):\n- Uses AgenticContentGenerationPublisher for agentic content generation\n- Fat message pattern: all brand/campaign context included in message\n- Agentic service has no database access\n- Frontend polls /campaigns/{id}/workflow/status for progress\n\nArgs:\n    background_tasks: FastAPI background tasks for async content generation\n    firebase_user: Authenticated Firebase user (injected by auth dependency)\n    request: Campaign creation request (user_id extracted from JWT, not body)\n    brand_repository: Repository for brand data access\n    campaign_service: Service for campaign CRUD operations\n    agentic_publisher: Publisher for agentic content generation requests\n    brand_knowledge_service: Service for brand knowledge retrieval\n\nReturns:\n    CampaignResponse: The created campaign (content generation runs in background)\n\nRaises:\n    HTTPException: 401 if authentication fails, 400 for invalid data",
        "operationId": "create_campaign_api_v2_campaigns_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CampaignCreateRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Campaign created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CampaignResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request data"
          },
          "401": {
            "description": "Unauthorized - invalid or missing authentication token"
          },
          "409": {
            "description": "Campaign with this name already exists"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "campaigns"
        ],
        "summary": "List Campaigns",
        "description": "List all campaigns for the authenticated user.\n\nArgs:\n    firebase_user: Authenticated Firebase user (injected by auth dependency)\n    brand_id: Optional brand ID to filter campaigns by\n\nReturns:\n    List of campaigns for the authenticated user, optionally filtered by brand",
        "operationId": "list_campaigns_api_v2_campaigns_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "brand_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter campaigns by brand ID. If provided, returns only campaigns for this brand.",
              "title": "Brand Id"
            },
            "description": "Filter campaigns by brand ID. If provided, returns only campaigns for this brand."
          }
        ],
        "responses": {
          "200": {
            "description": "List of campaigns returned",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/CampaignResponse"
                  },
                  "title": "Response List Campaigns Api V2 Campaigns Get"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - invalid or missing authentication token"
          },
          "422": {
            "description": "Validation Error"
          }
        }
      }
    },
    "/api/v2/campaigns/{campaign_id}": {
      "put": {
        "tags": [
          "campaigns"
        ],
        "summary": "Update Campaign",
        "description": "Update an existing campaign (full update).\n\nUpdates an existing campaign. Returns 404 if the campaign doesn't exist.\nOnly provided fields will be updated (partial update).\nRequires authentication and ownership of the campaign.\n\nIssue #1736: Added authorization check to prevent IDOR vulnerability.",
        "operationId": "update_campaign_api_v2_campaigns__campaign_id__put",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "campaign_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The campaign ID",
              "title": "Campaign Id"
            },
            "description": "The campaign ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CampaignUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Campaign updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CampaignResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - authentication required"
          },
          "403": {
            "description": "Forbidden - user does not own this campaign"
          },
          "404": {
            "description": "Campaign not found"
          },
          "400": {
            "description": "Invalid request data"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "campaigns"
        ],
        "summary": "Patch Campaign",
        "description": "Partially update a campaign (e.g., publish).\n\nThis is the RMM Level 2 compliant endpoint for partial campaign updates.\nInstead of POST /campaigns/{id}/publish, use PATCH with status update.\nRequires authentication and ownership of the campaign.\n\nExample: To publish a campaign, send PATCH with {\"status\": \"published\"}\n\nIssue #1736: Added authorization check to prevent IDOR vulnerability.",
        "operationId": "patch_campaign_api_v2_campaigns__campaign_id__patch",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "campaign_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The campaign ID",
              "title": "Campaign Id"
            },
            "description": "The campaign ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CampaignUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Campaign updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CampaignResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - authentication required"
          },
          "403": {
            "description": "Forbidden - user does not own this campaign"
          },
          "404": {
            "description": "Campaign not found"
          },
          "400": {
            "description": "Invalid request data"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "campaigns"
        ],
        "summary": "Get Campaign",
        "description": "Get campaign information.\n\nReturns the campaign details and status.\nRequires authentication and ownership of the campaign.\nReturns 404 if campaign doesn't exist.\n\nIssue #1736: Added authorization check to prevent IDOR vulnerability.",
        "operationId": "get_campaign_api_v2_campaigns__campaign_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "campaign_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The campaign ID",
              "title": "Campaign Id"
            },
            "description": "The campaign ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Campaign information returned",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CampaignResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - authentication required"
          },
          "403": {
            "description": "Forbidden - user does not own this campaign"
          },
          "404": {
            "description": "Campaign not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "campaigns"
        ],
        "summary": "Delete Campaign",
        "description": "Delete a campaign.\n\nDeletes the specified campaign. Returns 204 on successful deletion.\nRequires authentication and ownership of the campaign.\nReturns 404 if campaign doesn't exist.\n\nIssue #1736: Added authorization check to prevent IDOR vulnerability.",
        "operationId": "delete_campaign_api_v2_campaigns__campaign_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "campaign_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The campaign ID",
              "title": "Campaign Id"
            },
            "description": "The campaign ID"
          }
        ],
        "responses": {
          "204": {
            "description": "Campaign deleted successfully"
          },
          "401": {
            "description": "Unauthorized - authentication required"
          },
          "403": {
            "description": "Forbidden - user does not own this campaign"
          },
          "404": {
            "description": "Campaign not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/campaigns/{campaign_id}/statistics": {
      "get": {
        "tags": [
          "campaigns"
        ],
        "summary": "Get Campaign Statistics",
        "description": "Get campaign statistics.\n\nReturns detailed statistics for a specific campaign including engagement metrics,\nplatform breakdown, content performance, content status breakdown, and campaign progress.\nRequires authentication and ownership of the campaign.\n\nIssue #1736: Added authorization check to prevent IDOR vulnerability.",
        "operationId": "get_campaign_statistics_api_v2_campaigns__campaign_id__statistics_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "campaign_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The campaign ID",
              "title": "Campaign Id"
            },
            "description": "The campaign ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Campaign statistics returned",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CampaignStatistics"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - authentication required"
          },
          "403": {
            "description": "Forbidden - user does not own this campaign"
          },
          "404": {
            "description": "Campaign not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/campaigns/{campaign_id}/workflow/status": {
      "get": {
        "tags": [
          "campaigns"
        ],
        "summary": "Get Campaign Workflow Status",
        "description": "Get workflow status for a campaign's content generation.\n\nReturns the current status of the campaign's content generation workflow.\nUsed by the frontend to poll for progress during content generation.\nRequires authentication and ownership of the campaign.\n\nIssue #1227: Missing workflow-status endpoint for campaigns.\nIssue #1298: DB-based status for Pub/Sub content generation.\nIssue #1268: Removed WorkflowService - fully DB-based now.\nIssue #1736: Added authorization check to prevent IDOR vulnerability.\n\nThis endpoint uses a DB-first approach:\n1. Query database for content generation status\n2. Calculate progress from Content record counts\n3. Return pending status if workflow started but no content yet\n\nThe workflow status includes:\n- status: pending, running, completed, or failed\n- progress: completion percentage (0-100)\n- message: human-readable progress message (e.g., \"Generating post 10 of 21\")\n- current_step: the currently executing workflow step\n\nArgs:\n    campaign_id: The campaign ID\n    firebase_user: Authenticated user (from JWT token)\n    campaign_service: Service for campaign CRUD operations\n    post_repository: Repository for post data (to get post counts)\n\nReturns:\n    WorkflowStatusResponse with status, progress, and message\n\nRaises:\n    HTTPException: 404 if campaign not found or no workflow started",
        "operationId": "get_campaign_workflow_status_api_v2_campaigns__campaign_id__workflow_status_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "campaign_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The campaign ID",
              "title": "Campaign Id"
            },
            "description": "The campaign ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Workflow status returned",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WorkflowStatusResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid campaign ID format"
          },
          "401": {
            "description": "Unauthorized - authentication required"
          },
          "403": {
            "description": "Forbidden - user does not own this campaign"
          },
          "404": {
            "description": "Campaign not found or no workflow started"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/campaigns/{campaign_id}/content/status": {
      "get": {
        "tags": [
          "campaigns"
        ],
        "summary": "Get Campaign Content Status",
        "description": "Get content generation status for a campaign.\n\nReturns the current status of async content generation including:\n- Overall status (pending/generating/completed/failed)\n- Progress percentage (0-100)\n- Post-level breakdown (posts with text, images, ready for review)\n- Correlation ID for request tracing\n\nThis endpoint is designed for polling during async content generation.\nFrontend should poll this endpoint to track progress after triggering\ncontent generation via POST /campaigns/{id}/content/generations.\nRequires authentication and ownership of the campaign.\n\nIssue #1484: Add async status polling endpoints for content generation.\nIssue #1736: Added authorization check to prevent IDOR vulnerability.\n\nArgs:\n    campaign_id: The campaign ID to check status for\n    correlation_id: Optional correlation ID from generation request\n    firebase_user: Authenticated user (from JWT token)\n    campaign_service: Service for campaign operations\n    generation_status_service: Service for generation status\n\nReturns:\n    CampaignContentStatusResponse with progress and breakdown",
        "operationId": "get_campaign_content_status_api_v2_campaigns__campaign_id__content_status_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "campaign_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The campaign ID",
              "title": "Campaign Id"
            },
            "description": "The campaign ID"
          },
          {
            "name": "correlation_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Correlation ID from generation request for tracing",
              "title": "Correlation Id"
            },
            "description": "Correlation ID from generation request for tracing"
          }
        ],
        "responses": {
          "200": {
            "description": "Content generation status returned",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CampaignContentStatusResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - authentication required"
          },
          "403": {
            "description": "Forbidden - user does not own this campaign"
          },
          "404": {
            "description": "Campaign not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/campaigns/{campaign_id}/content/generations": {
      "post": {
        "tags": [
          "campaigns"
        ],
        "summary": "Trigger Content Generation",
        "description": "Trigger content generation for a campaign.\n\nPublishes a content generation request to the agentic-content-generator service.\nThe request is processed asynchronously - this endpoint returns immediately\nwith a 202 Accepted response.\n\nIssue #2192: Uses agentic content generation with fat message pattern:\n- All brand/campaign context included in the message\n- Agentic service has no database access\n- Generation progress can be monitored via the workflow status endpoint\n\nIssue #2223: Pre-creates placeholder posts before publishing:\n- Calculates total posts from campaign duration and posts_per_day\n- Creates posts with IDs like \"week_1_day_1_post_1\"\n- Includes post_placeholders in fat message for correlation\n- Generator uses these IDs when returning outputs\n\nArgs:\n    campaign_id: The campaign ID to generate content for\n    firebase_user: Authenticated user (from JWT token)\n    campaign_service: Service for campaign operations\n    brand_repository: Repository for brand data access\n    post_repository: Repository for post creation\n    agentic_publisher: Publisher for agentic content generation\n    brand_knowledge_service: Service for brand knowledge retrieval\n\nReturns:\n    ContentGenerationResponse with message_id for tracking\n\nRaises:\n    HTTPException: 404 if campaign not found, 500 if publishing fails",
        "operationId": "trigger_content_generation_api_v2_campaigns__campaign_id__content_generations_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "campaign_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The campaign ID",
              "title": "Campaign Id"
            },
            "description": "The campaign ID"
          }
        ],
        "responses": {
          "202": {
            "description": "Content generation request accepted",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContentGenerationResponse"
                }
              }
            }
          },
          "404": {
            "description": "Campaign not found"
          },
          "500": {
            "description": "Failed to trigger content generation"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/campaigns/{campaign_id}/publications": {
      "post": {
        "tags": [
          "campaigns"
        ],
        "summary": "Create Campaign Publication",
        "description": "Create a campaign publication (RMM L2: publication is a resource).\n\nDirect port from V1 POST /api/v1/campaign/publish endpoint.\nRequires authentication and ownership of the campaign.\n\nRMM L2 Rationale:\n- Publications are resources representing published campaign instances\n- Creating publication is resource creation (not RPC-style /publish)\n- Publications track platform, schedule, and status\n\nThis endpoint:\n- Validates campaign exists and has approved content\n- Schedules posts via Cloud Scheduler (via ScheduledPostService)\n- Returns publication summary with scheduling results\n\nIssue #1736: Added authorization check to prevent IDOR vulnerability.",
        "operationId": "create_campaign_publication_api_v2_campaigns__campaign_id__publications_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "campaign_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The campaign ID",
              "title": "Campaign Id"
            },
            "description": "The campaign ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CampaignPublicationCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Publication created and scheduled successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CampaignPublicationResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - authentication required"
          },
          "403": {
            "description": "Forbidden - user does not own this campaign"
          },
          "404": {
            "description": "Campaign not found"
          },
          "400": {
            "description": "Invalid publication data"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/campaigns/{campaign_id}/specifications": {
      "post": {
        "tags": [
          "campaigns"
        ],
        "summary": "Generate Campaign Specifications",
        "description": "Trigger async campaign specification generation.\n\nIssue #2192: Uses agentic content generation with fat message pattern.\n\nPublishes a content generation request to the agentic-content-generator service.\nThe agentic service handles specifications as part of its strategy phase.\nThe request is processed asynchronously - this endpoint returns immediately\nwith a 202 Accepted response.\n\nArgs:\n    campaign_id: The campaign ID to generate specifications for\n    firebase_user: Authenticated user (from JWT token)\n    request: Request data (currently unused, reserved for future use)\n    campaign_service: Service for campaign operations\n    brand_repository: Repository for brand data access\n    agentic_publisher: Publisher for agentic content generation\n    brand_knowledge_service: Service for brand knowledge retrieval\n\nReturns:\n    CampaignSpecificationAsyncResponse with message_id for tracking\n\nRaises:\n    HTTPException: 404 if campaign not found, 500 if publishing fails",
        "operationId": "generate_campaign_specifications_api_v2_campaigns__campaign_id__specifications_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "campaign_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The campaign ID",
              "title": "Campaign Id"
            },
            "description": "The campaign ID"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CampaignSpecificationRequest"
              }
            }
          }
        },
        "responses": {
          "202": {
            "description": "Specification generation request accepted",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CampaignSpecificationAsyncResponse"
                }
              }
            }
          },
          "404": {
            "description": "Campaign not found"
          },
          "500": {
            "description": "Failed to trigger specification generation"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/campaigns/{campaign_id}/specifications/status": {
      "get": {
        "tags": [
          "campaigns"
        ],
        "summary": "Get Specification Status",
        "description": "Get specification generation status for a campaign.\n\nIssue #1549: Status polling endpoint for async specification generation.\n\nReturns the current status of async specification generation including:\n- Overall status (pending/generating/completed/failed)\n- Generated specification (when completed)\n- Error message (when failed)\n\nThis endpoint is designed for polling during async specification generation.\nFrontend should poll this endpoint to track progress after triggering\nspecification generation via POST /campaigns/{id}/specifications.\n\nArgs:\n    campaign_id: The campaign ID to check status for\n    correlation_id: Optional correlation ID from generation request\n    firebase_user: Authenticated user (from JWT token)\n    campaign_service: Service for campaign operations\n\nReturns:\n    CampaignSpecificationStatusResponse with status and optional specification",
        "operationId": "get_specification_status_api_v2_campaigns__campaign_id__specifications_status_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "campaign_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The campaign ID",
              "title": "Campaign Id"
            },
            "description": "The campaign ID"
          },
          {
            "name": "correlation_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Correlation ID from generation request for tracing",
              "title": "Correlation Id"
            },
            "description": "Correlation ID from generation request for tracing"
          }
        ],
        "responses": {
          "200": {
            "description": "Specification generation status returned",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CampaignSpecificationStatusResponse"
                }
              }
            }
          },
          "404": {
            "description": "Campaign not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/campaigns/{campaign_id}/exports/approval/status": {
      "get": {
        "tags": [
          "campaigns"
        ],
        "summary": "Get Exports Approval Status",
        "description": "Get detailed export approval status for a campaign.\n\nRMM L2 Compliant: Uses hierarchical path '/exports/approval/status'.\n\nReturns detailed approval status for the export workflow including:\n- Whether all content is approved\n- Count of approved posts\n- Total count of posts\n- List of unapproved content IDs (for UI to show what needs approval)\n\nUsed by export functionality to:\n- Enable/disable export button\n- Show which content items need approval before export\n- Provide detailed feedback to user\n\nReturns:\n    - approved: true if all content is approved, false otherwise\n    - approved_content: number of approved posts\n    - total_content: total number of posts in campaign\n    - unapproved_content_ids: list of content IDs that are not approved",
        "operationId": "get_exports_approval_status_api_v2_campaigns__campaign_id__exports_approval_status_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "campaign_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The campaign ID",
              "title": "Campaign Id"
            },
            "description": "The campaign ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Export approval status returned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CampaignExportApprovalStatus"
                }
              }
            }
          },
          "404": {
            "description": "Campaign content not found"
          },
          "500": {
            "description": "Failed to get export approval status"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/campaigns/{campaign_id}/export": {
      "get": {
        "tags": [
          "campaigns"
        ],
        "summary": "Get Campaign Export Data",
        "description": "Get campaign export data with content negotiation (RMM L2 compliant).\n\nIssue #1736: Added authorization check to prevent IDOR vulnerability.\n\nUses the Accept header for format selection instead of path-based format.\nCurrently supports: application/pdf\n\nRMM L2 Rationale:\n- Export data is a computed sub-resource of campaign\n- Format is requested via Accept header (content negotiation)\n- Follows HTTP specification for representation selection\n\nThis endpoint:\n- Returns all data needed for export generation\n- Includes campaign, brand, and content information\n- Supports content negotiation via Accept header\n- Performance target: <2s response time\n\nArgs:\n    response: FastAPI response object for setting headers\n    campaign_id: The campaign ID\n    accept: Accept header specifying desired format (default: application/pdf)\n    firebase_user: Authenticated user from Firebase JWT\n    campaign_service: Campaign service for ownership verification\n    campaign_export_repo: Repository for export data\n\nReturns:\n    CampaignExportData with campaign, brand, and content information\n\nRaises:\n    401: Not authenticated\n    403: Not authorized to access this campaign\n    404: Campaign not found\n    406: Requested format not acceptable",
        "operationId": "get_campaign_export_data_api_v2_campaigns__campaign_id__export_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "campaign_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The campaign ID",
              "title": "Campaign Id"
            },
            "description": "The campaign ID"
          },
          {
            "name": "accept",
            "in": "header",
            "required": false,
            "schema": {
              "type": "string",
              "description": "Content type for export format (e.g., application/pdf)",
              "default": "application/pdf",
              "title": "Accept"
            },
            "description": "Content type for export format (e.g., application/pdf)"
          }
        ],
        "responses": {
          "200": {
            "description": "Export data returned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CampaignExportData"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - authentication required"
          },
          "403": {
            "description": "Forbidden - user does not own this campaign"
          },
          "404": {
            "description": "Campaign not found"
          },
          "406": {
            "description": "Requested format not supported"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/campaigns/{campaign_id}/policy": {
      "post": {
        "tags": [
          "campaigns"
        ],
        "summary": "Create Scene Mix Policy",
        "description": "Create a scene mix policy for a campaign.\n\nCreates content mixing rules and policies for campaign content generation.\nRequires authentication and ownership of the campaign.\n\nIssue #1551: Added authentication and ownership verification.",
        "operationId": "create_scene_mix_policy_api_v2_campaigns__campaign_id__policy_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "campaign_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The campaign ID",
              "title": "Campaign Id"
            },
            "description": "The campaign ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SceneMixPolicyCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Policy created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SceneMixPolicyResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request data"
          },
          "401": {
            "description": "Unauthorized - authentication required"
          },
          "403": {
            "description": "Forbidden - user does not own this campaign"
          },
          "500": {
            "description": "Server error"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "campaigns"
        ],
        "summary": "Get Scene Mix Policy",
        "description": "Get scene mix policy for a campaign.\n\nReturns the content mixing policy configuration for the specified campaign.\nRequires authentication and ownership of the campaign.\n\nIssue #1551: Added authentication and ownership verification.",
        "operationId": "get_scene_mix_policy_api_v2_campaigns__campaign_id__policy_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "campaign_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The campaign ID",
              "title": "Campaign Id"
            },
            "description": "The campaign ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Policy returned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SceneMixPolicyResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - authentication required"
          },
          "403": {
            "description": "Forbidden - user does not own this campaign"
          },
          "404": {
            "description": "Policy not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/campaigns/{campaign_id}/plan": {
      "post": {
        "tags": [
          "campaigns"
        ],
        "summary": "Create Scene Mix Plan",
        "description": "Create a scene mix plan for a campaign.\n\nCreates a content generation plan with scheduling and content mix specifications.\nRequires authentication and ownership of the campaign.\n\nIssue #1551: Added authentication and ownership verification.",
        "operationId": "create_scene_mix_plan_api_v2_campaigns__campaign_id__plan_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "campaign_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The campaign ID",
              "title": "Campaign Id"
            },
            "description": "The campaign ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SceneMixPlanCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Plan created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SceneMixPlanResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request data"
          },
          "401": {
            "description": "Unauthorized - authentication required"
          },
          "403": {
            "description": "Forbidden - user does not own this campaign"
          },
          "500": {
            "description": "Server error"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "campaigns"
        ],
        "summary": "Get Scene Mix Plan",
        "description": "Get scene mix plan for a campaign.\n\nReturns the content generation plan and schedule for the specified campaign.\nRequires authentication and ownership of the campaign.\n\nIssue #1551: Added authentication and ownership verification.",
        "operationId": "get_scene_mix_plan_api_v2_campaigns__campaign_id__plan_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "campaign_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The campaign ID",
              "title": "Campaign Id"
            },
            "description": "The campaign ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Plan returned successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SceneMixPlanResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - authentication required"
          },
          "403": {
            "description": "Forbidden - user does not own this campaign"
          },
          "404": {
            "description": "Plan not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "campaigns"
        ],
        "summary": "Update Scene Mix Plan",
        "description": "Update a scene mix plan for a campaign.\n\nUpdates an existing content generation plan. Increments the policy version\nwhen significant changes are made.\nRequires authentication and ownership of the campaign.\n\nIssue #1551: Added authentication and ownership verification.",
        "operationId": "update_scene_mix_plan_api_v2_campaigns__campaign_id__plan_put",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "campaign_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The campaign ID",
              "title": "Campaign Id"
            },
            "description": "The campaign ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SceneMixPlanUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Plan updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SceneMixPlanResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - authentication required"
          },
          "403": {
            "description": "Forbidden - user does not own this campaign"
          },
          "404": {
            "description": "Plan not found"
          },
          "500": {
            "description": "Server error"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "campaigns"
        ],
        "summary": "Delete Scene Mix Plan",
        "description": "Delete a scene mix plan for a campaign.\n\nRemoves the content generation plan from the specified campaign.\nRequires authentication and ownership of the campaign.\n\nIssue #1551: Added authentication and ownership verification.",
        "operationId": "delete_scene_mix_plan_api_v2_campaigns__campaign_id__plan_delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "campaign_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The campaign ID",
              "title": "Campaign Id"
            },
            "description": "The campaign ID"
          }
        ],
        "responses": {
          "204": {
            "description": "Plan deleted successfully"
          },
          "401": {
            "description": "Unauthorized - authentication required"
          },
          "403": {
            "description": "Forbidden - user does not own this campaign"
          },
          "404": {
            "description": "Plan not found"
          },
          "500": {
            "description": "Server error"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/campaigns/{campaign_id}/plan/generations": {
      "post": {
        "tags": [
          "campaigns"
        ],
        "summary": "Generate Scene Mix Plan Async",
        "description": "Start async plan generation for a campaign.\n\nIssue #1736: Added authorization check to prevent IDOR vulnerability.\nIssue #2192: Uses agentic content generation with fat message pattern.\n\nThis endpoint publishes a content generation request to the agentic-content-generator.\nThe agentic service handles plan generation as part of its strategy phase.\nUse GET /campaigns/{campaign_id}/plan/generations/status to poll for completion.\n\nPrerequisites:\n- Policy must be generated first (POST /campaigns/{id}/policy)\n\nReturns:\n    202 Accepted with status_url and correlation_id for tracking",
        "operationId": "generate_scene_mix_plan_async_api_v2_campaigns__campaign_id__plan_generations_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "campaign_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "description": "The campaign ID",
              "title": "Campaign Id"
            },
            "description": "The campaign ID"
          }
        ],
        "responses": {
          "202": {
            "description": "Plan generation started",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PlanGenerationAcceptedResponse"
                }
              }
            }
          },
          "400": {
            "description": "Policy must be generated first"
          },
          "401": {
            "description": "Unauthorized - authentication required"
          },
          "403": {
            "description": "Forbidden - user does not own this campaign"
          },
          "404": {
            "description": "Campaign not found"
          },
          "500": {
            "description": "Server error"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/campaigns/{campaign_id}/plan/generations/status": {
      "get": {
        "tags": [
          "campaigns"
        ],
        "summary": "Get Plan Generation Status",
        "description": "Get plan generation status.\n\nIssue #1736: Added authorization check to prevent IDOR vulnerability.\nIssue #1547: Migrate /campaigns/{id}/plan to async publisher pattern.\n\nPoll this endpoint to check if plan generation is complete.\n\nReturns:\n    - status: \"generating\" if plan is being generated\n    - status: \"completed\" with plan if generation is complete\n    - status: \"failed\" with error_message if generation failed",
        "operationId": "get_plan_generation_status_api_v2_campaigns__campaign_id__plan_generations_status_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "campaign_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The campaign ID",
              "title": "Campaign Id"
            },
            "description": "The campaign ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Plan generation status returned",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PlanGenerationStatusResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - authentication required"
          },
          "403": {
            "description": "Forbidden - user does not own this campaign"
          },
          "404": {
            "description": "Campaign not found"
          },
          "500": {
            "description": "Server error"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/campaigns/{campaign_id}/plan/preview": {
      "post": {
        "tags": [
          "campaigns"
        ],
        "summary": "Preview Scene Mix Plan",
        "description": "Preview a scene mix plan with diversity metrics.\n\nGenerates a preview of the content plan with diversity metrics without\npersisting to the database. Use this endpoint during planning to evaluate\ndifferent configurations before committing.\nRequires authentication and ownership of the campaign.\n\nIssue #1551: Added authentication and ownership verification.\n\nReturns:\n    Policy preview with mix_goal, subtype_weights, rationale, and\n    diversity_metrics for the proposed plan configuration.",
        "operationId": "preview_scene_mix_plan_api_v2_campaigns__campaign_id__plan_preview_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "campaign_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The campaign ID",
              "title": "Campaign Id"
            },
            "description": "The campaign ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SceneMixPlanPreviewRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Preview generated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SceneMixPlanPreviewResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request data"
          },
          "401": {
            "description": "Unauthorized - authentication required"
          },
          "403": {
            "description": "Forbidden - user does not own this campaign"
          },
          "500": {
            "description": "Server error"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/content/{content_id}/captions": {
      "post": {
        "tags": [
          "captions"
        ],
        "summary": "Generate Caption",
        "description": "Generate captions for content.",
        "operationId": "generate_caption_api_v2_content__content_id__captions_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "content_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Content Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CaptionCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CaptionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "captions"
        ],
        "summary": "Get Captions",
        "description": "Get all captions for a content item.",
        "operationId": "get_captions_api_v2_content__content_id__captions_get",
        "parameters": [
          {
            "name": "content_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Content Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/CaptionResponse"
                  },
                  "title": "Response Get Captions Api V2 Content  Content Id  Captions Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/content/{content_id}/captions/{caption_id}": {
      "delete": {
        "tags": [
          "captions"
        ],
        "summary": "Delete Caption",
        "description": "Delete a specific caption.",
        "operationId": "delete_caption_api_v2_content__content_id__captions__caption_id__delete",
        "parameters": [
          {
            "name": "content_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Content Id"
            }
          },
          {
            "name": "caption_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Caption Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/content/{content_id}/approvals": {
      "post": {
        "tags": [
          "content-approval"
        ],
        "summary": "Approve Content",
        "description": "Approve or unapprove content for a specific day.\n\nIssue #1737: Added authorization check to prevent IDOR vulnerability.\n\nThis endpoint allows users to approve/reject content for a specific day.\nUpdates approval status in database and manages approval counters.\nDirect port from V1 tag v0.2.46.\n\nArgs:\n    firebase_user: Authenticated Firebase user (injected by auth dependency)\n    content_id: ID of the content to approve\n    request: Approval request with week, day, and post data\n    post_service: Post service for content lookup\n    campaign_service: Campaign service for ownership verification\n\nReturns:\n    Updated day data with approval status\n\nRaises:\n    HTTPException: 401/403 for auth errors, 404 if content not found, 400 if request invalid",
        "operationId": "approve_content_api_v2_content__content_id__approvals_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "content_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "description": "ID of the content to approve",
              "title": "Content Id"
            },
            "description": "ID of the content to approve"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ContentApprovalRequest",
                "description": "Approval request"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Content approval created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContentApprovalResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - authentication required"
          },
          "403": {
            "description": "Forbidden - user does not own this content"
          },
          "404": {
            "description": "Content not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/campaigns/{campaign_id}/content/approvals": {
      "post": {
        "tags": [
          "content-approval"
        ],
        "summary": "Create bulk content approvals",
        "description": "Bulk approve all content for a campaign. Creates approval records for multiple content items atomically.",
        "operationId": "create_content_approvals_api_v2_campaigns__campaign_id__content_approvals_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "campaign_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "description": "Campaign ID",
              "title": "Campaign Id"
            },
            "description": "Campaign ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BulkContentApprovalRequest",
                "description": "Bulk approval request"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Bulk approval completed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BulkContentApprovalResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - authentication required"
          },
          "403": {
            "description": "Forbidden - user does not own this campaign"
          },
          "404": {
            "description": "Campaign or content not found"
          },
          "400": {
            "description": "Invalid request data"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/content/{content_id}": {
      "patch": {
        "tags": [
          "content"
        ],
        "summary": "Update Content",
        "description": "Update content fields (e.g., approval status).\n\nIssue #1737: Added authorization check to prevent IDOR vulnerability.\n\nThis is the RMM Level 2 compliant endpoint for content updates\nincluding approval. Instead of POST /content/{id}/approve, we use\nPATCH /content/{id} with approved=true.\n\nExample: To approve content, send PATCH with {\"approved\": 1}",
        "operationId": "update_content_api_v2_content__content_id__patch",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "content_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Content Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ContentUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Content updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContentResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - authentication required"
          },
          "403": {
            "description": "Forbidden - user does not own this content"
          },
          "404": {
            "description": "Content not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/campaigns/{campaign_id}/content": {
      "get": {
        "tags": [
          "content"
        ],
        "summary": "Get Campaign Content",
        "description": "Get content for a campaign.\n\nIssue #1737: Added authorization check to prevent IDOR vulnerability.\nIssue #2137: Removed self-healing retry logic (moved to content-generator).\n\nThis is the RMM Level 2 compliant endpoint for retrieving campaign content.\nReturns the full content structure with weeks, days, and posts.\n\nStatus codes:\n- 200: Content exists and is returned\n- 204: Campaign exists but content not generated yet (poll again)\n- 401: Not authenticated\n- 403: Not authorized to access this campaign\n- 404: Campaign does not exist",
        "operationId": "get_campaign_content_api_v2_campaigns__campaign_id__content_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "campaign_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Campaign Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Content found and returned",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GeneratedContent"
                }
              }
            }
          },
          "204": {
            "description": "Campaign exists but content not ready yet"
          },
          "401": {
            "description": "Unauthorized - authentication required"
          },
          "403": {
            "description": "Forbidden - user does not own this campaign"
          },
          "404": {
            "description": "Campaign not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/content/{content_id}/status": {
      "patch": {
        "tags": [
          "content"
        ],
        "summary": "Update Content Status",
        "description": "Update content approval status.\n\nIssue #1737: Added authorization check to prevent IDOR vulnerability.\n\nRMM L2 Compliance: Status is a field on the content resource (not /approve action).\nThis replaces the V1 POST /api/v1/contentgen/approve endpoint.\n\nArgs:\n    firebase_user: Authenticated Firebase user (injected by auth dependency)\n    content_id: UUID of the content to update\n    status_update: New status and optional metadata\n    content_status_service: Injected status service\n    post_service: Post service for content lookup\n    campaign_service: Campaign service for ownership verification\n\nReturns:\n    ContentStatusResponse with updated status and metadata\n\nRaises:\n    HTTPException: 400 for invalid transition, 401/403 for auth errors, 404 if content not found",
        "operationId": "update_content_status_api_v2_content__content_id__status_patch",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "content_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Content ID",
              "title": "Content Id"
            },
            "description": "Content ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ContentStatusUpdate",
                "description": "Status update request"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Content status updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContentStatusResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - authentication required"
          },
          "403": {
            "description": "Forbidden - user does not own this content"
          },
          "404": {
            "description": "Content not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "content-generation-status"
        ],
        "summary": "Get Content Generation Status",
        "description": "Get detailed generation status for specific content.\n\nIssue #2306: Added authentication and ownership verification.\n\nThis endpoint provides granular status including per-post breakdown\nfor text and image generation status.\n\nIssue #1484: Part of LLM decoupling async infrastructure.",
        "operationId": "get_content_generation_status_api_v2_content__content_id__status_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "content_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "description": "Content ID",
              "title": "Content Id"
            },
            "description": "Content ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Detailed content generation status",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContentGenerationDetailStatus"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - authentication required"
          },
          "403": {
            "description": "Forbidden - user does not own this content"
          },
          "404": {
            "description": "Content not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/content/{content_id}/generation/status": {
      "get": {
        "tags": [
          "content"
        ],
        "summary": "Get Content Generation Status",
        "description": "Get detailed generation status for specific content.\n\nIssue #1737: Added authorization check to prevent IDOR vulnerability.\n\nReturns detailed status for content generation including:\n- Overall status (pending/generating/completed/failed)\n- Progress percentage (0-100)\n- Post-level breakdown (ready, generating, failed)\n- Optional per-post status when include_post_details=true\n- Error details for failed posts\n\nThis endpoint provides more granular status than the campaign-level\nendpoint, useful for debugging and detailed progress tracking.\n\nIssue #1484: Add async status polling endpoints for content generation.\n\nArgs:\n    content_id: Content ID to check status for\n    include_post_details: Whether to include per-post breakdown\n    firebase_user: Authenticated Firebase user\n    post_service: Post service for content lookup\n    campaign_service: Campaign service for ownership verification\n    generation_status_service: Service for generation status\n\nReturns:\n    ContentGenerationStatusResponse with detailed status",
        "operationId": "get_content_generation_status_api_v2_content__content_id__generation_status_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "content_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "description": "Content ID",
              "title": "Content Id"
            },
            "description": "Content ID"
          },
          {
            "name": "include_post_details",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Include per-post status breakdown",
              "default": false,
              "title": "Include Post Details"
            },
            "description": "Include per-post status breakdown"
          }
        ],
        "responses": {
          "200": {
            "description": "Generation status returned",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContentGenerationStatusResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - authentication required"
          },
          "403": {
            "description": "Forbidden - user does not own this content"
          },
          "404": {
            "description": "Content not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/content/{content_id}/exports": {
      "post": {
        "tags": [
          "content-exports"
        ],
        "summary": "Create Content Export",
        "description": "Create export tracking record for content.\n\nRMM L2: Creates an export resource (not RPC-style \"track-export\" action).\nThis endpoint replaces V1's POST /contentgen/track-export.\n\nArgs:\n    content_id: UUID of the content being exported\n    export_data: Export tracking data (platform, timestamp, metadata)\n\nReturns:\n    Created export record with ID and timestamps\n\nRaises:\n    404: Content not found\n    422: Invalid export data",
        "operationId": "create_content_export_api_v2_content__content_id__exports_post",
        "parameters": [
          {
            "name": "content_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Content Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ContentExportCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContentExportResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "content-exports"
        ],
        "summary": "List Content Exports",
        "description": "List all export records for a content item.\n\nRMM L2: Retrieves export resources for a content item.\nReturns list ordered by exported_at descending (most recent first).\n\nArgs:\n    content_id: UUID of the content\n\nReturns:\n    List of export records with total count\n\nRaises:\n    404: Content not found\n    422: Invalid content_id format",
        "operationId": "list_content_exports_api_v2_content__content_id__exports_get",
        "parameters": [
          {
            "name": "content_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Content Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContentExportListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/outputs/{pair_id}/feedback": {
      "post": {
        "tags": [
          "feedback"
        ],
        "summary": "Submit feedback for content",
        "description": "Submit user feedback (thumbs up/down, tags, ratings, comments) for a specific content/post pair. Feeds online learning system.",
        "operationId": "submit_feedback_api_v2_outputs__pair_id__feedback_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "pair_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Content/Post ID to provide feedback for",
              "title": "Pair Id"
            },
            "description": "Content/Post ID to provide feedback for"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ContentFeedbackCreate",
                "description": "Feedback submission data"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContentFeedbackResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "feedback"
        ],
        "summary": "Get feedback for content",
        "description": "Retrieve all feedback submissions for a specific content/post pair.",
        "operationId": "get_feedback_for_pair_api_v2_outputs__pair_id__feedback_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "pair_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Content/Post ID to get feedback for",
              "title": "Pair Id"
            },
            "description": "Content/Post ID to get feedback for"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ContentFeedbackResponse"
                  },
                  "title": "Response Get Feedback For Pair Api V2 Outputs  Pair Id  Feedback Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/feedback/aggregates": {
      "get": {
        "tags": [
          "feedback"
        ],
        "summary": "Get feedback aggregates",
        "description": "Get aggregated feedback statistics for a campaign including thumbs up/down counts, average ratings, tag distribution, and accuracy metrics.",
        "operationId": "get_feedback_aggregates_api_v2_feedback_aggregates_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "campaignId",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Campaign ID to get aggregates for",
              "title": "Campaignid"
            },
            "description": "Campaign ID to get aggregates for"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContentFeedbackAggregates"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/feedback/batch/collect": {
      "post": {
        "tags": [
          "feedback"
        ],
        "summary": "Submit batch feedback",
        "description": "Submit multiple feedback items in a single request for bulk processing.",
        "operationId": "submit_batch_feedback_api_v2_feedback_batch_collect_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ContentFeedbackBatchCreate",
                "description": "Batch of feedback items to submit"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BatchFeedbackResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v2/content/{content_id}/images": {
      "post": {
        "tags": [
          "content-images"
        ],
        "summary": "Create Content Image",
        "description": "Create a content image via upload.\n\nRMM L2: Resource creation via POST with 201 status and Location header.\n\nIssue #2190: Direct image generation removed (LLM code moved to workers).\nTo generate images, upload an existing image first, then use the\nPOST /images/{image_id}/regenerations endpoint.\n\nArgs:\n    content_id: Content ID (path parameter)\n    request: Image request with URL for upload\n    response: FastAPI response object for headers\n    service: Injected content image service\n\nReturns:\n    Created content image response\n\nRaises:\n    HTTPException: 422 if validation fails or generation requested",
        "operationId": "create_content_image_api_v2_content__content_id__images_post",
        "parameters": [
          {
            "name": "content_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Content Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ContentImageRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContentImageResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/content/{content_id}/images/{image_id}": {
      "patch": {
        "tags": [
          "content-images"
        ],
        "summary": "Update Image Prompt",
        "description": "Update the prompt for an existing image (does not regenerate).\n\nRMM L2: PATCH for partial resource update.\n\nThis endpoint allows updating the image prompt without triggering\nregeneration. Use POST /images/{image_id}/regenerations to regenerate.\n\nArgs:\n    content_id: Content ID (path parameter, for URL consistency)\n    image_id: Image ID to update\n    request: Image update request with new prompt\n    service: Injected content image service\n\nReturns:\n    Updated content image response\n\nRaises:\n    HTTPException: 404 if image not found\n    HTTPException: 422 if validation fails",
        "operationId": "update_image_prompt_api_v2_content__content_id__images__image_id__patch",
        "parameters": [
          {
            "name": "content_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Content Id"
            }
          },
          {
            "name": "image_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Image Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ContentImageUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContentImageResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/content/{content_id}/images/{image_id}/regenerations": {
      "post": {
        "tags": [
          "content-images"
        ],
        "summary": "Regenerate Image",
        "description": "Queue image regeneration with optional custom prompt.\n\nIssue #1480: Migrated to async Pub/Sub pattern.\nIssue #1993: Added authentication and user plan support.\n\nRMM L2: Returns 202 Accepted for async operations.\nThe endpoint uses '/regenerations' (noun) to comply with RMM L2.\n\nThis endpoint queues image regeneration using either:\n- The existing prompt (if custom_prompt not provided)\n- A new custom prompt (which also updates the stored prompt)\n\nThe actual regeneration is performed asynchronously by the\ncontent-generator worker via Pub/Sub.\n\nRegeneration limits are based on user's subscription plan:\n- FREE: 3 regenerations per post\n- PRO: 10 regenerations per post\n\nArgs:\n    content_id: Content ID (path parameter)\n    image_id: Image ID to regenerate\n    request: Regeneration request with optional custom prompt\n    response: FastAPI response object for headers\n    firebase_user: Decoded token claims (injected by auth dependency)\n    service: Injected content image service\n    user_service: Injected user service for plan lookup\n\nReturns:\n    Regeneration response with message_id for tracking\n\nRaises:\n    HTTPException: 401 if not authenticated\n    HTTPException: 404 if image not found\n    HTTPException: 400 if generation limit exceeded or no prompt available\n    HTTPException: 500 if queueing fails",
        "operationId": "regenerate_image_api_v2_content__content_id__images__image_id__regenerations_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "content_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Content Id"
            }
          },
          {
            "name": "image_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Image Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ContentImageRegenerateRequest"
              }
            }
          }
        },
        "responses": {
          "202": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContentImageRegenerationResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/outputs": {
      "post": {
        "tags": [
          "outputs"
        ],
        "summary": "Receive generated post from content-generator",
        "description": "Pub/Sub push endpoint for receiving individual generated posts from the content-generator service. Updates the pre-created post record by post_id with generated content (text, image, etc.).",
        "operationId": "receive_output_api_v2_outputs_post",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          },
          {
            "name": "X-PubSub-Secret",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Pubsub-Secret"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/src__schemas__content_generator_pubsub__PubSubPushEnvelope"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OutputAckResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/content/pulses": {
      "post": {
        "tags": [
          "outputs"
        ],
        "summary": "Receive content generation status pulse",
        "description": "Pub/Sub push endpoint for receiving real-time status pulses from the content-generator service. Stores pulse in Redis for frontend polling.",
        "operationId": "receive_content_pulse_api_v2_content_pulses_post",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          },
          {
            "name": "X-PubSub-Secret",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Pubsub-Secret"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/src__schemas__content_generator_pubsub__PubSubPushEnvelope"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/src__schemas__content_generator_pubsub__PulseAckResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/content/pulses/{correlation_id}": {
      "get": {
        "tags": [
          "outputs"
        ],
        "summary": "Get content generation status by correlation ID",
        "description": "Polling endpoint for frontend to get current content generation progress. Returns the latest pulse for a given correlation ID from Redis.",
        "operationId": "get_content_pulse_status_api_v2_content_pulses__correlation_id__get",
        "parameters": [
          {
            "name": "correlation_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Correlation ID from generation request",
              "title": "Correlation Id"
            },
            "description": "Correlation ID from generation request"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/src__schemas__content_generator_pubsub__PulseStatusResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/content/{content_id}/prompt": {
      "get": {
        "tags": [
          "content-prompts"
        ],
        "summary": "Get Content Prompt",
        "description": "Get image prompt data for a content item.\n\nThis endpoint retrieves image_prompt data from content.\nUsed by frontend to display/edit image generation prompts.\n\nCan filter by week/day/post_id to get specific prompt.\n\nArgs:\n    content_id: Content ID (string, converted to int internally)\n    week: Optional week number filter\n    day: Optional day number filter\n    post_id: Optional post ID filter\n    post_service: Injected content service\n\nReturns:\n    ContentPromptResponse with image_prompt data\n\nRaises:\n    HTTPException: 404 if content not found",
        "operationId": "get_content_prompt_api_v2_content__content_id__prompt_get",
        "parameters": [
          {
            "name": "content_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Content ID",
              "title": "Content Id"
            },
            "description": "Content ID"
          },
          {
            "name": "week",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Week number filter",
              "title": "Week"
            },
            "description": "Week number filter"
          },
          {
            "name": "day",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Day number filter",
              "title": "Day"
            },
            "description": "Day number filter"
          },
          {
            "name": "post_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Post ID filter",
              "title": "Post Id"
            },
            "description": "Post ID filter"
          }
        ],
        "responses": {
          "200": {
            "description": "Prompt data retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContentPromptResponse"
                }
              }
            }
          },
          "404": {
            "description": "Content not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "content-prompts"
        ],
        "summary": "Update Content Prompt",
        "description": "Update image prompt for a content item.\n\nThis endpoint updates image_prompt data in content.\nUsed by frontend to edit image generation prompts.\n\nArgs:\n    content_id: Content ID\n    request: Prompt update request with new image_prompt\n    post_service: Injected content service\n\nReturns:\n    ContentPromptResponse with updated prompt data\n\nRaises:\n    HTTPException: 404 if content not found",
        "operationId": "update_content_prompt_api_v2_content__content_id__prompt_put",
        "parameters": [
          {
            "name": "content_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Content ID",
              "title": "Content Id"
            },
            "description": "Content ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ContentPromptUpdate",
                "description": "Prompt update data"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Prompt updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContentPromptResponse"
                }
              }
            }
          },
          "404": {
            "description": "Content not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/crawls": {
      "get": {
        "tags": [
          "crawl-analytics"
        ],
        "summary": "Get Crawl Stats",
        "description": "Get crawl statistics with flexible query parameters.\n\nThis unified endpoint replaces the individual report-style endpoints\nfor RMM L2 compliance. Use the 'view' parameter to select the type\nof statistics to retrieve.\n\nArgs:\n    view: Type of statistics view (overview, trends, errors, brands)\n    days: Number of days to analyze (1-365, default: 30)\n    limit: Maximum results for errors (1-100) or brands (1-200)\n    interval: Aggregation interval for trends (\"day\" or \"hour\")\n    analytics_service: Injected analytics service\n\nReturns:\n    Statistics based on the selected view type",
        "operationId": "get_crawl_stats_api_v2_crawls_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "view",
            "in": "query",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/CrawlStatsView",
              "description": "View type: overview, trends, errors, or brands"
            },
            "description": "View type: overview, trends, errors, or brands"
          },
          {
            "name": "days",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 365,
              "minimum": 1,
              "default": 30,
              "title": "Days"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer",
                  "maximum": 200,
                  "minimum": 1
                },
                {
                  "type": "null"
                }
              ],
              "description": "Max results (errors/brands)",
              "title": "Limit"
            },
            "description": "Max results (errors/brands)"
          },
          {
            "name": "interval",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "pattern": "^(day|hour)$"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Interval for trends view",
              "title": "Interval"
            },
            "description": "Interval for trends view"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "anyOf": [
                    {
                      "$ref": "#/components/schemas/CrawlStatsOverview"
                    },
                    {
                      "$ref": "#/components/schemas/CrawlStatsTrends"
                    },
                    {
                      "$ref": "#/components/schemas/CrawlStatsErrors"
                    },
                    {
                      "$ref": "#/components/schemas/CrawlStatsBrands"
                    }
                  ],
                  "title": "Response Get Crawl Stats Api V2 Crawls Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/health": {
      "get": {
        "tags": [
          "health"
        ],
        "summary": "Health Check",
        "description": "Health check endpoint with database write verification.\n\nPerforms comprehensive database health check:\n1. Writes a test record to verify DB accepts writes\n2. Reads it back to verify data persistence\n3. Deletes it to clean up\n\nReturns:\n    200 OK with {\"status\": \"healthy\", \"database\": {...}, \"version\": {...}} if all checks pass\n    503 Service Unavailable with error details if any check fails",
        "operationId": "health_check_api_v2_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/v2/integrations/redirects": {
      "post": {
        "tags": [
          "integrations"
        ],
        "summary": "Get Integration Redirects",
        "description": "Get OAuth redirect URI for platform integration.\n\nThis is the RMM-2 compliant endpoint that replaces /integrations/redirect-uri.\nUses single-word resource name 'redirects' instead of hyphenated 'redirect-uri'.",
        "operationId": "get_integration_redirects_api_v2_integrations_redirects_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/IntegrationRedirectRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IntegrationRedirectResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/integrations": {
      "get": {
        "tags": [
          "integrations"
        ],
        "summary": "Get Integrations",
        "description": "Get all configured integrations for the authenticated user.\n\nArgs:\n    firebase_user: Authenticated Firebase user (injected by auth dependency)\n    integration_repo: Injected integration repository\n\nReturns:\n    List of integrations with total count\n\nRaises:\n    HTTPException: 401 if authentication fails\n    HTTPException: 500 if database query fails",
        "operationId": "get_integrations_api_v2_integrations_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IntegrationsListResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v2/integrations/{platform}/sessions": {
      "post": {
        "tags": [
          "integrations"
        ],
        "summary": "Create Integration Session",
        "description": "Create a new integration session with a platform.\n\nRMM Level 2 Compliant Pattern:\n- POST creates a new session resource\n- Resource-oriented URL: /integrations/{platform}/sessions\n- Uses noun-based resource name (no verbs in path)\n- Returns 201 Created with the new session/integration\n\nArgs:\n    platform: Platform name (instagram, facebook, linkedin, twitter)\n    request: Integration authentication request with tokens/code\n    firebase_user: Authenticated Firebase user (injected by auth dependency)\n    integration_repo: Injected integration repository\n\nReturns:\n    Created integration with ID\n\nRaises:\n    HTTPException: 400 if integration already exists or validation fails\n    HTTPException: 401 if authentication fails\n    HTTPException: 500 if database operation fails",
        "operationId": "create_integration_session_api_v2_integrations__platform__sessions_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "platform",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Platform"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/IntegrationAuthRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IntegrationResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/integrations/{platform}": {
      "delete": {
        "tags": [
          "integrations"
        ],
        "summary": "Disconnect Integration",
        "description": "Disconnect a platform integration.\n\nArgs:\n    platform: Platform name (instagram, facebook, linkedin, twitter)\n    firebase_user: Authenticated Firebase user (injected by auth dependency)\n    integration_repo: Injected integration repository\n\nReturns:\n    None (204 No Content)\n\nRaises:\n    HTTPException: 401 if authentication fails\n    HTTPException: 404 if integration not found\n    HTTPException: 500 if database operation fails",
        "operationId": "disconnect_integration_api_v2_integrations__platform__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "platform",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Platform"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/integrations/instagram/oauth": {
      "post": {
        "tags": [
          "integrations"
        ],
        "summary": "Instagram Oauth",
        "description": "Exchange Instagram OAuth authorization code for access token.\n\nThis endpoint handles the Instagram OAuth callback by:\n1. Exchanging the authorization code for a short-lived token\n2. Exchanging the short-lived token for a long-lived token (60 days)\n3. Fetching user profile information\n4. Storing the integration in the database\n\nRMM Level 2 Compliance:\n- POST to /integrations/instagram/oauth creates a new OAuth integration\n- HTTP verb (POST) indicates resource creation\n- Returns 201 Created on success\n\nArgs:\n    firebase_user: Authenticated Firebase user (injected by auth dependency)\n    request: Instagram OAuth request with authorization code and redirect URI\n    instagram_oauth_service: Injected Instagram OAuth service\n\nReturns:\n    Instagram OAuth response with access token and user info\n\nRaises:\n    HTTPException: 400 if OAuth exchange fails (invalid code, etc.)\n    HTTPException: 500 if server error occurs",
        "operationId": "instagram_oauth_api_v2_integrations_instagram_oauth_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/InstagramOAuthRequest",
                "description": "Instagram OAuth request"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InstagramOAuthResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v2/campaigns/{campaign_id}/learn": {
      "post": {
        "tags": [
          "learning"
        ],
        "summary": "Run learning cycle",
        "description": "Run a complete learning cycle for a campaign. Aggregates feedback signals, computes learning signals from Thompson Sampling posteriors, generates policy recommendations, and optionally applies updates and triggers plan regeneration when thresholds are met.",
        "operationId": "run_learning_cycle_api_v2_campaigns__campaign_id__learn_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "campaign_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Campaign ID to run learning cycle for",
              "examples": [
                "123",
                "campaign-abc"
              ],
              "title": "Campaign Id"
            },
            "description": "Campaign ID to run learning cycle for"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LearningRequest",
                "description": "Learning cycle configuration (optional)",
                "default": {
                  "approvalThreshold": 0.7,
                  "minFeedbackCount": 10,
                  "autoApply": false,
                  "forceRegeneration": false
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Learning cycle completed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LearningResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid campaign ID or request parameters"
          },
          "401": {
            "description": "Authentication required"
          },
          "404": {
            "description": "Campaign not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/campaigns/{campaign_id}/learning/status": {
      "get": {
        "tags": [
          "learning"
        ],
        "summary": "Get learning status",
        "description": "Get the current learning status for a campaign including Thompson Sampler state, scene types being tracked, feedback counts, and exploration rate.",
        "operationId": "get_learning_status_api_v2_campaigns__campaign_id__learning_status_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "campaign_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Campaign ID to get learning status for",
              "examples": [
                "123",
                "campaign-abc"
              ],
              "title": "Campaign Id"
            },
            "description": "Campaign ID to get learning status for"
          }
        ],
        "responses": {
          "200": {
            "description": "Learning status retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LearningStatus"
                }
              }
            }
          },
          "400": {
            "description": "Invalid campaign ID"
          },
          "401": {
            "description": "Authentication required"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/metrics": {
      "get": {
        "tags": [
          "metrics"
        ],
        "summary": "Prometheus Metrics",
        "description": "Returns Prometheus-compatible metrics for monitoring.",
        "operationId": "get_metrics_api_v2_metrics_get",
        "responses": {
          "200": {
            "description": "Prometheus metrics in text format",
            "content": {
              "text/plain": {}
            }
          }
        }
      }
    },
    "/api/v2/outputs/batch/select": {
      "post": {
        "tags": [
          "Post Selection"
        ],
        "summary": "Batch update post selection status",
        "description": "Update selection status for multiple posts in a single request.",
        "operationId": "batch_update_selections_api_v2_outputs_batch_select_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BatchPostSelectionRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BatchPostSelectionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v2/outputs/{post_id}/select": {
      "post": {
        "tags": [
          "Post Selection"
        ],
        "summary": "Update post selection status",
        "description": "Update the selection status (approved/rejected) for a single post.",
        "operationId": "update_selection_api_v2_outputs__post_id__select_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "post_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Post Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PostSelectionUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PostSelectionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/outputs/selection/rates": {
      "get": {
        "tags": [
          "Post Selection"
        ],
        "summary": "Get selection rates by scene type",
        "description": "Get selection rate aggregates grouped by scene_type for a campaign.",
        "operationId": "get_selection_rates_api_v2_outputs_selection_rates_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "campaignId",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "description": "Campaign ID to get rates for",
              "title": "Campaignid"
            },
            "description": "Campaign ID to get rates for"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/SelectionRateBySceneType"
                  },
                  "title": "Response Get Selection Rates Api V2 Outputs Selection Rates Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/posts/{post_id}/versions": {
      "post": {
        "tags": [
          "post-versions"
        ],
        "summary": "Create a new version of a post",
        "description": "Create a new version of a post by regenerating text, media, or both.\n\n        Returns 202 Accepted immediately. Use the status_url to poll for completion.\n\n        **Targets:**\n        - `text`: Regenerate caption/text only\n        - `media`: Regenerate specific media item (requires media_id)\n        - `all`: Regenerate both text and media",
        "operationId": "create_post_version",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "post_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Post Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateVersionRequest"
              }
            }
          }
        },
        "responses": {
          "202": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CreateVersionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "post-versions"
        ],
        "summary": "Get version history for a post",
        "description": "Returns complete version history with lineage information.",
        "operationId": "get_post_versions",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "post_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Post Id"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Max versions to return",
              "default": 50,
              "title": "Limit"
            },
            "description": "Max versions to return"
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "description": "Offset for pagination",
              "default": 0,
              "title": "Offset"
            },
            "description": "Offset for pagination"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VersionHistoryResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/versions/{request_id}/status": {
      "get": {
        "tags": [
          "post-versions"
        ],
        "summary": "Get status of version creation request",
        "description": "Poll status of async version creation.",
        "operationId": "get_version_status",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "request_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Request Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VersionStatusResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/posts/{post_id}/versions/{version_id}/diff": {
      "get": {
        "tags": [
          "post-versions"
        ],
        "summary": "Get diff between a version and its parent",
        "description": "Calculate and return the diff between a specific version and its parent.\n\n        Shows what changed between versions, including:\n        - Line-by-line text diff with additions/deletions\n        - Similarity ratio (0-1) to detect edits vs regeneration\n        - Media change detection\n\n        **Change Types:**\n        - `no_change`: No differences\n        - `text_edit`: Manual text edits (high similarity)\n        - `regenerate`: Full regeneration (low similarity)\n        - `media_change`: Only media changed\n        - `both`: Both text and media changed",
        "operationId": "get_version_diff",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "post_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Post Id"
            }
          },
          {
            "name": "version_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Version Id"
            }
          },
          {
            "name": "compareTo",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Version to compare against (default: parent version)",
              "title": "Compareto"
            },
            "description": "Version to compare against (default: parent version)"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VersionDiffResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/prompts": {
      "get": {
        "tags": [
          "prompts"
        ],
        "summary": "List Prompts",
        "description": "List application prompts with optional category filtering.\n\nBusiness Context:\nReturns system-level AI prompts used for content generation.\nFiltering by category helps frontend fetch only relevant prompts.\n\nPerformance:\n- Response time: <10ms (in-memory cache)\n- Cache-Control header set for client-side caching\n- No database calls required\n\nRMM Level 2:\n- HTTP GET for resource retrieval\n- Query parameter for filtering (not in URL path)\n- Returns 200 OK with list of prompts\n\nArgs:\n    response: FastAPI response object for setting headers\n    category: Optional category filter (brand, content, campaign)\n    prompts_service: Injected prompts service\n\nReturns:\n    PromptsListResponse containing matching prompts\n\nExample:\n    GET /api/v2/prompts\n    GET /api/v2/prompts?category=brand\n\nResponse:\n    {\n      \"prompts\": [\n        {\n          \"id\": \"brand_summary_v1\",\n          \"category\": \"brand\",\n          \"template\": \"Create a summary for {brand_name}...\",\n          \"variables\": [\"brand_name\"],\n          \"version\": \"1.0.0\",\n          \"description\": \"Brand summary generation\"\n        }\n      ],\n      \"total\": 1\n    }",
        "operationId": "list_prompts_api_v2_prompts_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "category",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter prompts by category (e.g., 'brand', 'content', 'campaign')",
              "title": "Category"
            },
            "description": "Filter prompts by category (e.g., 'brand', 'content', 'campaign')",
            "example": "brand"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PromptsListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "prompts"
        ],
        "summary": "Create Prompt",
        "description": "Create a new prompt.\n\nBusiness Context:\nCreates a new AI prompt template that can be used for content generation.\nThe prompt ID must be unique across all prompts.\n\nRMM Level 2:\n- HTTP POST for resource creation\n- POST to collection endpoint (/prompts)\n- Returns 201 Created with new resource\n- Location header would point to new resource (best practice)\n\nArgs:\n    request: Prompt creation data\n    prompts_service: Injected prompts service\n\nReturns:\n    Created prompt with all fields\n\nRaises:\n    HTTPException: 409 if prompt ID already exists\n    HTTPException: 400 if validation fails\n\nExample:\n    POST /api/v2/prompts\n    {\n      \"id\": \"content_variation_v1\",\n      \"category\": \"content\",\n      \"template\": \"Generate variations...\",\n      \"variables\": [\"brand_name\"],\n      \"version\": \"1.0.0\",\n      \"description\": \"Content variation generator\"\n    }",
        "operationId": "create_prompt_api_v2_prompts_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PromptCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Prompt created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PromptResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request data"
          },
          "409": {
            "description": "Prompt with this ID already exists"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/crawler/pulses": {
      "post": {
        "tags": [
          "pulses"
        ],
        "summary": "Receive crawler status pulse",
        "description": "Pub/Sub push endpoint for receiving real-time status pulses from the agentic brand crawler. Stores pulse in Redis for frontend polling.",
        "operationId": "receive_pulse_api_v2_crawler_pulses_post",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Authorization"
            }
          },
          {
            "name": "X-PubSub-Secret",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "X-Pubsub-Secret"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/src__schemas__crawler_pulses__PubSubPushEnvelope"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/src__schemas__crawler_pulses__PulseAckResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/crawler/pulses/{correlation_id}": {
      "get": {
        "tags": [
          "pulses"
        ],
        "summary": "Get crawler status by correlation ID",
        "description": "Polling endpoint for frontend to get current crawl progress. Returns the latest pulse for a given correlation ID from Redis.",
        "operationId": "get_pulse_status_api_v2_crawler_pulses__correlation_id__get",
        "parameters": [
          {
            "name": "correlation_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Correlation ID from crawl request",
              "title": "Correlation Id"
            },
            "description": "Correlation ID from crawl request"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/src__schemas__crawler_pulses__PulseStatusResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/scenes/performance": {
      "post": {
        "tags": [
          "scenes"
        ],
        "summary": "Ingest performance metric",
        "description": "Ingest a single scene performance metric from external analytics. Used to track CTR, engagement rate, and conversion rate by scene type.",
        "operationId": "ingest_metric_api_v2_scenes_performance_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ScenePerformanceMetricCreate",
                "description": "Performance metric data"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ScenePerformanceMetricResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "scenes"
        ],
        "summary": "Get metrics by campaign",
        "description": "Retrieve all performance metrics for a campaign with pagination.",
        "operationId": "get_metrics_by_campaign_api_v2_scenes_performance_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "campaignId",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "description": "Campaign ID to get metrics for",
              "title": "Campaignid"
            },
            "description": "Campaign ID to get metrics for"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 1000,
              "minimum": 1,
              "description": "Maximum results to return",
              "default": 100,
              "title": "Limit"
            },
            "description": "Maximum results to return"
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "description": "Results to skip",
              "default": 0,
              "title": "Offset"
            },
            "description": "Results to skip"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ScenePerformanceMetricResponse"
                  },
                  "title": "Response Get Metrics By Campaign Api V2 Scenes Performance Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/scenes/performance/batch": {
      "post": {
        "tags": [
          "scenes"
        ],
        "summary": "Ingest batch metrics",
        "description": "Ingest multiple performance metrics in a single request.",
        "operationId": "ingest_batch_metrics_api_v2_scenes_performance_batch_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ScenePerformanceMetricBatchCreate",
                "description": "Batch of metrics to ingest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BatchMetricResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v2/scenes/performance/aggregates": {
      "get": {
        "tags": [
          "scenes"
        ],
        "summary": "Get aggregated metrics by scene type",
        "description": "Get aggregated performance statistics grouped by scene type. Optionally filter by campaign ID.",
        "operationId": "get_aggregates_by_scene_type_api_v2_scenes_performance_aggregates_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "campaignId",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Optional campaign ID to filter by",
              "title": "Campaignid"
            },
            "description": "Optional campaign ID to filter by"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ScenePerformanceAggregates"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/scheduled-posts": {
      "get": {
        "tags": [
          "scheduled-posts"
        ],
        "summary": "List Scheduled Posts",
        "description": "List all scheduled posts for the authenticated user.\n\nReturns a list of scheduled posts optionally filtered by status.\nPosts are ordered by scheduled time.\n\nArgs:\n    firebase_user: Authenticated user from JWT\n    status: Optional status filter\n\nReturns:\n    ScheduledPostListResponse with list of posts",
        "operationId": "list_scheduled_posts_api_v2_scheduled_posts_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "status",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "$ref": "#/components/schemas/ScheduledPostStatus"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by status",
              "title": "Status"
            },
            "description": "Filter by status"
          }
        ],
        "responses": {
          "200": {
            "description": "Scheduled posts list returned",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ScheduledPostListResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/campaigns/{campaign_id}/scheduled-posts": {
      "get": {
        "tags": [
          "scheduled-posts"
        ],
        "summary": "List Campaign Scheduled Posts",
        "description": "List all scheduled posts for a specific campaign.\n\nReturns scheduled posts for the given campaign, optionally filtered by status.\nPosts are ordered by scheduled time.\n\nArgs:\n    campaign_id: Campaign ID to filter by\n    status: Optional status filter\n\nReturns:\n    ScheduledPostListResponse with list of posts for the campaign",
        "operationId": "list_campaign_scheduled_posts_api_v2_campaigns__campaign_id__scheduled_posts_get",
        "parameters": [
          {
            "name": "campaign_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "description": "Campaign ID",
              "title": "Campaign Id"
            },
            "description": "Campaign ID"
          },
          {
            "name": "status",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "$ref": "#/components/schemas/ScheduledPostStatus"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by status",
              "title": "Status"
            },
            "description": "Filter by status"
          }
        ],
        "responses": {
          "200": {
            "description": "Scheduled posts for campaign returned",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ScheduledPostListResponse"
                }
              }
            }
          },
          "404": {
            "description": "Campaign not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/scheduled-posts/{post_id}": {
      "get": {
        "tags": [
          "scheduled-posts"
        ],
        "summary": "Get Scheduled Post",
        "description": "Get a scheduled post by its unique post ID.\n\nArgs:\n    post_id: Unique post identifier\n\nReturns:\n    ScheduledPostResponse with post details\n\nRaises:\n    404: If post not found",
        "operationId": "get_scheduled_post_api_v2_scheduled_posts__post_id__get",
        "parameters": [
          {
            "name": "post_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Unique post ID",
              "title": "Post Id"
            },
            "description": "Unique post ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Scheduled post returned",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ScheduledPostResponse"
                }
              }
            }
          },
          "404": {
            "description": "Scheduled post not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/scheduled-posts/{post_id}/cancel": {
      "post": {
        "tags": [
          "scheduled-posts"
        ],
        "summary": "Cancel Scheduled Post",
        "description": "Cancel a scheduled post.\n\nCancels the scheduled post and deletes the Cloud Scheduler job.\nCannot cancel posts that are already published or cancelled.\n\nArgs:\n    post_id: Unique post identifier\n    request: Optional cancellation reason\n    firebase_user: Authenticated user\n\nReturns:\n    CancelScheduledPostResponse with result\n\nRaises:\n    404: If post not found\n    400: If post cannot be cancelled in current state",
        "operationId": "cancel_scheduled_post_api_v2_scheduled_posts__post_id__cancel_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "post_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Unique post ID",
              "title": "Post Id"
            },
            "description": "Unique post ID"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CancelScheduledPostRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Scheduled post cancelled",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CancelScheduledPostResponse"
                }
              }
            }
          },
          "404": {
            "description": "Scheduled post not found"
          },
          "400": {
            "description": "Cannot cancel post in current state"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/scheduled-posts/{post_id}/status": {
      "patch": {
        "tags": [
          "scheduled-posts"
        ],
        "summary": "Update Scheduled Post Status",
        "description": "Update the status of a scheduled post.\n\nThis endpoint is primarily used by the campaign-publisher worker\nto update status after publishing attempts.\n\nArgs:\n    post_id: Unique post identifier\n    request: Status update with optional error message and Instagram post ID\n\nReturns:\n    Updated ScheduledPostResponse\n\nRaises:\n    404: If post not found",
        "operationId": "update_scheduled_post_status_api_v2_scheduled_posts__post_id__status_patch",
        "parameters": [
          {
            "name": "post_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Unique post ID",
              "title": "Post Id"
            },
            "description": "Unique post ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ScheduledPostStatusUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Status updated",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ScheduledPostResponse"
                }
              }
            }
          },
          "404": {
            "description": "Scheduled post not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/signups": {
      "post": {
        "tags": [
          "signups"
        ],
        "summary": "Create Signup",
        "description": "Create a new beta signup from landing page form.\n\nThis endpoint captures beta signup submissions from the landing page\nContact form. No authentication is required as this is a public endpoint\nfor prospective users.\n\nArgs:\n    request: Signup data including name, email, and industry\n\nReturns:\n    SignupResponse with created signup data and ID\n\nRaises:\n    HTTPException 400: If email already exists or data is invalid\n    HTTPException 500: If signup creation fails due to server error",
        "operationId": "create_signup_api_v2_signups_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SignupCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Signup created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SignupResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request data or email already exists"
          },
          "500": {
            "description": "Internal server error"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/brands/{brand_id}/social/instagram/analyze": {
      "post": {
        "tags": [
          "social-media"
        ],
        "summary": "Analyze Instagram Profile",
        "description": "Analyze a brand's Instagram presence.\n\nFetches profile information and recent posts from Instagram Graph API,\nthen extracts insights including:\n- Posting patterns and frequency\n- Best posting times and days\n- Engagement analysis (likes, comments, rates)\n- Content themes and hashtag strategy\n- Top performing content types\n\nThe analysis results are stored in brand knowledge for use in\ncontent generation.\n\nArgs:\n    brand_id: The brand to analyze\n    request: Optional analysis parameters (defaults to include_posts=True, max_posts=25)\n    social_media_service: Injected social media analyzer service\n\nReturns:\n    Complete Instagram analysis including engagement metrics,\n    posting patterns, and content insights",
        "operationId": "analyze_instagram_profile_api_v2_brands__brand_id__social_instagram_analyze_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "brand_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The brand ID to analyze",
              "title": "Brand Id"
            },
            "description": "The brand ID to analyze"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "anyOf": [
                  {
                    "$ref": "#/components/schemas/AnalyzeInstagramRequest"
                  },
                  {
                    "type": "null"
                  }
                ],
                "title": "Request"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Analysis completed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AnalyzeInstagramResponse"
                }
              }
            }
          },
          "401": {
            "description": "Authentication required"
          },
          "403": {
            "description": "Not authorized to access this brand"
          },
          "404": {
            "description": "Brand not found or no Instagram integration"
          },
          "500": {
            "description": "Analysis failed"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/threads/{thread_id}/messages": {
      "post": {
        "tags": [
          "threads"
        ],
        "summary": "Create Message",
        "description": "Add a message to a thread.\n\nCreates a new message in the conversation thread.\nAutomatically updates the thread's updated_at timestamp.\n\nSecurity:\n- Requires Firebase authentication\n- User ID extracted from authenticated token\n- Users can only add messages to their own threads",
        "operationId": "create_message_api_v2_threads__thread_id__messages_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "thread_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The thread ID",
              "title": "Thread Id"
            },
            "description": "The thread ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ThreadMessageCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Message created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ThreadMessageResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request data"
          },
          "401": {
            "description": "Authentication required"
          },
          "404": {
            "description": "Thread not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "threads"
        ],
        "summary": "Get Messages",
        "description": "Get messages for a thread.\n\nReturns messages in chronological order (oldest first).\nSupports pagination for long conversations.\n\nSecurity:\n- Requires Firebase authentication\n- User ID extracted from authenticated token\n- Users can only see messages from their own threads",
        "operationId": "get_messages_api_v2_threads__thread_id__messages_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "thread_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "The thread ID",
              "title": "Thread Id"
            },
            "description": "The thread ID"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 200,
              "minimum": 1,
              "description": "Maximum number of messages",
              "default": 50,
              "title": "Limit"
            },
            "description": "Maximum number of messages"
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "description": "Number of messages to skip",
              "default": 0,
              "title": "Offset"
            },
            "description": "Number of messages to skip"
          }
        ],
        "responses": {
          "200": {
            "description": "List of messages returned",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ThreadMessageResponse"
                  },
                  "title": "Response Get Messages Api V2 Threads  Thread Id  Messages Get"
                }
              }
            }
          },
          "401": {
            "description": "Authentication required"
          },
          "404": {
            "description": "Thread not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/users": {
      "post": {
        "tags": [
          "users"
        ],
        "summary": "Register Native User",
        "description": "Register a new user with native email/password authentication.\n\nCreates a new user account with native authentication (password stored\nsecurely with bcrypt) and sends an email verification link via SendGrid.\n\nThe user must verify their email before they can log in.\n\nRMM Level 2 Compliance:\n- POST to /users collection creates new user resource\n- HTTP verb (POST) indicates create action\n- No verbs in URL path\n- Returns 201 Created with user resource\n\nArgs:\n    request: User registration data including email, password (min 8 chars), and name\n\nReturns:\n    UserRegistrationResponse with user data and email verification status\n\nRaises:\n    HTTPException 400: If email already exists or data is invalid\n    HTTPException 500: If registration fails due to server error",
        "operationId": "register_native_user_api_v2_users_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NativeUserCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "User registered successfully, email verification sent",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserRegistrationResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request data or email already exists"
          },
          "500": {
            "description": "Internal server error during registration"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/verifications": {
      "post": {
        "tags": [
          "users"
        ],
        "summary": "Verify Email",
        "description": "Verify user email with verification token.\n\nVerifies the user's email address using the token sent during registration.\nAfter successful verification, the user can log in.\n\nRMM Level 2 Compliance:\n- POST to /verifications creates new verification resource (state change)\n- HTTP verb (POST) indicates create/submit action\n- No verbs in URL path\n\nArgs:\n    request: Email verification request with token\n\nReturns:\n    UserResponse with email_verified=True\n\nRaises:\n    HTTPException 400: If token is invalid or expired\n    HTTPException 500: If verification fails due to server error",
        "operationId": "verify_email_api_v2_verifications_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/EmailVerificationRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Email verified successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid or expired verification token"
          },
          "500": {
            "description": "Internal server error during verification"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/verifications/resend": {
      "post": {
        "tags": [
          "users"
        ],
        "summary": "Resend Verification Email Public",
        "description": "Resend email verification email (public endpoint, no auth required).\n\nThis endpoint allows unauthenticated users to request a new verification\nemail. This is necessary because users cannot authenticate until their\nemail is verified, but they may need to request a new verification email\nif the original one expired or was lost.\n\nSecurity consideration: Always returns success message regardless of\nwhether the email exists or was sent, to prevent email enumeration attacks.\n\nRMM Level 2 Compliance:\n- Resource-based URL: /verifications/resend\n- HTTP method (POST) indicates action\n- No verbs in URL path (resend is a sub-resource, not a verb)\n- Returns generic response for security\n\nArgs:\n    request: Request containing user email address\n\nReturns:\n    ResendVerificationResponse with generic success message",
        "operationId": "resend_verification_email_public_api_v2_verifications_resend_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ResendVerificationRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Request processed (email sent if user exists and is unverified)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ResendVerificationResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/sessions": {
      "post": {
        "tags": [
          "users"
        ],
        "summary": "Create Session",
        "description": "Create or refresh an authentication session (RMM L2 compliant).\n\nThis unified endpoint handles both login and token refresh operations\nbased on the grant_type parameter in the request body.\n\nSupported grant types:\n- \"password\": Login with email and password\n- \"refresh_token\": Refresh an existing session using refresh token\n\nRMM Level 2 Compliance:\n- POST to /sessions creates/refreshes session resource\n- HTTP verb (POST) indicates create action\n- No verbs in URL path\n- Grant type differentiates operation (OAuth2 pattern)\n\nArgs:\n    request: Session request with grant_type and appropriate fields\n\nReturns:\n    SessionResponse with tokens and optionally user profile\n\nRaises:\n    HTTPException 400: If required fields are missing or invalid\n    HTTPException 401: If authentication/refresh fails\n    HTTPException 500: If server error occurs",
        "operationId": "create_session_api_v2_sessions_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SessionRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Session created/refreshed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SessionResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request (missing fields or invalid grant_type)"
          },
          "401": {
            "description": "Authentication failed or token invalid"
          },
          "429": {
            "description": "Account locked due to too many failed login attempts (Issue #2317)"
          },
          "500": {
            "description": "Internal server error"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      },
      "delete": {
        "tags": [
          "users"
        ],
        "summary": "Delete Session",
        "description": "Delete authentication session (logout).\n\nInvalidates the current user's token by adding it to the blacklist.\nAfter logout, the token will be rejected by the authentication middleware.\n\nRMM Level 2 Compliance:\n- DELETE to /sessions deletes the session resource\n- HTTP verb (DELETE) indicates delete action\n- No verbs in URL path (not /logout, but DELETE /sessions)\n\nArgs:\n    firebase_user: Decoded token claims (injected by auth dependency)\n    credentials: HTTP Bearer token credentials from request header\n    token_blacklist_service: Injected token blacklist service\n\nReturns:\n    LogoutResponse with confirmation message\n\nRaises:\n    HTTPException 401: If authentication token is missing or invalid\n    HTTPException 500: If logout fails due to server error",
        "operationId": "delete_session_api_v2_sessions_delete",
        "responses": {
          "200": {
            "description": "Logout successful, token invalidated",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LogoutResponse"
                }
              }
            }
          },
          "401": {
            "description": "Authentication required or token invalid"
          },
          "500": {
            "description": "Internal server error during logout"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v2/passwords": {
      "post": {
        "tags": [
          "users"
        ],
        "summary": "Create Password Reset",
        "description": "Create a password reset request (RMM Level 2 compliant).\n\nCreates a new password-reset resource and sends an email with reset token\nto the user if the email exists.\n\nSecurity consideration: Always returns success message regardless of whether\nemail exists, to prevent email enumeration attacks.\n\nRMM Level 2 Compliance:\n- POST to /passwords creates new password-reset resource\n- Resource-based URL (noun, not verb)\n- Returns 201 Created with generic success message\n\nArgs:\n    request: Password reset creation request with email\n\nReturns:\n    PasswordResetCreateResponse with generic success message",
        "operationId": "create_password_reset_api_v2_passwords_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PasswordResetCreateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Password reset request created (email sent if exists)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PasswordResetCreateResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/passwords/{token}": {
      "put": {
        "tags": [
          "users"
        ],
        "summary": "Update Password Reset",
        "description": "Complete a password reset by setting new password (RMM Level 2 compliant).\n\nUpdates the password-reset resource identified by token, setting the\nuser's new password.\n\nRMM Level 2 Compliance:\n- PUT to /passwords/{token} updates the resource\n- Token in path as resource identifier\n- New password in request body\n- Resource-based URL structure\n\nArgs:\n    token: Password reset token from email (path parameter)\n    request: Password reset update request with new password\n\nReturns:\n    PasswordResetUpdateResponse with success message\n\nRaises:\n    HTTPException 400: If reset token is invalid or expired\n    HTTPException 500: If password reset fails",
        "operationId": "update_password_reset_api_v2_passwords__token__put",
        "parameters": [
          {
            "name": "token",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "description": "Password reset token from email",
              "title": "Token"
            },
            "description": "Password reset token from email"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PasswordResetUpdateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Password reset successful",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PasswordResetUpdateResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid or expired reset token"
          },
          "500": {
            "description": "Internal server error"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/users/me": {
      "get": {
        "tags": [
          "users"
        ],
        "summary": "Get Current User",
        "description": "Get current authenticated user profile.\n\nRetrieves the profile of the currently authenticated user based on\ntheir authentication token. Supports both Firebase Auth and native\nemail/password authentication.\n\nFor native auth users:\n- Token contains uid = database user ID\n- Look up user by ID directly\n\nFor Firebase auth users:\n- Token contains uid = Firebase UID\n- Look up user by Firebase UID, or create if first login (lazy sync)\n\nThis endpoint implements lazy user creation for Firebase Auth users.\nIf a user authenticates via Firebase but doesn't have a database record,\none is created automatically using data from the Firebase token.\n\nThe response includes a has_brand field indicating whether the user\nhas any associated brands in the system.\n\nRMM Level 2 Compliance:\n- Resource-based URL: /users/me\n- HTTP method (GET) indicates read action\n- No verbs in URL path\n- Uses /me convention for current authenticated user\n\nArgs:\n    firebase_user: Decoded token claims (injected by auth dependency)\n    user_service: Injected user service\n\nReturns:\n    UserResponse with user profile data including has_brand field\n\nRaises:\n    HTTPException 401: If authentication token is missing or invalid\n    HTTPException 500: If database or server error occurs",
        "operationId": "get_current_user_api_v2_users_me_get",
        "responses": {
          "200": {
            "description": "Current user profile retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserResponse"
                }
              }
            }
          },
          "401": {
            "description": "Authentication required or token invalid"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v2/users/me/verifications": {
      "post": {
        "tags": [
          "users"
        ],
        "summary": "Resend Verification Email",
        "description": "Resend email verification email to current user.\n\nResends the email verification email with a new verification token\nto the currently authenticated user. Only works for native auth users\nwho have not yet verified their email.\n\nRMM Level 2 Compliance:\n- Resource-based URL: /users/me/verifications\n- HTTP method (POST) indicates create action\n- No verbs in URL path\n- Uses /me convention for current authenticated user\n\nArgs:\n    firebase_user: Decoded token claims (injected by auth dependency)\n    user_service: Injected user service\n\nReturns:\n    ResendVerificationResponse with success status and message\n\nRaises:\n    HTTPException 400: If email already verified or user not eligible\n    HTTPException 401: If authentication token is missing or invalid\n    HTTPException 500: If email send fails or server error occurs",
        "operationId": "resend_verification_email_api_v2_users_me_verifications_post",
        "responses": {
          "200": {
            "description": "Verification email resent successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ResendVerificationResponse"
                }
              }
            }
          },
          "400": {
            "description": "Email already verified or user not eligible"
          },
          "401": {
            "description": "Authentication required or token invalid"
          },
          "500": {
            "description": "Internal server error"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v2/version": {
      "get": {
        "tags": [
          "version"
        ],
        "summary": "Get Version",
        "description": "Get the current API version.\n\nReturns:\n    200 OK with version info including version tag and service name",
        "operationId": "get_version_api_v2_version_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/v2/posts/{post_id}/videos": {
      "post": {
        "tags": [
          "video-generation"
        ],
        "summary": "Create Video",
        "description": "Queue video generation for a post.\n\nCreates a video generation job and publishes it to the video-generator\nworker via Pub/Sub. Returns immediately with job details including\ncost estimate.\n\nIssue #1701: Implements the POST /posts/{post_id}/videos endpoint.\n\nArgs:\n    post_id: ID of the post to generate video for\n    request: Video generation parameters\n    response: FastAPI response object for headers\n    firebase_user: Authenticated user from JWT token\n    post_repository: Repository for post lookup\n    job_repository: Repository for video job creation\n    publisher: Video generation publisher (Pub/Sub or direct HTTP)\n\nReturns:\n    VideoJobResponse with job ID and cost estimate\n\nRaises:\n    HTTPException 400: If post has no image\n    HTTPException 401: If not authenticated\n    HTTPException 403: If user doesn't own the post\n    HTTPException 404: If post not found\n    HTTPException 500: If publishing fails",
        "operationId": "create_video_api_v2_posts__post_id__videos_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "post_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Post Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/VideoGenerationRequest"
              }
            }
          }
        },
        "responses": {
          "202": {
            "description": "Video generation job queued successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VideoJobResponse"
                }
              }
            }
          },
          "400": {
            "description": "Post has no image to generate video from"
          },
          "401": {
            "description": "Unauthorized - authentication required"
          },
          "403": {
            "description": "Forbidden - user does not own this post"
          },
          "404": {
            "description": "Post not found"
          },
          "500": {
            "description": "Failed to queue video generation"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/video-jobs/{job_id}": {
      "get": {
        "tags": [
          "video-generation"
        ],
        "summary": "Get Video Job Status",
        "description": "Get the status of a video generation job.\n\nRetrieves the current status, progress, and result URL for a video\ngeneration job. Poll this endpoint to track job progress.\n\nIssue #1697: Implements GET /video-jobs/{job_id} status endpoint.\n\nArgs:\n    job_id: UUID of the video generation job\n    firebase_user: Authenticated user from JWT token\n    job_repository: Repository for video job retrieval\n\nReturns:\n    VideoJobStatusResponse with current job status and details\n\nRaises:\n    HTTPException 401: If not authenticated\n    HTTPException 404: If job not found",
        "operationId": "get_video_job_status_api_v2_video_jobs__job_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "job_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Job Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Video job status retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VideoJobStatusResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - authentication required"
          },
          "404": {
            "description": "Video job not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/posts/{post_id}/videos/{job_id}/reject": {
      "post": {
        "tags": [
          "video-generation"
        ],
        "summary": "Reject Video",
        "description": "Reject a video during HITL review.\n\nMarks the video generation job as rejected with an optional reason.\nThis is part of the Human-in-the-Loop workflow for video content.\n\nIssue #2023: Implements POST /posts/{post_id}/videos/{job_id}/reject.\n\nArgs:\n    post_id: ID of the post containing the video\n    job_id: UUID of the video generation job to reject\n    request: Rejection details including optional reason\n    firebase_user: Authenticated user from JWT token\n    post_repository: Repository for post lookup\n    job_repository: Repository for video job operations\n\nReturns:\n    VideoRejectResponse with rejection details\n\nRaises:\n    HTTPException 401: If not authenticated\n    HTTPException 403: If user doesn't own the post\n    HTTPException 404: If post or video job not found",
        "operationId": "reject_video_api_v2_posts__post_id__videos__job_id__reject_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "post_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Post Id"
            }
          },
          {
            "name": "job_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Job Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/VideoRejectRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Video job rejected successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VideoRejectResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - authentication required"
          },
          "403": {
            "description": "Forbidden - user does not own this post"
          },
          "404": {
            "description": "Post or video job not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/posts/{post_id}/videos/{job_id}/approvals": {
      "post": {
        "tags": [
          "video-generation"
        ],
        "summary": "Approve Video",
        "description": "Approve a video during HITL review.\n\nMarks the video generation job as approved for publication.\nThis is part of the Human-in-the-Loop workflow for video content.\n\nIssue #2022: Implements POST /posts/{post_id}/videos/{job_id}/approvals.\n\nArgs:\n    post_id: ID of the post containing the video\n    job_id: UUID of the video generation job to approve\n    firebase_user: Authenticated user from JWT token\n    post_repository: Repository for post lookup\n    job_repository: Repository for video job operations\n\nReturns:\n    VideoApprovalResponse with approval details\n\nRaises:\n    HTTPException 400: If job cannot be approved (wrong state)\n    HTTPException 401: If not authenticated\n    HTTPException 403: If user doesn't own the post\n    HTTPException 404: If post or video job not found",
        "operationId": "approve_video_api_v2_posts__post_id__videos__job_id__approvals_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "post_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Post Id"
            }
          },
          {
            "name": "job_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Job Id"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Video job approved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VideoApprovalResponse"
                }
              }
            }
          },
          "400": {
            "description": "Video job cannot be approved in current state"
          },
          "401": {
            "description": "Unauthorized - authentication required"
          },
          "403": {
            "description": "Forbidden - user does not own this post"
          },
          "404": {
            "description": "Post or video job not found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/posts/{post_id}/videos/{job_id}/regenerations": {
      "post": {
        "tags": [
          "video-generation"
        ],
        "summary": "Regenerate Video",
        "description": "Regenerate a video during HITL review.\n\nCreates a new video generation job based on the original, optionally\nincorporating user feedback. Publishes to video-generator worker.\n\nIssue #2024: Implements POST /posts/{post_id}/videos/{job_id}/regenerations.\n\nArgs:\n    post_id: ID of the post containing the video\n    job_id: UUID of the original video generation job\n    request: Regeneration parameters including optional feedback\n    response: FastAPI response object for headers\n    firebase_user: Authenticated user from JWT token\n    post_repository: Repository for post lookup\n    job_repository: Repository for video job operations\n    publisher: Video generation publisher (Pub/Sub or direct HTTP)\n\nReturns:\n    VideoRegenerateResponse with new job details\n\nRaises:\n    HTTPException 400: If post has no image or original job invalid\n    HTTPException 401: If not authenticated\n    HTTPException 403: If user doesn't own the post\n    HTTPException 404: If post or video job not found\n    HTTPException 500: If publishing fails",
        "operationId": "regenerate_video_api_v2_posts__post_id__videos__job_id__regenerations_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "post_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Post Id"
            }
          },
          {
            "name": "job_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Job Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/VideoRegenerateRequest"
              }
            }
          }
        },
        "responses": {
          "202": {
            "description": "Video regeneration job queued successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VideoRegenerateResponse"
                }
              }
            }
          },
          "400": {
            "description": "Post has no image or original job invalid"
          },
          "401": {
            "description": "Unauthorized - authentication required"
          },
          "403": {
            "description": "Forbidden - user does not own this post"
          },
          "404": {
            "description": "Post or video job not found"
          },
          "500": {
            "description": "Failed to queue video regeneration"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/posts/{post_id}/videos/{job_id}/static/conversions": {
      "post": {
        "tags": [
          "video-generation"
        ],
        "summary": "Convert To Static",
        "description": "Convert a video job to static image.\n\nCancels the video generation job and returns the post's static image.\nThis is part of the Human-in-the-Loop workflow for video content when\nthe user decides to use the static image instead.\n\nIssue #2025: Implements POST /posts/{post_id}/videos/{job_id}/static/conversions.\n\nArgs:\n    post_id: ID of the post containing the video\n    job_id: UUID of the video generation job to cancel\n    firebase_user: Authenticated user from JWT token\n    post_repository: Repository for post lookup\n    job_repository: Repository for video job operations\n\nReturns:\n    VideoConvertStaticResponse with static image URL\n\nRaises:\n    HTTPException 401: If not authenticated\n    HTTPException 403: If user doesn't own the post\n    HTTPException 404: If post or video job not found\n    HTTPException 409: If job is already in terminal state",
        "operationId": "convert_to_static_api_v2_posts__post_id__videos__job_id__static_conversions_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "post_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Post Id"
            }
          },
          {
            "name": "job_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Job Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Video converted to static image successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VideoConvertStaticResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - authentication required"
          },
          "403": {
            "description": "Forbidden - user does not own this post"
          },
          "404": {
            "description": "Post or video job not found"
          },
          "409": {
            "description": "Conflict - job already in terminal state"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "AnalyzeInstagramRequest": {
        "properties": {
          "brand_id": {
            "type": "integer",
            "title": "Brand Id",
            "description": "Brand ID to analyze"
          },
          "include_posts": {
            "type": "boolean",
            "title": "Include Posts",
            "description": "Whether to fetch and analyze recent posts",
            "default": true
          },
          "max_posts": {
            "type": "integer",
            "maximum": 100.0,
            "minimum": 1.0,
            "title": "Max Posts",
            "description": "Maximum number of posts to analyze",
            "default": 25
          }
        },
        "type": "object",
        "required": [
          "brand_id"
        ],
        "title": "AnalyzeInstagramRequest",
        "description": "Request to analyze an Instagram profile."
      },
      "AnalyzeInstagramResponse": {
        "properties": {
          "brand_id": {
            "type": "integer",
            "title": "Brand Id",
            "description": "Brand ID that was analyzed"
          },
          "analysis": {
            "$ref": "#/components/schemas/SocialAnalysis",
            "description": "Social media analysis results"
          },
          "posts_analyzed": {
            "type": "integer",
            "title": "Posts Analyzed",
            "description": "Number of posts analyzed",
            "default": 0
          },
          "success": {
            "type": "boolean",
            "title": "Success",
            "description": "Whether analysis succeeded",
            "default": true
          },
          "message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Message",
            "description": "Status message"
          }
        },
        "type": "object",
        "required": [
          "brand_id",
          "analysis"
        ],
        "title": "AnalyzeInstagramResponse",
        "description": "Response from Instagram analysis."
      },
      "AspectRatio": {
        "type": "string",
        "enum": [
          "9:16",
          "1:1",
          "16:9"
        ],
        "title": "AspectRatio",
        "description": "Supported aspect ratios for video generation."
      },
      "AssetAvailability": {
        "properties": {
          "logos": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Logos",
            "description": "Available logo URLs or identifiers"
          },
          "productImages": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Productimages",
            "description": "Available product image URLs or identifiers"
          },
          "icons": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Icons",
            "description": "Available icon URLs or identifiers"
          },
          "fonts": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Fonts",
            "description": "Available font names or URLs"
          }
        },
        "type": "object",
        "title": "AssetAvailability",
        "description": "Asset availability schema for brand resources."
      },
      "BatchFeedbackResponse": {
        "properties": {
          "submittedCount": {
            "type": "integer",
            "title": "Submittedcount",
            "description": "Number of feedback items successfully submitted",
            "default": 0
          },
          "failedCount": {
            "type": "integer",
            "title": "Failedcount",
            "description": "Number of feedback items that failed to submit",
            "default": 0
          },
          "feedbackIds": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Feedbackids",
            "description": "IDs of successfully submitted feedback"
          }
        },
        "type": "object",
        "title": "BatchFeedbackResponse",
        "description": "Schema for batch feedback submission response."
      },
      "BatchMetricResponse": {
        "properties": {
          "ingestedCount": {
            "type": "integer",
            "title": "Ingestedcount",
            "description": "Number of metrics successfully ingested",
            "default": 0
          },
          "failedCount": {
            "type": "integer",
            "title": "Failedcount",
            "description": "Number of metrics that failed to ingest",
            "default": 0
          },
          "metricIds": {
            "items": {
              "type": "integer"
            },
            "type": "array",
            "title": "Metricids",
            "description": "IDs of successfully ingested metrics"
          }
        },
        "type": "object",
        "title": "BatchMetricResponse",
        "description": "Schema for batch metric ingestion response."
      },
      "BatchPostSelectionRequest": {
        "properties": {
          "selections": {
            "items": {
              "$ref": "#/components/schemas/PostSelectionItem"
            },
            "type": "array",
            "title": "Selections",
            "description": "List of post selections to apply"
          }
        },
        "type": "object",
        "required": [
          "selections"
        ],
        "title": "BatchPostSelectionRequest",
        "description": "Schema for batch post selection.\n\nUsed for POST /outputs/batch/select endpoint."
      },
      "BatchPostSelectionResponse": {
        "properties": {
          "updatedCount": {
            "type": "integer",
            "title": "Updatedcount",
            "description": "Number of posts updated"
          },
          "failedCount": {
            "type": "integer",
            "title": "Failedcount",
            "description": "Number of posts that failed to update",
            "default": 0
          },
          "results": {
            "items": {
              "$ref": "#/components/schemas/PostSelectionResponse"
            },
            "type": "array",
            "title": "Results",
            "description": "List of updated post results"
          }
        },
        "type": "object",
        "required": [
          "updatedCount",
          "results"
        ],
        "title": "BatchPostSelectionResponse",
        "description": "Schema for batch selection response."
      },
      "Body_update_brand_files": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Name",
            "description": "Brand name"
          },
          "website": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Website",
            "description": "Brand website URL"
          },
          "brand_colors": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Brand Colors",
            "description": "JSON array of RGB hex codes"
          },
          "industry": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Industry",
            "description": "Brand industry"
          },
          "target_audience": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Target Audience",
            "description": "Target audience"
          },
          "brand_guidelines": {
            "anyOf": [
              {
                "type": "string",
                "format": "binary"
              },
              {
                "type": "null"
              }
            ],
            "title": "Brand Guidelines"
          },
          "logo": {
            "anyOf": [
              {
                "type": "string",
                "format": "binary"
              },
              {
                "type": "null"
              }
            ],
            "title": "Logo"
          }
        },
        "type": "object",
        "title": "Body_update_brand_files"
      },
      "Body_upload_brand_files": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Name",
            "description": "Brand name"
          },
          "website": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Website",
            "description": "Brand website URL"
          },
          "brand_colors": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Brand Colors",
            "description": "JSON array of RGB hex codes"
          },
          "industry": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Industry",
            "description": "Brand industry"
          },
          "target_audience": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Target Audience",
            "description": "Target audience"
          },
          "brand_guidelines": {
            "anyOf": [
              {
                "type": "string",
                "format": "binary"
              },
              {
                "type": "null"
              }
            ],
            "title": "Brand Guidelines"
          },
          "logo": {
            "anyOf": [
              {
                "type": "string",
                "format": "binary"
              },
              {
                "type": "null"
              }
            ],
            "title": "Logo"
          }
        },
        "type": "object",
        "title": "Body_upload_brand_files"
      },
      "BrandArchetype": {
        "type": "string",
        "enum": [
          "premium",
          "minimalist",
          "playful",
          "luxury",
          "eco",
          "athletic",
          "tech",
          "professional",
          "creative",
          "traditional"
        ],
        "title": "BrandArchetype",
        "description": "Brand archetype classification for content tone and style."
      },
      "BrandCostsResponse": {
        "properties": {
          "brandId": {
            "type": "string",
            "title": "Brandid",
            "description": "Brand ID"
          },
          "costType": {
            "$ref": "#/components/schemas/CostType",
            "description": "Type of costs"
          },
          "periodStart": {
            "type": "string",
            "format": "date",
            "title": "Periodstart",
            "description": "Start date of cost period"
          },
          "periodEnd": {
            "type": "string",
            "format": "date",
            "title": "Periodend",
            "description": "End date of cost period"
          },
          "totalJobs": {
            "type": "integer",
            "title": "Totaljobs",
            "description": "Total number of jobs in period"
          },
          "totalSeconds": {
            "type": "integer",
            "title": "Totalseconds",
            "description": "Total video seconds generated"
          },
          "totalCredits": {
            "type": "string",
            "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$",
            "title": "Totalcredits",
            "description": "Total credits consumed"
          },
          "totalCostUsd": {
            "type": "string",
            "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$",
            "title": "Totalcostusd",
            "description": "Total cost in USD"
          },
          "createdAt": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Createdat",
            "description": "When the cost record was created"
          },
          "updatedAt": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updatedat",
            "description": "When the cost record was last updated"
          }
        },
        "type": "object",
        "required": [
          "brandId",
          "costType",
          "periodStart",
          "periodEnd",
          "totalJobs",
          "totalSeconds",
          "totalCredits",
          "totalCostUsd"
        ],
        "title": "BrandCostsResponse",
        "description": "Response schema for brand costs query.\n\nIssue #1952: Returns aggregated costs for a brand within a specified period.\n\nAttributes:\n    brand_id: The brand ID\n    cost_type: Type of costs (video, content, etc.)\n    period_start: Start date of the cost period\n    period_end: End date of the cost period\n    total_jobs: Total number of jobs in the period\n    total_seconds: Total video seconds generated\n    total_credits: Total credits consumed\n    total_cost_usd: Total cost in USD\n    created_at: When the cost record was first created\n    updated_at: When the cost record was last updated"
      },
      "BrandCrawlAssetsInfo": {
        "properties": {
          "colorsFound": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Colorsfound",
            "description": "Number of brand colors found",
            "default": 0
          },
          "fontsFound": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Fontsfound",
            "description": "Number of fonts identified",
            "default": 0
          },
          "imagesFound": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Imagesfound",
            "description": "Number of images discovered",
            "default": 0
          },
          "logosFound": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Logosfound",
            "description": "Number of logos identified",
            "default": 0
          }
        },
        "type": "object",
        "title": "BrandCrawlAssetsInfo",
        "description": "Assets discovered during brand crawl."
      },
      "BrandCrawlPerformance": {
        "properties": {
          "brand_id": {
            "type": "string",
            "title": "Brand Id",
            "description": "Brand identifier"
          },
          "brand_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Brand Name",
            "description": "Brand name if available"
          },
          "total_pages": {
            "type": "integer",
            "title": "Total Pages",
            "description": "Total pages crawled for brand"
          },
          "successful_pages": {
            "type": "integer",
            "title": "Successful Pages",
            "description": "Successfully crawled pages"
          },
          "failed_pages": {
            "type": "integer",
            "title": "Failed Pages",
            "description": "Failed crawl attempts"
          },
          "success_rate": {
            "type": "number",
            "title": "Success Rate",
            "description": "Success rate percentage"
          },
          "average_duration_seconds": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Average Duration Seconds",
            "description": "Average crawl duration"
          },
          "last_crawl_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Crawl At",
            "description": "Most recent crawl"
          }
        },
        "type": "object",
        "required": [
          "brand_id",
          "total_pages",
          "successful_pages",
          "failed_pages",
          "success_rate"
        ],
        "title": "BrandCrawlPerformance",
        "description": "Crawl performance metrics for a single brand."
      },
      "BrandCrawlProgressInfo": {
        "properties": {
          "pagesEstimated": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Pagesestimated",
            "description": "Estimated total pages to crawl",
            "default": 0
          },
          "pagesCrawled": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Pagescrawled",
            "description": "Pages successfully crawled",
            "default": 0
          },
          "pagesFailed": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Pagesfailed",
            "description": "Pages that failed to crawl",
            "default": 0
          },
          "pagesPending": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Pagespending",
            "description": "Pages waiting to be crawled",
            "default": 0
          },
          "percentage": {
            "type": "number",
            "maximum": 100.0,
            "minimum": 0.0,
            "title": "Percentage",
            "description": "Crawl completion percentage",
            "default": 0.0
          }
        },
        "type": "object",
        "title": "BrandCrawlProgressInfo",
        "description": "Progress metrics for brand crawl status."
      },
      "BrandCrawlStatusResponse": {
        "properties": {
          "brandId": {
            "type": "string",
            "title": "Brandid",
            "description": "Brand ID"
          },
          "crawlJobId": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Crawljobid",
            "description": "ID of the current crawl job (if any)"
          },
          "status": {
            "type": "string",
            "enum": [
              "pending",
              "estimating",
              "crawling",
              "extracting",
              "uploading",
              "complete",
              "failed",
              "not_started"
            ],
            "title": "Status",
            "description": "Current crawl status"
          },
          "progress": {
            "$ref": "#/components/schemas/BrandCrawlProgressInfo",
            "description": "Detailed progress metrics"
          },
          "assets": {
            "$ref": "#/components/schemas/BrandCrawlAssetsInfo",
            "description": "Assets discovered during crawl"
          },
          "timing": {
            "$ref": "#/components/schemas/BrandCrawlTimingInfo",
            "description": "Timing information"
          },
          "currentPage": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Currentpage",
            "description": "URL of the page currently being crawled"
          },
          "errorMessage": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Errormessage",
            "description": "Error message if status is 'failed'"
          }
        },
        "type": "object",
        "required": [
          "brandId",
          "status",
          "progress",
          "assets",
          "timing"
        ],
        "title": "BrandCrawlStatusResponse",
        "description": "Response schema for brand crawl progress endpoint (Issue #1279).\n\nProvides real-time status updates for brand crawl operations so the\nfrontend can show users progress during website crawling."
      },
      "BrandCrawlTimingInfo": {
        "properties": {
          "startedAt": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Startedat",
            "description": "When the crawl started"
          },
          "estimatedCompletion": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Estimatedcompletion",
            "description": "Estimated completion time"
          },
          "elapsedSeconds": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Elapsedseconds",
            "description": "Seconds elapsed since crawl started",
            "default": 0
          }
        },
        "type": "object",
        "title": "BrandCrawlTimingInfo",
        "description": "Timing information for brand crawl."
      },
      "BrandCreate": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 255,
            "minLength": 1,
            "title": "Name"
          },
          "website": {
            "type": "string",
            "title": "Website",
            "description": "Brand website URL"
          },
          "brandColors": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Brandcolors",
            "description": "List of brand colors (RGB hex codes from color picker)"
          },
          "industry": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Industry",
            "description": "Brand industry or sector"
          },
          "targetAudience": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Targetaudience",
            "description": "Description of target audience"
          },
          "brandArchetype": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/BrandArchetype"
              },
              {
                "type": "null"
              }
            ],
            "description": "Brand archetype for content tone/style guidance"
          },
          "legalRestrictions": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/LegalRestrictions"
              },
              {
                "type": "null"
              }
            ],
            "description": "Legal restrictions for brand content"
          },
          "assetAvailability": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/AssetAvailability"
              },
              {
                "type": "null"
              }
            ],
            "description": "Available brand assets"
          }
        },
        "type": "object",
        "required": [
          "name",
          "website"
        ],
        "title": "BrandCreate",
        "description": "Schema for creating a new brand."
      },
      "BrandFileUploadResponse": {
        "properties": {
          "brandId": {
            "type": "string",
            "title": "Brandid",
            "description": "Brand ID"
          },
          "brandGuidelinesUrl": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Brandguidelinesurl",
            "description": "Google Cloud Storage URL for uploaded brand guidelines PDF"
          },
          "logoUrl": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Logourl",
            "description": "Google Cloud Storage URL for uploaded logo image"
          },
          "extractedData": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Extracteddata",
            "description": "Extracted brand information from PDF (colors, typography, photography)"
          }
        },
        "type": "object",
        "required": [
          "brandId"
        ],
        "title": "BrandFileUploadResponse",
        "description": "Response schema for brand file upload with LLM extraction."
      },
      "BrandKnowledgeBrandSummaryResponse": {
        "properties": {
          "brandId": {
            "type": "string",
            "title": "Brandid",
            "description": "Brand ID"
          },
          "totalEntries": {
            "type": "integer",
            "title": "Totalentries",
            "description": "Total number of knowledge entries for this brand"
          },
          "lastUpdated": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Lastupdated",
            "description": "Last update timestamp (None if no knowledge exists)"
          },
          "categoryBreakdown": {
            "$ref": "#/components/schemas/CategoryBreakdown",
            "description": "Breakdown by category (traits, products, colors)"
          }
        },
        "type": "object",
        "required": [
          "brandId",
          "totalEntries",
          "categoryBreakdown"
        ],
        "title": "BrandKnowledgeBrandSummaryResponse",
        "description": "Summary statistics for a specific brand's knowledge."
      },
      "BrandKnowledgeStatusResponse": {
        "properties": {
          "brandId": {
            "type": "string",
            "title": "Brandid",
            "description": "Brand ID"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Current knowledge extraction status (not_started, quick_extract_pending, quick_extract_complete, deep_crawl_pending, deep_crawl_running, deep_crawl_complete, failed)"
          },
          "progress": {
            "type": "integer",
            "maximum": 100.0,
            "minimum": 0.0,
            "title": "Progress",
            "description": "Overall progress percentage (0-100)"
          },
          "quickExtractComplete": {
            "type": "boolean",
            "title": "Quickextractcomplete",
            "description": "Whether quick extraction phase is complete"
          },
          "deepCrawlComplete": {
            "type": "boolean",
            "title": "Deepcrawlcomplete",
            "description": "Whether deep crawl phase is complete"
          },
          "lastUpdated": {
            "type": "string",
            "format": "date-time",
            "title": "Lastupdated",
            "description": "When the knowledge status was last updated"
          },
          "metadata": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "additionalProperties": true,
            "title": "Metadata",
            "description": "Additional metadata about knowledge extraction (pages crawled, etc.)"
          }
        },
        "type": "object",
        "required": [
          "brandId",
          "status",
          "progress",
          "quickExtractComplete",
          "deepCrawlComplete",
          "lastUpdated"
        ],
        "title": "BrandKnowledgeStatusResponse",
        "description": "Response schema for brand knowledge extraction status (Phase 1: Progressive Brand Knowledge)."
      },
      "BrandKnowledgeV2ListResponse": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/BrandKnowledgeV2Response"
            },
            "type": "array",
            "title": "Items",
            "description": "List of brand knowledge entries"
          },
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "Total number of knowledge entries for this brand"
          },
          "limit": {
            "type": "integer",
            "title": "Limit",
            "description": "Number of items per page"
          },
          "offset": {
            "type": "integer",
            "title": "Offset",
            "description": "Number of items skipped"
          }
        },
        "type": "object",
        "required": [
          "items",
          "total",
          "limit",
          "offset"
        ],
        "title": "BrandKnowledgeV2ListResponse",
        "description": "V2 Paginated response model for brand knowledge list."
      },
      "BrandKnowledgeV2Response": {
        "properties": {
          "brandId": {
            "type": "string",
            "title": "Brandid",
            "description": "Brand ID"
          },
          "personalityTraits": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Personalitytraits",
            "description": "2-5 lowercase adjectives describing brand personality"
          },
          "toneAttributes": {
            "$ref": "#/components/schemas/ToneAttributesV2",
            "description": "Structured tone characteristics"
          },
          "colorPalette": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Colorpalette",
            "description": "3-5 hex color codes from brand visual identity"
          },
          "products": {
            "items": {
              "$ref": "#/components/schemas/ProductV2"
            },
            "type": "array",
            "title": "Products",
            "description": "List of products with name and category"
          },
          "brandDescription": {
            "type": "string",
            "maxLength": 500,
            "title": "Branddescription",
            "description": "1-2 sentences describing the brand"
          },
          "valueProposition": {
            "type": "string",
            "maxLength": 500,
            "title": "Valueproposition",
            "description": "1-2 sentences describing the value proposition"
          },
          "targetAudience": {
            "type": "string",
            "maxLength": 500,
            "title": "Targetaudience",
            "description": "1-2 sentences describing the target audience"
          }
        },
        "type": "object",
        "required": [
          "brandId",
          "personalityTraits",
          "toneAttributes",
          "colorPalette",
          "products",
          "brandDescription",
          "valueProposition",
          "targetAudience"
        ],
        "title": "BrandKnowledgeV2Response",
        "description": "V2 Response model for simplified brand knowledge extraction."
      },
      "BrandOnboardingProgressResponse": {
        "properties": {
          "brandId": {
            "type": "string",
            "title": "Brandid",
            "description": "Brand ID"
          },
          "currentStep": {
            "type": "string",
            "title": "Currentstep",
            "description": "Current step in the onboarding process"
          },
          "completedSteps": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Completedsteps",
            "description": "List of completed steps in chronological order"
          },
          "progressPercentage": {
            "type": "integer",
            "maximum": 100.0,
            "minimum": 0.0,
            "title": "Progresspercentage",
            "description": "Overall progress percentage (0-100)",
            "default": 0
          },
          "metadata": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "additionalProperties": true,
            "title": "Metadata",
            "description": "Additional metadata about the current step or progress"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "title": "Updatedat",
            "description": "When the progress was last updated"
          }
        },
        "type": "object",
        "required": [
          "brandId",
          "currentStep",
          "updatedAt"
        ],
        "title": "BrandOnboardingProgressResponse",
        "description": "Schema for brand onboarding progress response."
      },
      "BrandOnboardingProgressUpdate": {
        "properties": {
          "currentStep": {
            "type": "string",
            "maxLength": 100,
            "title": "Currentstep",
            "description": "Current step in the onboarding process (e.g., 'brand-info', 'assets-upload', 'knowledge-review')"
          },
          "completedSteps": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Completedsteps",
            "description": "List of completed steps in chronological order"
          },
          "progressPercentage": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 100.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Progresspercentage",
            "description": "Overall progress percentage (0-100)"
          },
          "metadata": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "additionalProperties": true,
            "title": "Metadata",
            "description": "Additional metadata about the current step or progress"
          }
        },
        "type": "object",
        "required": [
          "currentStep"
        ],
        "title": "BrandOnboardingProgressUpdate",
        "description": "Schema for updating brand onboarding progress step."
      },
      "BrandProfileExport": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "website": {
            "type": "string",
            "title": "Website"
          },
          "brandColors": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Brandcolors"
          },
          "industry": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Industry"
          },
          "targetAudience": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Targetaudience"
          },
          "logoUrl": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Logourl"
          },
          "mission": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Mission"
          },
          "values": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Values"
          },
          "brandPersona": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Brandpersona"
          },
          "toneOfVoice": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Toneofvoice"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "website"
        ],
        "title": "BrandProfileExport",
        "description": "Brand profile data for export documents."
      },
      "BrandResponse": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 255,
            "minLength": 1,
            "title": "Name"
          },
          "website": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Website"
          },
          "id": {
            "type": "string",
            "title": "ID"
          },
          "brandGuidelinesUrl": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Brandguidelinesurl",
            "description": "Google Cloud Storage URL for brand guidelines PDF"
          },
          "logoUrl": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Logourl",
            "description": "Google Cloud Storage URL for brand logo"
          },
          "brandColors": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Brandcolors",
            "description": "Brand colors (RGB hex codes from frontend or extracted during crawling)"
          },
          "industry": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Industry"
          },
          "targetAudience": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Targetaudience"
          },
          "status": {
            "$ref": "#/components/schemas/BrandStatus"
          },
          "workflowId": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Workflowid",
            "description": "ID of the associated brand extraction workflow"
          },
          "knowledgeStatus": {
            "type": "string",
            "title": "Knowledgestatus",
            "description": "Status of knowledge extraction (not_started, quick_extract_pending, quick_extract_complete, deep_crawl_pending, deep_crawl_running, deep_crawl_complete, failed)",
            "default": "not_started"
          },
          "knowledgeProgress": {
            "type": "integer",
            "maximum": 100.0,
            "minimum": 0.0,
            "title": "Knowledgeprogress",
            "description": "Knowledge extraction progress percentage (0-100)",
            "default": 0
          },
          "brandArchetype": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/BrandArchetype"
              },
              {
                "type": "null"
              }
            ],
            "description": "Brand archetype for content tone/style guidance"
          },
          "legalRestrictions": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/LegalRestrictions"
              },
              {
                "type": "null"
              }
            ],
            "description": "Legal restrictions for brand content"
          },
          "assetAvailability": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/AssetAvailability"
              },
              {
                "type": "null"
              }
            ],
            "description": "Available brand assets"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "name",
          "id",
          "status",
          "createdAt",
          "updatedAt"
        ],
        "title": "BrandResponse",
        "description": "Schema for brand responses."
      },
      "BrandStatus": {
        "type": "string",
        "enum": [
          "onboarding",
          "active",
          "inactive"
        ],
        "title": "BrandStatus",
        "description": "Brand status enumeration."
      },
      "BrandSummaryResponse": {
        "properties": {
          "brandId": {
            "type": "string",
            "title": "Brandid",
            "description": "The brand ID this summary belongs to"
          },
          "summary": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 1000
              },
              {
                "type": "null"
              }
            ],
            "title": "Summary",
            "description": "Generated brand summary (60 words or less), or None if async",
            "examples": [
              "TechCorp is committed to democratizing AI technology, envisioning a future where intelligent systems enhance human potential. Operating in the technology industry, the brand emphasizes innovation and accessibility, communicating with a professional yet approachable voice. Known for its modern design, it embodies an innovative persona, effectively serving the enterprise software vertical."
            ]
          },
          "message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Message",
            "description": "Status message for async operations"
          },
          "correlationId": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Correlationid",
            "description": "Correlation ID for tracking async operations"
          }
        },
        "type": "object",
        "required": [
          "brandId"
        ],
        "title": "BrandSummaryResponse",
        "description": "Schema for brand summary response.\n\nIssue #1386: Updated to support async pattern with optional summary.\n\nReturns a generated cohesive brand summary paragraph based on the brand's\nmission, vision, values, tone/voice, persona, industry, and vertical.\n\nFor async operations:\n- summary is None (generation in progress)\n- message contains status info\n- correlation_id can be used for tracking\n\nFollowing V1 implementation (ReviewForm.tsx):\n- Generated via LLM (brand-crawler service)\n- 60 words or less\n- Single cohesive paragraph\n- Includes: mission, vision, values, tone/voice, persona, industry, vertical\n- Excludes: brand colors, service lists, location"
      },
      "BrandUpdate": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Name"
          },
          "website": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Website",
            "description": "Brand website URL"
          },
          "brandGuidelinesUrl": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Brandguidelinesurl"
          },
          "logoUrl": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Logourl"
          },
          "brandColors": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Brandcolors",
            "description": "List of brand colors (RGB hex codes)"
          },
          "industry": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Industry"
          },
          "targetAudience": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Targetaudience"
          },
          "status": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/BrandStatus"
              },
              {
                "type": "null"
              }
            ]
          },
          "brandArchetype": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/BrandArchetype"
              },
              {
                "type": "null"
              }
            ],
            "description": "Brand archetype for content tone/style guidance"
          },
          "legalRestrictions": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/LegalRestrictions"
              },
              {
                "type": "null"
              }
            ],
            "description": "Legal restrictions for brand content"
          },
          "assetAvailability": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/AssetAvailability"
              },
              {
                "type": "null"
              }
            ],
            "description": "Available brand assets"
          }
        },
        "type": "object",
        "title": "BrandUpdate",
        "description": "Schema for updating an existing brand."
      },
      "BriefAckResponse": {
        "properties": {
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Processing status",
            "default": "acknowledged"
          },
          "correlationId": {
            "type": "string",
            "title": "Correlationid",
            "description": "Correlation ID from message"
          },
          "messageType": {
            "$ref": "#/components/schemas/MessageType",
            "description": "Type of message processed"
          },
          "brandName": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Brandname",
            "description": "Brand name if available"
          }
        },
        "type": "object",
        "required": [
          "correlationId",
          "messageType"
        ],
        "title": "BriefAckResponse",
        "description": "Response for successful brief processing."
      },
      "BriefStatusEnum": {
        "type": "string",
        "enum": [
          "in_progress",
          "core_complete",
          "complete",
          "failed"
        ],
        "title": "BriefStatusEnum",
        "description": "Aggregated crawl status derived from received briefs."
      },
      "BriefStatusResponse": {
        "properties": {
          "correlationId": {
            "type": "string",
            "title": "Correlationid",
            "description": "Correlation ID for the crawl"
          },
          "brandId": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Brandid",
            "description": "Associated brand ID if known"
          },
          "status": {
            "$ref": "#/components/schemas/BriefStatusEnum",
            "description": "Aggregated crawl status"
          },
          "briefs": {
            "items": {
              "$ref": "#/components/schemas/BriefSummary"
            },
            "type": "array",
            "title": "Briefs",
            "description": "List of received briefs"
          },
          "error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error",
            "description": "Error message if crawl failed"
          },
          "createdAt": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Createdat",
            "description": "When first brief was received"
          }
        },
        "type": "object",
        "required": [
          "correlationId",
          "status"
        ],
        "title": "BriefStatusResponse",
        "description": "Response for GET /briefs/{correlation_id} endpoint.\n\nProvides aggregated status of a brand crawl by correlation_id,\nincluding list of received briefs and derived overall status.\n\nIssue #2225: Brand Crawl status endpoint for frontend polling."
      },
      "BriefSummary": {
        "properties": {
          "type": {
            "type": "string",
            "title": "Type",
            "description": "Brief type: core or deep"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Processing status"
          },
          "receivedAt": {
            "type": "string",
            "format": "date-time",
            "title": "Receivedat",
            "description": "When brief was received"
          },
          "brandName": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Brandname",
            "description": "Extracted brand name"
          }
        },
        "type": "object",
        "required": [
          "type",
          "status",
          "receivedAt"
        ],
        "title": "BriefSummary",
        "description": "Summary of a single brief."
      },
      "BulkContentApprovalRequest": {
        "properties": {
          "content_ids": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Content Ids",
            "description": "Optional list of specific content IDs to approve. If empty, approves all campaign content."
          }
        },
        "type": "object",
        "title": "BulkContentApprovalRequest",
        "description": "Request schema for bulk approving all campaign content.\n\nSimplified version for approving all content items in a campaign."
      },
      "BulkContentApprovalResponse": {
        "properties": {
          "approved_count": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Approved Count",
            "description": "Number of content items successfully approved"
          },
          "failed_count": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Failed Count",
            "description": "Number of content items that failed to approve"
          },
          "failed_ids": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Failed Ids",
            "description": "List of content IDs that failed to approve"
          }
        },
        "type": "object",
        "required": [
          "approved_count",
          "failed_count"
        ],
        "title": "BulkContentApprovalResponse",
        "description": "Response schema for bulk content approval operation.\n\nReturns counts and any failed IDs."
      },
      "CTAType": {
        "type": "string",
        "enum": [
          "none",
          "soft",
          "direct"
        ],
        "title": "CTAType",
        "description": "Call-to-action type options.\n\nControls the type of call-to-action included in the caption.\n- NONE: No CTA\n- SOFT: Subtle encouragement (e.g., \"Learn more\", \"Check it out\")\n- DIRECT: Strong CTA (e.g., \"Buy now\", \"Sign up today\", \"Shop the link\")"
      },
      "CampaignContentStatusResponse": {
        "properties": {
          "campaignId": {
            "type": "integer",
            "title": "Campaignid",
            "description": "Campaign ID"
          },
          "status": {
            "$ref": "#/components/schemas/src__schemas__generation_status__GenerationStatus",
            "description": "Overall generation status: pending/generating/completed/failed"
          },
          "progress": {
            "type": "integer",
            "maximum": 100.0,
            "minimum": 0.0,
            "title": "Progress",
            "description": "Generation completion percentage (0-100)",
            "default": 0
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Human-readable status message",
            "default": ""
          },
          "correlationId": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Correlationid",
            "description": "Correlation ID from original generation request for tracing"
          },
          "totalPosts": {
            "type": "integer",
            "title": "Totalposts",
            "description": "Total number of posts to generate",
            "default": 0
          },
          "postsWithText": {
            "type": "integer",
            "title": "Postswithtext",
            "description": "Number of posts with text generated",
            "default": 0
          },
          "postsWithImages": {
            "type": "integer",
            "title": "Postswithimages",
            "description": "Number of posts with images generated",
            "default": 0
          },
          "postsReady": {
            "type": "integer",
            "title": "Postsready",
            "description": "Number of posts ready for review (text + images complete)",
            "default": 0
          },
          "postsFailed": {
            "type": "integer",
            "title": "Postsfailed",
            "description": "Number of posts that failed generation",
            "default": 0
          },
          "startedAt": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Startedat",
            "description": "When content generation started"
          },
          "completedAt": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Completedat",
            "description": "When content generation completed (if finished)"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "title": "Updatedat",
            "description": "Last status update timestamp"
          }
        },
        "type": "object",
        "required": [
          "campaignId",
          "status",
          "updatedAt"
        ],
        "title": "CampaignContentStatusResponse",
        "description": "Response for campaign content generation status.\n\nProvides high-level progress tracking for campaign content generation.\nUsed by frontend to poll progress during async content generation.\n\nIssue #1484: GET /campaigns/{campaign_id}/content/status"
      },
      "CampaignCreateRequest": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 255,
            "minLength": 1,
            "title": "Name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "brandId": {
            "type": "string",
            "minLength": 1,
            "title": "Brand ID",
            "description": "ID of the brand this campaign belongs to. Required for all campaigns."
          },
          "durationWeeks": {
            "type": "integer",
            "maximum": 52.0,
            "minimum": 1.0,
            "title": "Duration Weeks",
            "description": "Campaign duration in weeks. Required to calculate total content count."
          },
          "postsPerDay": {
            "type": "integer",
            "maximum": 10.0,
            "minimum": 1.0,
            "title": "Posts Per Day",
            "description": "Number of posts per day. Required to calculate total content count."
          },
          "campaignType": {
            "$ref": "#/components/schemas/CampaignType",
            "title": "Campaign Type",
            "description": "Type of media content for the campaign",
            "default": "image"
          },
          "platforms": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Platforms",
            "description": "List of social media platforms for the campaign (e.g., ['instagram', 'facebook'])"
          },
          "intent": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Intent",
            "description": "Campaign intent or objective (e.g., 'awareness', 'engagement', 'conversion')"
          },
          "campaignVariables": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "additionalProperties": true,
            "title": "Campaign Variables"
          },
          "audienceGender": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Audience Gender",
            "description": "Target audience gender list (e.g., ['female'], ['male', 'female'], ['diverse'])"
          },
          "audienceAgeRange": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Audience Age Range",
            "description": "Target audience age ranges (e.g., ['18-24'], ['25-34', '35-44'])"
          },
          "audienceEmotion": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Audience Emotion",
            "description": "Target emotional triggers (e.g., ['excited', 'inspired', 'curious'])"
          },
          "audienceInterests": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Audience Interests",
            "description": "Target interest categories (e.g., ['technology', 'fitness', 'travel'])"
          },
          "sceneLocations": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array",
                "maxItems": 3
              },
              {
                "type": "null"
              }
            ],
            "title": "Scene Locations",
            "description": "Backdrop/location settings for content (e.g., ['outdoor', 'office', 'home']). Up to 3 locations selected by user in campaign creation."
          },
          "videoModel": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Video Model",
            "description": "Model for video generation (e.g., 'fal-ai/ltx-video', 'fal-ai/kling-video'). Only used when campaign_type is 'video'. If null, uses tier-based selection."
          },
          "videoDuration": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 60.0,
                "minimum": 1.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Video Duration",
            "description": "Video duration in seconds. Only used when campaign_type is 'video'. Default: 5 seconds.",
            "default": 5
          },
          "videoResolution": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Video Resolution",
            "description": "Video resolution (e.g., '720p', '1080p'). Only used when campaign_type is 'video'.",
            "default": "1080p"
          },
          "startDate": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Campaign Start Date",
            "description": "When the campaign should start posting content. Required for content scheduling."
          },
          "timezone": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Campaign Timezone",
            "description": "Timezone for campaign scheduling (e.g., 'America/New_York')."
          }
        },
        "type": "object",
        "required": [
          "name",
          "brandId",
          "durationWeeks",
          "postsPerDay"
        ],
        "title": "CampaignCreateRequest",
        "description": "Schema for API request to create a new campaign.\n\nNote: user_id is extracted from JWT token, not from request body.\nThis prevents users from creating campaigns on behalf of others."
      },
      "CampaignExportApprovalStatus": {
        "properties": {
          "approved": {
            "type": "boolean",
            "title": "Approved",
            "description": "Whether all content is approved for export"
          },
          "approved_content": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Approved Content",
            "description": "Number of approved posts"
          },
          "total_content": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Total Content",
            "description": "Total number of posts"
          },
          "unapproved_content_ids": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Unapproved Content Ids",
            "description": "List of unapproved content IDs"
          }
        },
        "type": "object",
        "required": [
          "approved",
          "approved_content",
          "total_content"
        ],
        "title": "CampaignExportApprovalStatus",
        "description": "Response schema for campaign export approval status.\n\nReturns detailed approval status for export functionality including\nlist of unapproved content IDs."
      },
      "CampaignExportData": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "durationWeeks": {
            "type": "integer",
            "title": "Durationweeks"
          },
          "postsPerDay": {
            "type": "integer",
            "title": "Postsperday"
          },
          "campaignVariables": {
            "additionalProperties": true,
            "type": "object",
            "title": "Campaignvariables"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "title": "Createdat"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "title": "Updatedat"
          },
          "brand": {
            "$ref": "#/components/schemas/BrandProfileExport"
          },
          "content": {
            "items": {
              "$ref": "#/components/schemas/ContentExport"
            },
            "type": "array",
            "title": "Content"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "durationWeeks",
          "postsPerDay",
          "createdAt",
          "updatedAt",
          "brand"
        ],
        "title": "CampaignExportData",
        "description": "Complete campaign data for export documents."
      },
      "CampaignPublicationCreate": {
        "properties": {
          "timezone": {
            "type": "string",
            "title": "Timezone",
            "description": "IANA timezone for scheduling"
          },
          "scheduled_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Scheduled At",
            "description": "Optional scheduled publication time"
          }
        },
        "type": "object",
        "required": [
          "timezone"
        ],
        "title": "CampaignPublicationCreate",
        "description": "Request schema for creating a publication.\n\nDirect port from V1 PublishRequest model with timezone field.\nRMM L2: Creating a publication is resource creation, not an action."
      },
      "CampaignPublicationResponse": {
        "properties": {
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Publication status message"
          },
          "scheduled": {
            "type": "integer",
            "title": "Scheduled",
            "description": "Number of posts successfully scheduled"
          },
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "Total number of posts processed"
          },
          "posts": {
            "items": {
              "$ref": "#/components/schemas/PublishedPostSummary"
            },
            "type": "array",
            "title": "Posts",
            "description": "Details of scheduled posts"
          },
          "publication_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Publication Id",
            "description": "Unique publication identifier"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "Publication creation timestamp"
          }
        },
        "type": "object",
        "required": [
          "message",
          "scheduled",
          "total"
        ],
        "title": "CampaignPublicationResponse",
        "description": "Response schema for publication creation.\n\nDirect port from V1 publish endpoint response format.\nTracks publication status and scheduled posts."
      },
      "CampaignResponse": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 255,
            "minLength": 1,
            "title": "Name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "brandId": {
            "type": "string",
            "minLength": 1,
            "title": "Brand ID",
            "description": "ID of the brand this campaign belongs to. Required for all campaigns."
          },
          "durationWeeks": {
            "type": "integer",
            "maximum": 52.0,
            "minimum": 1.0,
            "title": "Duration Weeks",
            "description": "Campaign duration in weeks. Required to calculate total content count."
          },
          "postsPerDay": {
            "type": "integer",
            "maximum": 10.0,
            "minimum": 1.0,
            "title": "Posts Per Day",
            "description": "Number of posts per day. Required to calculate total content count."
          },
          "campaignType": {
            "$ref": "#/components/schemas/CampaignType",
            "title": "Campaign Type",
            "description": "Type of media content for the campaign",
            "default": "image"
          },
          "platforms": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Platforms",
            "description": "List of social media platforms for the campaign (e.g., ['instagram', 'facebook'])"
          },
          "intent": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Intent",
            "description": "Campaign intent or objective (e.g., 'awareness', 'engagement', 'conversion')"
          },
          "campaignVariables": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "additionalProperties": true,
            "title": "Campaign Variables"
          },
          "audienceGender": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Audience Gender",
            "description": "Target audience gender list (e.g., ['female'], ['male', 'female'], ['diverse'])"
          },
          "audienceAgeRange": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Audience Age Range",
            "description": "Target audience age ranges (e.g., ['18-24'], ['25-34', '35-44'])"
          },
          "audienceEmotion": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Audience Emotion",
            "description": "Target emotional triggers (e.g., ['excited', 'inspired', 'curious'])"
          },
          "audienceInterests": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Audience Interests",
            "description": "Target interest categories (e.g., ['technology', 'fitness', 'travel'])"
          },
          "sceneLocations": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array",
                "maxItems": 3
              },
              {
                "type": "null"
              }
            ],
            "title": "Scene Locations",
            "description": "Backdrop/location settings for content (e.g., ['outdoor', 'office', 'home']). Up to 3 locations selected by user in campaign creation."
          },
          "videoModel": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Video Model",
            "description": "Model for video generation (e.g., 'fal-ai/ltx-video', 'fal-ai/kling-video'). Only used when campaign_type is 'video'. If null, uses tier-based selection."
          },
          "videoDuration": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 60.0,
                "minimum": 1.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Video Duration",
            "description": "Video duration in seconds. Only used when campaign_type is 'video'. Default: 5 seconds.",
            "default": 5
          },
          "videoResolution": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Video Resolution",
            "description": "Video resolution (e.g., '720p', '1080p'). Only used when campaign_type is 'video'.",
            "default": "1080p"
          },
          "startDate": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Campaign Start Date"
          },
          "timezone": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Campaign Timezone"
          },
          "id": {
            "type": "integer",
            "title": "ID"
          },
          "userId": {
            "type": "string",
            "title": "User ID",
            "description": "ID of the user who owns this campaign."
          },
          "status": {
            "$ref": "#/components/schemas/CampaignStatus"
          },
          "workflowId": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Workflow ID",
            "description": "ID of the content generation workflow execution"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          },
          "postingDate": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "First Post Date"
          },
          "contentCount": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Total Content Count",
            "default": 0
          },
          "approvedCount": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Approved Content Count",
            "default": 0
          },
          "pendingCount": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Pending Content Count",
            "default": 0
          },
          "generatingCount": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Generating Content Count",
            "default": 0
          },
          "currentWeek": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Current Week Number",
            "description": "Current week number in campaign (1-indexed), 0 if not started"
          },
          "formattedDateRange": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Formatted Date Range",
            "description": "Human-readable date range (e.g., 'Jan 1 - Jan 31, 2025')"
          },
          "postingSchedule": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Posting Schedule",
            "description": "Array of posting times with timezone (e.g., ['9 AM GMT', '2 PM GMT'])"
          },
          "weekProgress": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Week Progress Percentage",
            "description": "Campaign progress as percentage (0.0 to 100.0)"
          },
          "isCompleted": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Is Campaign Completed",
            "description": "Whether campaign end date has passed"
          },
          "daysRemaining": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Days Remaining",
            "description": "Number of days remaining in campaign (0 if completed)"
          }
        },
        "type": "object",
        "required": [
          "name",
          "brandId",
          "durationWeeks",
          "postsPerDay",
          "id",
          "userId",
          "status",
          "createdAt",
          "updatedAt"
        ],
        "title": "CampaignResponse",
        "description": "Schema for campaign responses."
      },
      "CampaignSpecificationAsyncResponse": {
        "properties": {
          "campaignId": {
            "type": "integer",
            "title": "Campaign ID",
            "description": "ID of the campaign for which specification generation was triggered"
          },
          "messageId": {
            "type": "string",
            "title": "Message ID",
            "description": "Pub/Sub message ID for tracking the request"
          },
          "correlationId": {
            "type": "string",
            "title": "Correlation ID",
            "description": "Unique correlation ID for tracing the request"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Current status of the generation request",
            "default": "accepted"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Human-readable status message"
          },
          "statusUrl": {
            "type": "string",
            "title": "Status URL",
            "description": "URL to poll for generation status"
          }
        },
        "type": "object",
        "required": [
          "campaignId",
          "messageId",
          "correlationId",
          "message",
          "statusUrl"
        ],
        "title": "CampaignSpecificationAsyncResponse",
        "description": "Response schema for async campaign specification generation request.\n\nIssue #1549: Returns when a specification generation request has been published.\nThe actual generation happens asynchronously via content-generator.\n\nFollows the same pattern as ContentGenerationResponse."
      },
      "CampaignSpecificationRequest": {
        "properties": {},
        "type": "object",
        "title": "CampaignSpecificationRequest",
        "description": "Request schema for campaign specification generation (optional, can be empty)."
      },
      "CampaignSpecificationResponse": {
        "properties": {
          "keyFeatures": {
            "type": "string",
            "title": "Keyfeatures",
            "description": "Concise description of the product's benefits based on product features"
          },
          "audience": {
            "type": "string",
            "title": "Audience",
            "description": "Description of target audience including age, gender, interests, and emotional goals"
          },
          "purpose": {
            "type": "string",
            "title": "Purpose",
            "description": "Description explaining the goal of the campaign and its focus"
          }
        },
        "type": "object",
        "required": [
          "keyFeatures",
          "audience",
          "purpose"
        ],
        "title": "CampaignSpecificationResponse",
        "description": "Response schema for campaign specification generation.\n\nDirect port from V1 CampaignDetails.tsx JSON output format.",
        "example": {
          "audience": "Health-conscious millennials aged 25-40, interested in sustainability and wellness",
          "keyFeatures": "Premium organic ingredients, eco-friendly packaging, supports local farmers",
          "purpose": "Launch new product line focused on environmental responsibility and premium quality"
        }
      },
      "CampaignSpecificationStatusResponse": {
        "properties": {
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Generation status: pending, generating, completed, or failed"
          },
          "campaignId": {
            "type": "integer",
            "title": "Campaign ID",
            "description": "ID of the campaign"
          },
          "specification": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/CampaignSpecificationResponse"
              },
              {
                "type": "null"
              }
            ],
            "title": "Specification",
            "description": "Generated specification (only present when status is completed)"
          },
          "errorMessage": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Message",
            "description": "Error details (only present when status is failed)"
          }
        },
        "type": "object",
        "required": [
          "status",
          "campaignId"
        ],
        "title": "CampaignSpecificationStatusResponse",
        "description": "Response schema for specification generation status polling.\n\nIssue #1549: Used to check progress of async specification generation."
      },
      "CampaignStatistics": {
        "properties": {
          "campaignId": {
            "type": "integer",
            "title": "Campaign ID"
          },
          "totalPosts": {
            "type": "integer",
            "title": "Total Posts"
          },
          "publishedPosts": {
            "type": "integer",
            "title": "Published Posts"
          },
          "scheduledPosts": {
            "type": "integer",
            "title": "Scheduled Posts"
          },
          "draftPosts": {
            "type": "integer",
            "title": "Draft Posts"
          },
          "totalImpressions": {
            "type": "integer",
            "title": "Total Impressions",
            "default": 0
          },
          "totalEngagements": {
            "type": "integer",
            "title": "Total Engagements",
            "default": 0
          },
          "averageEngagementRate": {
            "type": "number",
            "title": "Average Engagement Rate",
            "default": 0.0
          },
          "platformStats": {
            "additionalProperties": {
              "additionalProperties": true,
              "type": "object"
            },
            "type": "object",
            "title": "Platform Statistics"
          },
          "bestPerformingTime": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Best Performing Time"
          },
          "bestPerformingDay": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Best Performing Day"
          },
          "topPerformingPosts": {
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "type": "array",
            "title": "Top Performing Posts"
          },
          "contentTypePerformance": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Content Type Performance"
          },
          "completionPercentage": {
            "type": "number",
            "title": "Campaign Completion %",
            "default": 0.0
          },
          "daysRemaining": {
            "type": "integer",
            "title": "Days Remaining",
            "default": 0
          },
          "postsRemaining": {
            "type": "integer",
            "title": "Posts Remaining",
            "default": 0
          },
          "approvedCount": {
            "type": "integer",
            "title": "Approved Content Count",
            "default": 0
          },
          "pendingReviewCount": {
            "type": "integer",
            "title": "Pending Review Content Count",
            "default": 0
          },
          "generatingCount": {
            "type": "integer",
            "title": "Generating Content Count",
            "default": 0
          },
          "exportedCount": {
            "type": "integer",
            "title": "Exported Content Count",
            "default": 0
          },
          "lastUpdated": {
            "type": "string",
            "format": "date-time",
            "title": "Last Updated"
          }
        },
        "type": "object",
        "required": [
          "campaignId",
          "totalPosts",
          "publishedPosts",
          "scheduledPosts",
          "draftPosts",
          "lastUpdated"
        ],
        "title": "CampaignStatistics",
        "description": "Schema for campaign statistics."
      },
      "CampaignStatus": {
        "type": "string",
        "enum": [
          "draft",
          "active",
          "paused",
          "completed",
          "archived"
        ],
        "title": "CampaignStatus",
        "description": "Campaign status enumeration."
      },
      "CampaignType": {
        "type": "string",
        "enum": [
          "image",
          "video"
        ],
        "title": "CampaignType",
        "description": "Campaign type enumeration for media content types."
      },
      "CampaignUpdate": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 255,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "brandId": {
            "anyOf": [
              {
                "type": "string",
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Brand ID",
            "description": "ID of the brand this campaign belongs to. Cannot be set to empty."
          },
          "durationWeeks": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 52.0,
                "minimum": 1.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Duration Weeks"
          },
          "postsPerDay": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 10.0,
                "minimum": 1.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Posts Per Day"
          },
          "status": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/CampaignStatus"
              },
              {
                "type": "null"
              }
            ]
          },
          "campaignType": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/CampaignType"
              },
              {
                "type": "null"
              }
            ],
            "title": "Campaign Type",
            "description": "Type of media content for the campaign"
          },
          "platforms": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Platforms",
            "description": "List of social media platforms for the campaign"
          },
          "intent": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Intent",
            "description": "Campaign intent or objective"
          },
          "campaignVariables": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "additionalProperties": true,
            "title": "Campaign Variables"
          },
          "audienceGender": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Audience Gender",
            "description": "Target audience gender list (e.g., ['female'], ['male', 'female'], ['diverse'])"
          },
          "audienceAgeRange": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Audience Age Range",
            "description": "Target audience age ranges (e.g., ['18-24'], ['25-34', '35-44'])"
          },
          "audienceEmotion": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Audience Emotion",
            "description": "Target emotional triggers (e.g., ['excited', 'inspired', 'curious'])"
          },
          "audienceInterests": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Audience Interests",
            "description": "Target interest categories (e.g., ['technology', 'fitness', 'travel'])"
          },
          "sceneLocations": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array",
                "maxItems": 3
              },
              {
                "type": "null"
              }
            ],
            "title": "Scene Locations",
            "description": "Backdrop/location settings for content (e.g., ['outdoor', 'office', 'home']). Up to 3 locations selected by user in campaign creation."
          },
          "workflowId": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Workflow ID",
            "description": "ID of the content generation workflow execution"
          },
          "videoModel": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Video Model",
            "description": "Model for video generation (e.g., 'fal-ai/ltx-video', 'fal-ai/kling-video'). Only used when campaign_type is 'video'. If null, uses tier-based selection."
          },
          "videoDuration": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 60.0,
                "minimum": 1.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Video Duration",
            "description": "Video duration in seconds. Only used when campaign_type is 'video'."
          },
          "videoResolution": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Video Resolution",
            "description": "Video resolution (e.g., '720p', '1080p'). Only used when campaign_type is 'video'."
          },
          "startDate": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Campaign Start Date",
            "description": "When the campaign should start posting content."
          },
          "timezone": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Campaign Timezone",
            "description": "Timezone for campaign scheduling (e.g., 'America/New_York')."
          },
          "postingDate": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "First Post Date",
            "description": "Date of the first scheduled post."
          }
        },
        "type": "object",
        "title": "CampaignUpdate",
        "description": "Schema for updating an existing campaign."
      },
      "CancelScheduledPostRequest": {
        "properties": {
          "reason": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Reason",
            "description": "Optional reason for cancellation"
          }
        },
        "type": "object",
        "title": "CancelScheduledPostRequest",
        "description": "Request schema for cancelling a scheduled post."
      },
      "CancelScheduledPostResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success",
            "description": "Whether cancellation succeeded"
          },
          "post_id": {
            "type": "string",
            "title": "Post Id",
            "description": "Post ID that was cancelled"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Result message"
          },
          "scheduler_job_deleted": {
            "type": "boolean",
            "title": "Scheduler Job Deleted",
            "description": "Whether Cloud Scheduler job was deleted",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "success",
          "post_id",
          "message"
        ],
        "title": "CancelScheduledPostResponse",
        "description": "Response schema for cancel operation."
      },
      "CaptionCreate": {
        "properties": {
          "text": {
            "type": "string",
            "title": "Text",
            "description": "Caption text"
          },
          "platform": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/Platform"
              },
              {
                "type": "null"
              }
            ],
            "description": "Target platform (instagram, facebook, linkedin, twitter, tiktok)"
          },
          "tone": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/CaptionTone"
              },
              {
                "type": "null"
              }
            ],
            "description": "Desired tone for the caption",
            "default": "engaging"
          },
          "length": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/CaptionLength"
              },
              {
                "type": "null"
              }
            ],
            "description": "Target length preset for the caption",
            "default": "medium"
          },
          "hashtags": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Hashtags",
            "description": "Hashtags to include"
          },
          "hashtagDensity": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/HashtagDensity"
              },
              {
                "type": "null"
              }
            ],
            "description": "Density of hashtags in the caption",
            "default": "moderate"
          },
          "ctaType": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/CTAType"
              },
              {
                "type": "null"
              }
            ],
            "description": "Type of call-to-action to include",
            "default": "soft"
          },
          "emojiUsage": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/EmojiUsage"
              },
              {
                "type": "null"
              }
            ],
            "description": "Level of emoji usage in the caption",
            "default": "minimal"
          },
          "hookStyle": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/HookStyle"
              },
              {
                "type": "null"
              }
            ],
            "description": "Style of opening hook for the caption"
          },
          "storyArc": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/StoryArc"
              },
              {
                "type": "null"
              }
            ],
            "description": "Narrative structure for the caption"
          },
          "contentFocus": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ContentFocus"
              },
              {
                "type": "null"
              }
            ],
            "description": "Primary focus area of the caption"
          },
          "maxLength": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 63206.0,
                "minimum": 1.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Maxlength",
            "description": "Maximum caption length (overrides platform default)"
          },
          "brandVoice": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Brandvoice",
            "description": "Brand voice guidelines"
          },
          "brandVoiceAdherence": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Brandvoiceadherence",
            "description": "How strictly to follow brand voice (0.0-1.0)",
            "default": 0.8
          },
          "platformOptimization": {
            "type": "boolean",
            "title": "Platformoptimization",
            "description": "Whether to optimize caption for platform-specific best practices",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "text"
        ],
        "title": "CaptionCreate",
        "description": "Schema for creating a caption.\n\nIssue #2052: Enhanced with enum fields for structured caption parameters."
      },
      "CaptionLength": {
        "type": "string",
        "enum": [
          "short",
          "medium",
          "long"
        ],
        "title": "CaptionLength",
        "description": "Length presets for caption generation.\n\nControls the approximate length of generated captions.\n- SHORT: ~50-100 characters, ideal for punchy social posts\n- MEDIUM: ~100-200 characters, balanced engagement\n- LONG: ~200-500 characters, detailed storytelling"
      },
      "CaptionResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Caption ID"
          },
          "contentId": {
            "type": "string",
            "title": "Contentid",
            "description": "Parent content ID"
          },
          "text": {
            "type": "string",
            "title": "Text",
            "description": "Caption text"
          },
          "platform": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Platform",
            "description": "Target platform"
          },
          "tone": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tone",
            "description": "Caption tone"
          },
          "length": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Length",
            "description": "Caption length preset"
          },
          "hashtags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Hashtags",
            "description": "Included hashtags"
          },
          "hashtagDensity": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Hashtagdensity",
            "description": "Hashtag density setting"
          },
          "ctaType": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Ctatype",
            "description": "CTA type setting"
          },
          "emojiUsage": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Emojiusage",
            "description": "Emoji usage setting"
          },
          "hookStyle": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Hookstyle",
            "description": "Hook style setting"
          },
          "storyArc": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Storyarc",
            "description": "Story arc setting"
          },
          "contentFocus": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Contentfocus",
            "description": "Content focus setting"
          },
          "approved": {
            "type": "boolean",
            "title": "Approved",
            "description": "Approval status",
            "default": false
          },
          "brandVoiceAdherence": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Brandvoiceadherence",
            "description": "Brand voice adherence (0.0-1.0)"
          },
          "platformOptimization": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Platformoptimization",
            "description": "Platform optimization flag"
          },
          "generatedAt": {
            "type": "string",
            "format": "date-time",
            "title": "Generatedat",
            "description": "Generation timestamp"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "title": "Updatedat",
            "description": "Last update timestamp"
          },
          "metadata": {
            "additionalProperties": true,
            "type": "object",
            "title": "Metadata",
            "description": "Additional metadata"
          }
        },
        "type": "object",
        "required": [
          "id",
          "contentId",
          "text",
          "generatedAt",
          "updatedAt"
        ],
        "title": "CaptionResponse",
        "description": "Schema for caption response.\n\nIssue #2052: Enhanced with enum fields for structured caption parameters."
      },
      "CaptionTone": {
        "type": "string",
        "enum": [
          "engaging",
          "informative",
          "promotional",
          "conversational"
        ],
        "title": "CaptionTone",
        "description": "Tone options for caption generation.\n\nDefines the emotional quality and style of the caption text."
      },
      "CategoryBreakdown": {
        "properties": {
          "personalityTraits": {
            "type": "integer",
            "title": "Personalitytraits",
            "description": "Number of personality traits",
            "default": 0
          },
          "products": {
            "type": "integer",
            "title": "Products",
            "description": "Number of products",
            "default": 0
          },
          "colorPalette": {
            "type": "integer",
            "title": "Colorpalette",
            "description": "Number of colors in palette",
            "default": 0
          }
        },
        "type": "object",
        "title": "CategoryBreakdown",
        "description": "Category breakdown for brand knowledge."
      },
      "ContentApprovalRequest": {
        "properties": {
          "campaign_content_id": {
            "type": "string",
            "title": "Campaign Content Id",
            "description": "ID of the content document"
          },
          "week": {
            "type": "integer",
            "minimum": 1.0,
            "title": "Week",
            "description": "Week number (1-indexed)"
          },
          "day": {
            "type": "integer",
            "maximum": 7.0,
            "minimum": 1.0,
            "title": "Day",
            "description": "Day number (1-7)"
          },
          "approved": {
            "type": "boolean",
            "title": "Approved",
            "description": "Whether to approve or unapprove"
          },
          "timezone": {
            "type": "string",
            "title": "Timezone",
            "description": "Timezone for scheduling"
          },
          "posts": {
            "patternProperties": {
              "^post_\\d+$": {
                "$ref": "#/components/schemas/PostContent"
              }
            },
            "type": "object",
            "title": "Posts",
            "description": "Map of post keys to post content"
          }
        },
        "type": "object",
        "required": [
          "campaign_content_id",
          "week",
          "day",
          "approved",
          "timezone",
          "posts"
        ],
        "title": "ContentApprovalRequest",
        "description": "Request schema for approving/unapproving content for a specific day.\n\nThis is a direct port of V1's ApproveRequest schema."
      },
      "ContentApprovalResponse": {
        "properties": {
          "approved": {
            "type": "boolean",
            "title": "Approved",
            "description": "Whether the day is approved"
          },
          "posts": {
            "additionalProperties": {
              "additionalProperties": true,
              "type": "object"
            },
            "type": "object",
            "title": "Posts",
            "description": "Updated posts data"
          }
        },
        "type": "object",
        "required": [
          "approved",
          "posts"
        ],
        "title": "ContentApprovalResponse",
        "description": "Response schema for content approval.\n\nReturns the updated day data after approval/unapproval."
      },
      "ContentExport": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "campaignId": {
            "type": "integer",
            "title": "Campaignid"
          },
          "totalPosts": {
            "type": "integer",
            "title": "Totalposts"
          },
          "readyForReview": {
            "type": "integer",
            "title": "Readyforreview"
          },
          "approved": {
            "type": "integer",
            "title": "Approved"
          },
          "contentData": {
            "additionalProperties": true,
            "type": "object",
            "title": "Contentdata"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "title": "Createdat"
          }
        },
        "type": "object",
        "required": [
          "id",
          "campaignId",
          "totalPosts",
          "readyForReview",
          "approved",
          "createdAt"
        ],
        "title": "ContentExport",
        "description": "Content data for export documents (organized by week/day/post)."
      },
      "ContentExportCreate": {
        "properties": {
          "platform": {
            "type": "string",
            "title": "Platform",
            "description": "Platform where content was exported (instagram, facebook, linkedin, etc.)",
            "examples": [
              "instagram",
              "facebook",
              "linkedin",
              "twitter"
            ]
          },
          "exported_at": {
            "type": "string",
            "format": "date-time",
            "title": "Exported At",
            "description": "Timestamp when the content was exported"
          },
          "metadata": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "additionalProperties": true,
            "title": "Metadata",
            "description": "Additional export metadata (post URL, platform-specific IDs, etc.)"
          }
        },
        "type": "object",
        "required": [
          "platform",
          "exported_at"
        ],
        "title": "ContentExportCreate",
        "description": "Schema for creating a new content export record.\n\nRMM L2: Creating an export is creating a resource, not an action."
      },
      "ContentExportListResponse": {
        "properties": {
          "content_id": {
            "type": "string",
            "title": "Content Id",
            "description": "ID of the content"
          },
          "exports": {
            "items": {
              "$ref": "#/components/schemas/ContentExportResponse"
            },
            "type": "array",
            "title": "Exports",
            "description": "List of export records for this content"
          },
          "total_exports": {
            "type": "integer",
            "title": "Total Exports",
            "description": "Total number of exports"
          }
        },
        "type": "object",
        "required": [
          "content_id",
          "exports",
          "total_exports"
        ],
        "title": "ContentExportListResponse",
        "description": "Schema for list of content exports.\n\nRMM L2: GET /content/{id}/exports returns list of export resources."
      },
      "ContentExportResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Unique identifier for the export record"
          },
          "content_id": {
            "type": "string",
            "title": "Content Id",
            "description": "ID of the content that was exported"
          },
          "platform": {
            "type": "string",
            "title": "Platform",
            "description": "Platform where content was exported"
          },
          "exported_at": {
            "type": "string",
            "title": "Exported At",
            "description": "Timestamp when content was exported"
          },
          "created_at": {
            "type": "string",
            "title": "Created At",
            "description": "When the export record was created"
          },
          "metadata": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "additionalProperties": true,
            "title": "Metadata",
            "description": "Additional export metadata"
          }
        },
        "type": "object",
        "required": [
          "id",
          "content_id",
          "platform",
          "exported_at",
          "created_at"
        ],
        "title": "ContentExportResponse",
        "description": "Schema for content export response.\n\nRMM L2: Response includes the created export resource with its ID."
      },
      "ContentFeedbackAggregates": {
        "properties": {
          "campaignId": {
            "type": "string",
            "title": "Campaignid"
          },
          "totalFeedbackCount": {
            "type": "integer",
            "title": "Totalfeedbackcount",
            "description": "Total number of feedback submissions",
            "default": 0
          },
          "thumbsUpCount": {
            "type": "integer",
            "title": "Thumbsupcount",
            "description": "Number of thumbs up ratings",
            "default": 0
          },
          "thumbsDownCount": {
            "type": "integer",
            "title": "Thumbsdowncount",
            "description": "Number of thumbs down ratings",
            "default": 0
          },
          "averageQualityRating": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Averagequalityrating",
            "description": "Average quality rating (1-5)"
          },
          "averageDiversityRating": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Averagediversityrating",
            "description": "Average diversity rating (1-5)"
          },
          "tagDistribution": {
            "additionalProperties": true,
            "type": "object",
            "title": "Tagdistribution",
            "description": "Count of each tag used"
          },
          "sceneTypeAccuracy": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Scenetypeaccuracy",
            "description": "Percentage of correct scene type classifications"
          }
        },
        "type": "object",
        "required": [
          "campaignId"
        ],
        "title": "ContentFeedbackAggregates",
        "description": "Schema for aggregated feedback statistics.\n\nUsed for GET /feedback/aggregates endpoint."
      },
      "ContentFeedbackBatchCreate": {
        "properties": {
          "feedbackItems": {
            "items": {
              "$ref": "#/components/schemas/ContentFeedbackCreate"
            },
            "type": "array",
            "title": "Feedbackitems",
            "description": "List of feedback items to submit"
          }
        },
        "type": "object",
        "required": [
          "feedbackItems"
        ],
        "title": "ContentFeedbackBatchCreate",
        "description": "Schema for batch feedback submission.\n\nUsed for POST /feedback/batch/collect endpoint."
      },
      "ContentFeedbackCreate": {
        "properties": {
          "pairId": {
            "type": "string",
            "title": "Pairid",
            "description": "Content/Post ID being reviewed"
          },
          "thumbs": {
            "anyOf": [
              {
                "type": "string",
                "enum": [
                  "up",
                  "down"
                ]
              },
              {
                "type": "null"
              }
            ],
            "title": "Thumbs",
            "description": "Thumbs up/down rating"
          },
          "tags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Tags",
            "description": "Feedback tags like 'diversity', 'on-brand', 'low-quality'"
          },
          "qualityRating": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 5.0,
                "minimum": 1.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Qualityrating",
            "description": "1-5 star quality rating"
          },
          "diversityRating": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 5.0,
                "minimum": 1.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Diversityrating",
            "description": "1-5 star diversity rating"
          },
          "comments": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Comments",
            "description": "Free-form text feedback"
          },
          "sceneTypeCorrect": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Scenetypecorrect",
            "description": "Whether scene type classification was correct"
          },
          "subtypeMatch": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Subtypematch",
            "description": "Subtype match feedback"
          }
        },
        "type": "object",
        "required": [
          "pairId"
        ],
        "title": "ContentFeedbackCreate",
        "description": "Schema for creating content feedback.\n\nUsed for POST /outputs/{pair_id}/feedback endpoint."
      },
      "ContentFeedbackResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "pairId": {
            "type": "string",
            "title": "Pairid"
          },
          "campaignId": {
            "type": "string",
            "title": "Campaignid"
          },
          "userId": {
            "type": "string",
            "title": "Userid"
          },
          "thumbs": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Thumbs"
          },
          "tags": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tags"
          },
          "qualityRating": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Qualityrating"
          },
          "diversityRating": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Diversityrating"
          },
          "comments": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Comments"
          },
          "sceneTypeCorrect": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Scenetypecorrect"
          },
          "subtypeMatch": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Subtypematch"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "title": "Createdat"
          }
        },
        "type": "object",
        "required": [
          "id",
          "pairId",
          "campaignId",
          "userId",
          "createdAt"
        ],
        "title": "ContentFeedbackResponse",
        "description": "Schema for content feedback response."
      },
      "ContentFocus": {
        "type": "string",
        "enum": [
          "product",
          "brand",
          "community",
          "promotion",
          "education"
        ],
        "title": "ContentFocus",
        "description": "Content focus area options for captions.\n\nDefines the primary focus/theme of the caption content.\n- PRODUCT: Focus on product features/benefits\n- BRAND: Brand story/values emphasis\n- COMMUNITY: Audience engagement/connection\n- PROMOTION: Offer/discount/sale focus\n- EDUCATION: Tips/how-to/informative content"
      },
      "ContentGenerationDetailStatus": {
        "properties": {
          "contentId": {
            "type": "integer",
            "title": "Contentid",
            "description": "Content ID"
          },
          "campaignId": {
            "type": "integer",
            "title": "Campaignid",
            "description": "Campaign ID"
          },
          "status": {
            "$ref": "#/components/schemas/src__schemas__content_generation_status__GenerationStatus",
            "description": "Overall generation status"
          },
          "progress": {
            "type": "number",
            "maximum": 100.0,
            "minimum": 0.0,
            "title": "Progress",
            "description": "Progress percentage (0-100)"
          },
          "textGenerationStatus": {
            "$ref": "#/components/schemas/src__schemas__content_generation_status__GenerationStatus",
            "description": "Status of text content generation",
            "default": "pending"
          },
          "imageGenerationStatus": {
            "$ref": "#/components/schemas/src__schemas__content_generation_status__GenerationStatus",
            "description": "Status of image generation",
            "default": "pending"
          },
          "posts": {
            "items": {
              "$ref": "#/components/schemas/src__schemas__content_generation_status__PostGenerationStatus"
            },
            "type": "array",
            "title": "Posts",
            "description": "Per-post generation status breakdown"
          },
          "correlationId": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Correlationid",
            "description": "Correlation ID from original request for tracing"
          },
          "startedAt": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Startedat",
            "description": "When generation started"
          },
          "completedAt": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Completedat",
            "description": "When generation completed (if finished)"
          },
          "errorDetails": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Errordetails",
            "description": "Detailed error information if generation failed"
          }
        },
        "type": "object",
        "required": [
          "contentId",
          "campaignId",
          "status",
          "progress"
        ],
        "title": "ContentGenerationDetailStatus",
        "description": "Detailed generation status for a specific content record.\n\nGET /content/{content_id}/generation-status\n\nProvides granular status including per-post breakdown for text\nand image generation.",
        "example": {
          "campaignId": 123,
          "contentId": 456,
          "correlationId": "abc-123-def",
          "imageGenerationStatus": "generating",
          "posts": [
            {
              "imageCount": 1,
              "imageStatus": "completed",
              "postId": "w1d1p1",
              "textStatus": "completed"
            },
            {
              "imageCount": 0,
              "imageStatus": "generating",
              "postId": "w1d1p2",
              "textStatus": "completed"
            }
          ],
          "progress": 60.0,
          "startedAt": "2026-01-02T10:30:00Z",
          "status": "generating",
          "textGenerationStatus": "completed"
        }
      },
      "ContentGenerationResponse": {
        "properties": {
          "campaignId": {
            "type": "integer",
            "title": "Campaign ID",
            "description": "ID of the campaign for which content generation was triggered"
          },
          "messageId": {
            "type": "string",
            "title": "Message ID",
            "description": "ID of the published message for tracking"
          },
          "correlationId": {
            "type": "string",
            "title": "Correlation ID",
            "description": "Unique correlation ID for tracking this generation request across services"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Request status (accepted)",
            "default": "accepted"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Human-readable status message",
            "default": "Content generation request accepted"
          }
        },
        "type": "object",
        "required": [
          "campaignId",
          "messageId",
          "correlationId"
        ],
        "title": "ContentGenerationResponse",
        "description": "Response schema for content generation request.\n\nReturns when a content generation request has been published.\nThe actual generation happens asynchronously."
      },
      "ContentGenerationStatusResponse": {
        "properties": {
          "contentId": {
            "type": "integer",
            "title": "Contentid",
            "description": "Content ID"
          },
          "campaignId": {
            "type": "integer",
            "title": "Campaignid",
            "description": "Associated campaign ID"
          },
          "status": {
            "$ref": "#/components/schemas/src__schemas__generation_status__GenerationStatus",
            "description": "Overall generation status: pending/generating/completed/failed"
          },
          "progress": {
            "type": "integer",
            "maximum": 100.0,
            "minimum": 0.0,
            "title": "Progress",
            "description": "Generation completion percentage (0-100)",
            "default": 0
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Human-readable status message",
            "default": ""
          },
          "correlationId": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Correlationid",
            "description": "Correlation ID from original generation request"
          },
          "totalPosts": {
            "type": "integer",
            "title": "Totalposts",
            "description": "Total number of posts",
            "default": 0
          },
          "postsReady": {
            "type": "integer",
            "title": "Postsready",
            "description": "Number of posts ready for review",
            "default": 0
          },
          "postsGenerating": {
            "type": "integer",
            "title": "Postsgenerating",
            "description": "Number of posts currently generating",
            "default": 0
          },
          "postsFailed": {
            "type": "integer",
            "title": "Postsfailed",
            "description": "Number of posts that failed",
            "default": 0
          },
          "postStatuses": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/src__schemas__generation_status__PostGenerationStatus"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Poststatuses",
            "description": "Per-post generation status breakdown (only included if requested)"
          },
          "errorMessage": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Errormessage",
            "description": "Error message if generation failed"
          },
          "failedPostIds": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Failedpostids",
            "description": "IDs of posts that failed generation"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "title": "Createdat",
            "description": "When content record was created"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "title": "Updatedat",
            "description": "Last status update timestamp"
          }
        },
        "type": "object",
        "required": [
          "contentId",
          "campaignId",
          "status",
          "createdAt",
          "updatedAt"
        ],
        "title": "ContentGenerationStatusResponse",
        "description": "Detailed generation status for specific content.\n\nProvides granular status breakdown per post including text and image status.\nUsed for detailed progress tracking and debugging.\n\nIssue #1484: GET /content/{content_id}/generation-status"
      },
      "ContentImageRegenerateRequest": {
        "properties": {
          "customPrompt": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Customprompt",
            "description": "Optional custom prompt for regeneration. If not provided, uses existing prompt."
          }
        },
        "type": "object",
        "title": "ContentImageRegenerateRequest",
        "description": "Schema for regenerating an existing content image.\n\nIssue #1345: Restore image regeneration endpoint."
      },
      "ContentImageRegenerationResponse": {
        "properties": {
          "messageId": {
            "type": "string",
            "title": "Messageid",
            "description": "Pub/Sub message ID for tracking the regeneration request"
          },
          "imageId": {
            "type": "integer",
            "title": "Imageid",
            "description": "Image ID being regenerated"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Status of the regeneration request",
            "default": "queued"
          },
          "correlationId": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Correlationid",
            "description": "Correlation ID for distributed tracing"
          }
        },
        "type": "object",
        "required": [
          "messageId",
          "imageId"
        ],
        "title": "ContentImageRegenerationResponse",
        "description": "Schema for async image regeneration response.\n\nIssue #1480: Migrated to async Pub/Sub pattern.\nInstead of returning the regenerated image synchronously,\nthis response provides tracking information for the async operation."
      },
      "ContentImageRequest": {
        "properties": {
          "url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Url",
            "description": "URL of existing image to associate"
          },
          "caption": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Caption",
            "description": "Image caption or alt text"
          },
          "altText": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Alttext",
            "description": "Accessibility alt text"
          },
          "width": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Width",
            "description": "Image width in pixels"
          },
          "height": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Height",
            "description": "Image height in pixels"
          },
          "prompt": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Prompt",
            "description": "Image generation prompt"
          },
          "model": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Model",
            "description": "Image model to use"
          },
          "size": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Size",
            "description": "Image size"
          },
          "quality": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Quality",
            "description": "Image quality: standard or hd"
          },
          "style": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Style",
            "description": "Image style: vivid or natural"
          },
          "n": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "N",
            "description": "Number of images to generate"
          },
          "brandColors": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Brandcolors",
            "description": "Brand colors"
          },
          "brandStyle": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Brandstyle",
            "description": "Brand style guidelines"
          }
        },
        "type": "object",
        "title": "ContentImageRequest",
        "description": "Union schema for POST /content/{id}/images - handles both upload and generation.\n\nIssue #1509: Frontend-Backend API Mismatch fix.\nThis schema accepts either:\n- Upload request: has `url` field (associates existing image)\n- Generation request: has `prompt` field (generates new image)\n\nThe endpoint logic inspects which fields are present to determine behavior."
      },
      "ContentImageResponse": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id",
            "description": "Image ID"
          },
          "content_id": {
            "type": "integer",
            "title": "Content Id",
            "description": "Content ID"
          },
          "week_num": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Week Num",
            "description": "Week number (1-indexed, optional)"
          },
          "day_num": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Day Num",
            "description": "Day number (1-7, optional)"
          },
          "post_num": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Post Num",
            "description": "Post number (1-indexed, optional)"
          },
          "image_url": {
            "type": "string",
            "title": "Image Url",
            "description": "URL of the image"
          },
          "image_prompt": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Image Prompt",
            "description": "Prompt used to generate the image"
          },
          "caption": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Caption",
            "description": "Image caption or alt text"
          },
          "generation_count": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Generation Count",
            "description": "Number of times image was generated"
          },
          "model_used": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Model Used",
            "description": "Model used for generation"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "Creation timestamp"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At",
            "description": "Last update timestamp"
          }
        },
        "type": "object",
        "required": [
          "id",
          "content_id",
          "image_url",
          "created_at",
          "updated_at"
        ],
        "title": "ContentImageResponse",
        "description": "Schema for content image response."
      },
      "ContentImageUpdate": {
        "properties": {
          "imagePrompt": {
            "type": "string",
            "title": "Imageprompt",
            "description": "New prompt for image regeneration"
          }
        },
        "type": "object",
        "required": [
          "imagePrompt"
        ],
        "title": "ContentImageUpdate",
        "description": "Schema for updating a content image."
      },
      "ContentPromptResponse": {
        "properties": {
          "contentId": {
            "type": "string",
            "title": "Contentid"
          },
          "imagePrompt": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Imageprompt"
          },
          "imagePrompts": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Imageprompts"
          },
          "postId": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Postid"
          },
          "week": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Week"
          },
          "day": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Day"
          }
        },
        "type": "object",
        "required": [
          "contentId"
        ],
        "title": "ContentPromptResponse",
        "description": "Schema for content prompt response.\n\nReturns image_prompt data for a specific content item.\nUsed by frontend to display/edit image generation prompts."
      },
      "ContentPromptUpdate": {
        "properties": {
          "imagePrompt": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Imageprompt"
          },
          "postId": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Postid"
          },
          "week": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Week"
          },
          "day": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Day"
          }
        },
        "type": "object",
        "title": "ContentPromptUpdate",
        "description": "Schema for updating content prompt.\n\nAllows updating image_prompt for a content item."
      },
      "ContentResponse": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "campaignId": {
            "type": "integer",
            "title": "Campaignid"
          },
          "userId": {
            "type": "string",
            "title": "Userid"
          },
          "readyForReview": {
            "type": "integer",
            "title": "Readyforreview"
          },
          "approved": {
            "type": "integer",
            "title": "Approved"
          },
          "exported": {
            "type": "integer",
            "title": "Exported"
          },
          "published": {
            "type": "boolean",
            "title": "Published"
          },
          "totalPosts": {
            "type": "integer",
            "title": "Totalposts"
          },
          "generationCount": {
            "type": "integer",
            "title": "Generationcount",
            "default": 1
          },
          "contentData": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Contentdata"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "title": "Createdat"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "title": "Updatedat"
          }
        },
        "type": "object",
        "required": [
          "id",
          "campaignId",
          "userId",
          "readyForReview",
          "approved",
          "exported",
          "published",
          "totalPosts",
          "contentData",
          "createdAt",
          "updatedAt"
        ],
        "title": "ContentResponse",
        "description": "Schema for content response."
      },
      "ContentStatus": {
        "type": "string",
        "enum": [
          "draft",
          "pending",
          "approved",
          "published",
          "rejected"
        ],
        "title": "ContentStatus",
        "description": "Valid content status values."
      },
      "ContentStatusResponse": {
        "properties": {
          "contentId": {
            "type": "string",
            "title": "Contentid",
            "description": "ID of the content"
          },
          "status": {
            "$ref": "#/components/schemas/ContentStatus",
            "description": "Current status of the content"
          },
          "approvedBy": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Approvedby",
            "description": "User ID who approved the content"
          },
          "approvedAt": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Approvedat",
            "description": "Timestamp when content was approved"
          },
          "rejectedBy": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Rejectedby",
            "description": "User ID who rejected the content"
          },
          "rejectedAt": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Rejectedat",
            "description": "Timestamp when content was rejected"
          },
          "rejectionReason": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/RejectionReason"
              },
              {
                "type": "null"
              }
            ],
            "description": "Structured reason for rejection"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes",
            "description": "Notes about the status change"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "title": "Updatedat",
            "description": "Timestamp of the status update"
          }
        },
        "type": "object",
        "required": [
          "contentId",
          "status",
          "updatedAt"
        ],
        "title": "ContentStatusResponse",
        "description": "Response after updating content status.\n\nReturns the updated content with its new status and metadata.",
        "example": {
          "approvedAt": "2025-10-02T18:20:00Z",
          "approvedBy": "user123",
          "contentId": "content123",
          "status": "approved",
          "updatedAt": "2025-10-02T18:20:00Z"
        }
      },
      "ContentStatusUpdate": {
        "properties": {
          "status": {
            "$ref": "#/components/schemas/ContentStatus",
            "description": "New status for the content"
          },
          "approvedBy": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Approvedby",
            "description": "User ID who approved/rejected the content"
          },
          "rejectionReason": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/RejectionReason"
              },
              {
                "type": "null"
              }
            ],
            "description": "Structured reason for rejection (required when status is 'rejected')"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes",
            "description": "Optional notes about the status change"
          }
        },
        "type": "object",
        "required": [
          "status"
        ],
        "title": "ContentStatusUpdate",
        "description": "Request to update content status.\n\nRMM L2 Compliance: PATCH updates a specific field (status) on the content resource.",
        "example": {
          "approvedBy": "user123",
          "notes": "The color scheme doesn't match brand guidelines",
          "rejectionReason": "off_brand",
          "status": "rejected"
        }
      },
      "ContentUpdate": {
        "properties": {
          "readyForReview": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Readyforreview"
          },
          "approved": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Approved"
          },
          "exported": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Exported"
          },
          "published": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Published"
          },
          "totalPosts": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Totalposts"
          },
          "generationCount": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Generationcount"
          },
          "contentData": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Contentdata"
          }
        },
        "type": "object",
        "title": "ContentUpdate",
        "description": "Schema for updating content."
      },
      "CostType": {
        "type": "string",
        "enum": [
          "video"
        ],
        "title": "CostType",
        "description": "Types of costs that can be queried."
      },
      "CrawlErrorSummary": {
        "properties": {
          "error_code": {
            "type": "string",
            "title": "Error Code",
            "description": "Error classification code"
          },
          "error_count": {
            "type": "integer",
            "title": "Error Count",
            "description": "Number of occurrences"
          },
          "error_message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Message",
            "description": "Sample error message for this type"
          },
          "last_occurrence": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Occurrence",
            "description": "Most recent occurrence of this error"
          }
        },
        "type": "object",
        "required": [
          "error_code",
          "error_count"
        ],
        "title": "CrawlErrorSummary",
        "description": "Summary of a specific crawl error type."
      },
      "CrawlStatsBrands": {
        "properties": {
          "brands": {
            "items": {
              "$ref": "#/components/schemas/BrandCrawlPerformance"
            },
            "type": "array",
            "title": "Brands",
            "description": "Performance metrics per brand"
          },
          "period_days": {
            "type": "integer",
            "title": "Period Days",
            "description": "Number of days covered"
          }
        },
        "type": "object",
        "required": [
          "brands",
          "period_days"
        ],
        "title": "CrawlStatsBrands",
        "description": "Brand-level crawl performance statistics."
      },
      "CrawlStatsErrors": {
        "properties": {
          "top_errors": {
            "items": {
              "$ref": "#/components/schemas/CrawlErrorSummary"
            },
            "type": "array",
            "title": "Top Errors",
            "description": "Most common error types"
          },
          "total_errors": {
            "type": "integer",
            "title": "Total Errors",
            "description": "Total error count in period"
          },
          "period_days": {
            "type": "integer",
            "title": "Period Days",
            "description": "Number of days covered"
          }
        },
        "type": "object",
        "required": [
          "top_errors",
          "total_errors",
          "period_days"
        ],
        "title": "CrawlStatsErrors",
        "description": "Error analysis for crawl failures."
      },
      "CrawlStatsOverview": {
        "properties": {
          "total_brands_crawled": {
            "type": "integer",
            "title": "Total Brands Crawled",
            "description": "Total number of brands with crawl activity"
          },
          "average_success_rate": {
            "type": "number",
            "title": "Average Success Rate",
            "description": "Overall success rate as percentage (0-100)"
          },
          "average_crawl_time_seconds": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Average Crawl Time Seconds",
            "description": "Average time to complete crawl (seconds)"
          },
          "pages_crawled_total": {
            "type": "integer",
            "title": "Pages Crawled Total",
            "description": "Total pages successfully crawled in period"
          },
          "period_days": {
            "type": "integer",
            "title": "Period Days",
            "description": "Number of days covered by stats"
          }
        },
        "type": "object",
        "required": [
          "total_brands_crawled",
          "average_success_rate",
          "pages_crawled_total",
          "period_days"
        ],
        "title": "CrawlStatsOverview",
        "description": "Overview statistics for crawl monitoring."
      },
      "CrawlStatsTrends": {
        "properties": {
          "data_points": {
            "items": {
              "$ref": "#/components/schemas/CrawlTrendDataPoint"
            },
            "type": "array",
            "title": "Data Points",
            "description": "Time series data points"
          },
          "period_days": {
            "type": "integer",
            "title": "Period Days",
            "description": "Number of days covered"
          },
          "interval": {
            "type": "string",
            "title": "Interval",
            "description": "Aggregation interval (day, hour)"
          }
        },
        "type": "object",
        "required": [
          "data_points",
          "period_days",
          "interval"
        ],
        "title": "CrawlStatsTrends",
        "description": "Time series trends for crawl performance."
      },
      "CrawlStatsView": {
        "type": "string",
        "enum": [
          "overview",
          "trends",
          "errors",
          "brands"
        ],
        "title": "CrawlStatsView",
        "description": "View types for unified crawl stats endpoint."
      },
      "CrawlTrendDataPoint": {
        "properties": {
          "date": {
            "type": "string",
            "title": "Date",
            "description": "Date in ISO format (YYYY-MM-DD)"
          },
          "completed_count": {
            "type": "integer",
            "title": "Completed Count",
            "description": "Crawls completed on this date"
          },
          "failed_count": {
            "type": "integer",
            "title": "Failed Count",
            "description": "Crawls failed on this date"
          },
          "success_rate": {
            "type": "number",
            "title": "Success Rate",
            "description": "Success rate percentage for date"
          }
        },
        "type": "object",
        "required": [
          "date",
          "completed_count",
          "failed_count",
          "success_rate"
        ],
        "title": "CrawlTrendDataPoint",
        "description": "Single data point in crawl trends time series."
      },
      "CreateVersionRequest": {
        "properties": {
          "target": {
            "$ref": "#/components/schemas/VersionRequestTarget",
            "description": "What to regenerate: text, media, or all"
          },
          "mediaId": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Mediaid",
            "description": "Required when target='media'. ID of media to regenerate."
          },
          "modifications": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/VersionModifications"
              },
              {
                "type": "null"
              }
            ],
            "description": "Modification parameters for regeneration"
          }
        },
        "type": "object",
        "required": [
          "target"
        ],
        "title": "CreateVersionRequest",
        "description": "Request to create a new post version."
      },
      "CreateVersionResponse": {
        "properties": {
          "versionRequestId": {
            "type": "string",
            "title": "Versionrequestid",
            "description": "UUID of the version request"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Initial status",
            "default": "pending"
          },
          "statusUrl": {
            "type": "string",
            "title": "Statusurl",
            "description": "URL to poll for status"
          },
          "estimatedCompletionSeconds": {
            "type": "integer",
            "title": "Estimatedcompletionseconds",
            "description": "Estimated seconds to completion",
            "default": 30
          }
        },
        "type": "object",
        "required": [
          "versionRequestId",
          "statusUrl"
        ],
        "title": "CreateVersionResponse",
        "description": "Response when version request is accepted (202 Accepted)."
      },
      "DayContent": {
        "properties": {
          "dayNumber": {
            "type": "integer",
            "title": "Daynumber"
          },
          "approved": {
            "type": "boolean",
            "title": "Approved",
            "default": false
          },
          "postsToGenerate": {
            "type": "integer",
            "title": "Poststogenerate",
            "default": 3
          },
          "posts": {
            "items": {
              "$ref": "#/components/schemas/PostSchema"
            },
            "type": "array",
            "title": "Posts"
          }
        },
        "type": "object",
        "required": [
          "dayNumber"
        ],
        "title": "DayContent",
        "description": "Schema for daily content."
      },
      "DiffLineResponse": {
        "properties": {
          "operation": {
            "type": "string",
            "title": "Operation",
            "description": "'+' add, '-' remove, ' ' unchanged"
          },
          "content": {
            "type": "string",
            "title": "Content"
          },
          "lineNumberOld": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Linenumberold"
          },
          "lineNumberNew": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Linenumbernew"
          }
        },
        "type": "object",
        "required": [
          "operation",
          "content"
        ],
        "title": "DiffLineResponse",
        "description": "Single line in diff output."
      },
      "DiversityMetrics": {
        "properties": {
          "contentTypeDiversity": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Contenttypediversity",
            "description": "Diversity score for content types (0-1)"
          },
          "themeCoverage": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Themecoverage",
            "description": "Theme coverage score (0-1)"
          },
          "temporalDistribution": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Temporaldistribution",
            "description": "How evenly content is distributed over time (0-1)"
          },
          "overallScore": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Overallscore",
            "description": "Overall diversity score (0-1)"
          }
        },
        "type": "object",
        "required": [
          "contentTypeDiversity",
          "themeCoverage",
          "temporalDistribution",
          "overallScore"
        ],
        "title": "DiversityMetrics",
        "description": "Diversity metrics for plan preview."
      },
      "EmailVerificationRequest": {
        "properties": {
          "token": {
            "type": "string",
            "minLength": 1,
            "title": "Token",
            "description": "Verification token from email"
          }
        },
        "type": "object",
        "required": [
          "token"
        ],
        "title": "EmailVerificationRequest",
        "description": "Schema for email verification request.\n\nFor POST /api/v2/verifications endpoint.\nVerifies user email using token from verification email."
      },
      "EmojiUsage": {
        "type": "string",
        "enum": [
          "none",
          "minimal",
          "moderate"
        ],
        "title": "EmojiUsage",
        "description": "Emoji usage options for captions.\n\nControls the frequency of emoji usage in generated captions.\n- NONE: No emojis\n- MINIMAL: 1-2 emojis, strategic placement\n- MODERATE: 3-5 emojis, natural integration"
      },
      "EngagementAnalysis": {
        "properties": {
          "avg_engagement_rate": {
            "type": "number",
            "title": "Avg Engagement Rate",
            "description": "Average engagement rate (likes + comments / followers)",
            "default": 0.0
          },
          "avg_likes_per_post": {
            "type": "number",
            "title": "Avg Likes Per Post",
            "description": "Average likes per post",
            "default": 0.0
          },
          "avg_comments_per_post": {
            "type": "number",
            "title": "Avg Comments Per Post",
            "description": "Average comments per post",
            "default": 0.0
          },
          "top_performing_content_types": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Top Performing Content Types",
            "description": "Content types with highest engagement (e.g., ['carousel', 'reel', 'image'])"
          },
          "top_hashtags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Top Hashtags",
            "description": "Most effective hashtags by engagement"
          }
        },
        "type": "object",
        "title": "EngagementAnalysis",
        "description": "Analysis of what drives engagement for a brand."
      },
      "GeneratedContent": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "campaignId": {
            "type": "integer",
            "title": "Campaignid"
          },
          "userId": {
            "type": "string",
            "title": "Userid"
          },
          "readyForReview": {
            "type": "integer",
            "title": "Readyforreview"
          },
          "approved": {
            "type": "integer",
            "title": "Approved"
          },
          "exported": {
            "type": "integer",
            "title": "Exported"
          },
          "published": {
            "type": "boolean",
            "title": "Published"
          },
          "totalPosts": {
            "type": "integer",
            "title": "Totalposts"
          },
          "weeks": {
            "items": {
              "$ref": "#/components/schemas/WeekContent"
            },
            "type": "array",
            "title": "Weeks"
          },
          "createdAt": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Createdat"
          },
          "updatedAt": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updatedat"
          }
        },
        "type": "object",
        "required": [
          "id",
          "campaignId",
          "userId",
          "readyForReview",
          "approved",
          "exported",
          "published",
          "totalPosts"
        ],
        "title": "GeneratedContent",
        "description": "Schema for generated content with nested structure."
      },
      "HTTPValidationError": {
        "properties": {
          "detail": {
            "items": {
              "$ref": "#/components/schemas/ValidationError"
            },
            "type": "array",
            "title": "Detail"
          }
        },
        "type": "object",
        "title": "HTTPValidationError"
      },
      "HashtagDensity": {
        "type": "string",
        "enum": [
          "none",
          "light",
          "moderate",
          "heavy"
        ],
        "title": "HashtagDensity",
        "description": "Hashtag density options for captions.\n\nControls how many hashtags are included in the caption.\n- NONE: No hashtags\n- LIGHT: 1-3 hashtags\n- MODERATE: 4-8 hashtags\n- HEAVY: 9+ hashtags"
      },
      "HookStyle": {
        "type": "string",
        "enum": [
          "question",
          "statement",
          "statistic",
          "story",
          "benefit"
        ],
        "title": "HookStyle",
        "description": "Opening hook style options for captions.\n\nDefines the style of the opening line to capture attention.\n- QUESTION: Start with an engaging question\n- STATEMENT: Bold declarative opening\n- STATISTIC: Lead with a compelling number or fact\n- STORY: Begin with narrative/personal element\n- BENEFIT: Lead with value proposition"
      },
      "ImageGenerationStatus": {
        "type": "string",
        "enum": [
          "pending",
          "generating",
          "completed",
          "failed"
        ],
        "title": "ImageGenerationStatus",
        "description": "Image generation status values for individual posts."
      },
      "InstagramOAuthRequest": {
        "properties": {
          "code": {
            "type": "string",
            "minLength": 1,
            "title": "Code",
            "description": "Authorization code from Instagram OAuth callback"
          },
          "redirectUri": {
            "type": "string",
            "minLength": 1,
            "title": "Redirecturi",
            "description": "Redirect URI used in authorization request"
          }
        },
        "type": "object",
        "required": [
          "code",
          "redirectUri"
        ],
        "title": "InstagramOAuthRequest",
        "description": "Schema for Instagram OAuth token exchange request."
      },
      "InstagramOAuthResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Instagram account ID"
          },
          "userName": {
            "type": "string",
            "title": "Username",
            "description": "Instagram username"
          },
          "accessToken": {
            "type": "string",
            "title": "Accesstoken",
            "description": "Long-lived access token"
          },
          "expiresIn": {
            "type": "integer",
            "title": "Expiresin",
            "description": "Token expiration time in seconds"
          },
          "issuedAt": {
            "type": "string",
            "format": "date-time",
            "title": "Issuedat",
            "description": "Token issuance timestamp"
          },
          "userId": {
            "type": "string",
            "title": "Userid",
            "description": "Associated user ID from our system"
          }
        },
        "type": "object",
        "required": [
          "id",
          "userName",
          "accessToken",
          "expiresIn",
          "issuedAt",
          "userId"
        ],
        "title": "InstagramOAuthResponse",
        "description": "Schema for Instagram OAuth token exchange response."
      },
      "IntegrationAuthRequest": {
        "properties": {
          "authCode": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Authcode",
            "description": "OAuth authorization code"
          },
          "accessToken": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Accesstoken",
            "description": "Direct access token"
          },
          "refreshToken": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Refreshtoken",
            "description": "Refresh token"
          },
          "scope": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Scope",
            "description": "Requested permissions"
          },
          "metadata": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metadata",
            "description": "Platform-specific metadata"
          }
        },
        "type": "object",
        "title": "IntegrationAuthRequest",
        "description": "Schema for integration authentication request."
      },
      "IntegrationRedirectRequest": {
        "properties": {
          "platform": {
            "type": "string",
            "title": "Platform",
            "description": "Platform name (instagram, facebook, linkedin, twitter)"
          },
          "scope": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Scope",
            "description": "Requested OAuth scopes"
          },
          "state": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "State",
            "description": "State parameter for OAuth flow"
          }
        },
        "type": "object",
        "required": [
          "platform"
        ],
        "title": "IntegrationRedirectRequest",
        "description": "Schema for integration redirect URI request."
      },
      "IntegrationRedirectResponse": {
        "properties": {
          "redirectUri": {
            "type": "string",
            "title": "Redirecturi",
            "description": "OAuth redirect URI"
          },
          "state": {
            "type": "string",
            "title": "State",
            "description": "State parameter to verify callback"
          },
          "expiresAt": {
            "type": "string",
            "format": "date-time",
            "title": "Expiresat",
            "description": "Expiration time for this redirect"
          }
        },
        "type": "object",
        "required": [
          "redirectUri",
          "state",
          "expiresAt"
        ],
        "title": "IntegrationRedirectResponse",
        "description": "Schema for integration redirect URI response."
      },
      "IntegrationResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Integration ID"
          },
          "platform": {
            "type": "string",
            "title": "Platform",
            "description": "Platform name"
          },
          "accountId": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Accountid",
            "description": "Connected account ID"
          },
          "accountName": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Accountname",
            "description": "Connected account name"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Integration status (connected, disconnected, error)"
          },
          "scope": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Scope",
            "description": "Granted permissions"
          },
          "expiresAt": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Expiresat",
            "description": "Token expiration time"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "title": "Createdat",
            "description": "Integration creation time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "title": "Updatedat",
            "description": "Last update time"
          },
          "metadata": {
            "additionalProperties": true,
            "type": "object",
            "title": "Metadata",
            "description": "Platform-specific data"
          }
        },
        "type": "object",
        "required": [
          "id",
          "platform",
          "status",
          "createdAt",
          "updatedAt"
        ],
        "title": "IntegrationResponse",
        "description": "Schema for integration response."
      },
      "IntegrationsListResponse": {
        "properties": {
          "integrations": {
            "items": {
              "$ref": "#/components/schemas/IntegrationResponse"
            },
            "type": "array",
            "title": "Integrations",
            "description": "List of integrations"
          },
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "Total number of integrations"
          }
        },
        "type": "object",
        "required": [
          "integrations",
          "total"
        ],
        "title": "IntegrationsListResponse",
        "description": "Schema for listing all integrations."
      },
      "LearningRequest": {
        "properties": {
          "approvalThreshold": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Approvalthreshold",
            "description": "Threshold below which scene types are considered underperforming",
            "default": 0.7
          },
          "minFeedbackCount": {
            "type": "integer",
            "minimum": 1.0,
            "title": "Minfeedbackcount",
            "description": "Minimum feedback count before triggering reoptimization",
            "default": 10
          },
          "autoApply": {
            "type": "boolean",
            "title": "Autoapply",
            "description": "If true, automatically apply recommended policy updates",
            "default": false
          },
          "forceRegeneration": {
            "type": "boolean",
            "title": "Forceregeneration",
            "description": "If true, force plan regeneration regardless of trigger status",
            "default": false
          }
        },
        "type": "object",
        "title": "LearningRequest",
        "description": "Request schema for triggering learning cycle."
      },
      "LearningResponse": {
        "properties": {
          "campaignId": {
            "type": "string",
            "title": "Campaignid",
            "description": "Campaign ID that was analyzed"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "title": "Timestamp",
            "description": "When the learning analysis was performed"
          },
          "totalFeedbackCount": {
            "type": "integer",
            "title": "Totalfeedbackcount",
            "description": "Total feedback signals collected",
            "default": 0
          },
          "overallApprovalRate": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Overallapprovalrate",
            "description": "Overall approval rate across all scene types",
            "default": 0.0
          },
          "sceneSignals": {
            "items": {
              "$ref": "#/components/schemas/SceneTypeLearningSignal"
            },
            "type": "array",
            "title": "Scenesignals",
            "description": "Learning signals per scene type"
          },
          "reoptimizationTriggered": {
            "type": "boolean",
            "title": "Reoptimizationtriggered",
            "description": "Whether reoptimization threshold was met",
            "default": false
          },
          "triggerReason": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Triggerreason",
            "description": "Reason for trigger (or why not triggered)"
          },
          "recommendations": {
            "items": {
              "$ref": "#/components/schemas/PolicyRecommendation"
            },
            "type": "array",
            "title": "Recommendations",
            "description": "Policy update recommendations"
          },
          "policyUpdated": {
            "type": "boolean",
            "title": "Policyupdated",
            "description": "Whether policy was automatically updated",
            "default": false
          },
          "planRegenerated": {
            "type": "boolean",
            "title": "Planregenerated",
            "description": "Whether plan regeneration was triggered",
            "default": false
          },
          "summary": {
            "type": "string",
            "title": "Summary",
            "description": "Human-readable summary of learning results",
            "default": ""
          }
        },
        "type": "object",
        "required": [
          "campaignId"
        ],
        "title": "LearningResponse",
        "description": "Response schema for learning endpoint."
      },
      "LearningStatus": {
        "properties": {
          "campaignId": {
            "type": "string",
            "title": "Campaignid",
            "description": "Campaign ID"
          },
          "hasSampler": {
            "type": "boolean",
            "title": "Hassampler",
            "description": "Whether a Thompson Sampler exists for this campaign",
            "default": false
          },
          "sceneTypes": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Scenetypes",
            "description": "Scene types being tracked"
          },
          "totalFeedback": {
            "type": "integer",
            "title": "Totalfeedback",
            "description": "Total feedback count",
            "default": 0
          },
          "lastLearningRun": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Lastlearningrun",
            "description": "When learning was last run"
          },
          "currentExplorationRate": {
            "type": "number",
            "title": "Currentexplorationrate",
            "description": "Current epsilon for exploration",
            "default": 0.0
          },
          "modelStatistics": {
            "additionalProperties": true,
            "type": "object",
            "title": "Modelstatistics",
            "description": "Current model statistics"
          }
        },
        "type": "object",
        "required": [
          "campaignId"
        ],
        "title": "LearningStatus",
        "description": "Status of the learning system for a campaign."
      },
      "LegalRestrictions": {
        "properties": {
          "claims": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Claims",
            "description": "Legal claims the brand can make"
          },
          "disclaimers": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Disclaimers",
            "description": "Required disclaimers for brand content"
          },
          "restrictedTerms": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Restrictedterms",
            "description": "Terms that should not be used in content"
          }
        },
        "type": "object",
        "title": "LegalRestrictions",
        "description": "Legal restrictions schema for brand compliance."
      },
      "LogoutResponse": {
        "properties": {
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Logout confirmation message"
          }
        },
        "type": "object",
        "required": [
          "message"
        ],
        "title": "LogoutResponse",
        "description": "Schema for logout response.\n\nConfirms successful token invalidation (logout)."
      },
      "MessageType": {
        "type": "string",
        "enum": [
          "core",
          "deep",
          "event"
        ],
        "title": "MessageType",
        "description": "Message type discriminator for topic routing."
      },
      "NativeUserCreate": {
        "properties": {
          "email": {
            "type": "string",
            "format": "email",
            "title": "Email",
            "description": "User email address"
          },
          "name": {
            "type": "string",
            "maxLength": 255,
            "minLength": 1,
            "title": "Name",
            "description": "User full name"
          },
          "password": {
            "type": "string",
            "maxLength": 128,
            "minLength": 8,
            "title": "Password",
            "description": "User password (will be hashed with bcrypt)"
          }
        },
        "type": "object",
        "required": [
          "email",
          "name",
          "password"
        ],
        "title": "NativeUserCreate",
        "description": "Schema for creating a new user via native email/password authentication.\n\nFor POST /api/v2/users endpoint.\nPassword is hashed and stored in our database with bcrypt.\nEmail verification link is sent via SendGrid."
      },
      "OutputAckResponse": {
        "properties": {
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Processing status",
            "default": "acknowledged"
          },
          "correlationId": {
            "type": "string",
            "title": "Correlationid",
            "description": "Correlation ID from message"
          },
          "postId": {
            "type": "string",
            "title": "Postid",
            "description": "Post ID that was updated"
          }
        },
        "type": "object",
        "required": [
          "correlationId",
          "postId"
        ],
        "title": "OutputAckResponse",
        "description": "Response for successful output processing."
      },
      "PasswordResetCreateRequest": {
        "properties": {
          "email": {
            "type": "string",
            "format": "email",
            "title": "Email",
            "description": "User email address to send reset link"
          }
        },
        "type": "object",
        "required": [
          "email"
        ],
        "title": "PasswordResetCreateRequest",
        "description": "Schema for creating a password reset request (RMM L2 compliant).\n\nFor POST /api/v2/passwords endpoint.\nCreates a password reset token and sends email to user.\n\nRMM Level 2 Compliance:\n- Resource-based URL: /passwords (noun, not verb)\n- POST method creates new password-reset resource\n- No verbs in URL path"
      },
      "PasswordResetCreateResponse": {
        "properties": {
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Generic success message (security: doesn't reveal if email exists)",
            "default": "If the email exists, a password reset link has been sent."
          }
        },
        "type": "object",
        "title": "PasswordResetCreateResponse",
        "description": "Schema for password reset creation response (RMM L2 compliant).\n\nReturns confirmation message without revealing if email exists.\nSecurity: Always returns success to prevent email enumeration."
      },
      "PasswordResetUpdateRequest": {
        "properties": {
          "newPassword": {
            "type": "string",
            "maxLength": 128,
            "minLength": 8,
            "title": "Newpassword",
            "description": "New password (min 8 characters)"
          }
        },
        "type": "object",
        "required": [
          "newPassword"
        ],
        "title": "PasswordResetUpdateRequest",
        "description": "Schema for completing a password reset (RMM L2 compliant).\n\nFor PUT /api/v2/password-resets/{token} endpoint.\nUpdates the password using the reset token.\n\nRMM Level 2 Compliance:\n- Resource-based URL: /password-resets/{token}\n- PUT method updates the password-reset resource\n- Token in path (resource identifier), password in body"
      },
      "PasswordResetUpdateResponse": {
        "properties": {
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Success confirmation message",
            "default": "Password reset successful. You can now log in with your new password."
          }
        },
        "type": "object",
        "title": "PasswordResetUpdateResponse",
        "description": "Schema for password reset completion response (RMM L2 compliant).\n\nReturns success message after password is reset."
      },
      "PlanGenerationAcceptedResponse": {
        "properties": {
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Human-readable status message",
            "default": "Plan generation started"
          },
          "statusUrl": {
            "type": "string",
            "title": "Statusurl",
            "description": "URL to poll for plan generation status"
          },
          "correlationId": {
            "type": "string",
            "title": "Correlationid",
            "description": "Correlation ID for tracking this generation request"
          }
        },
        "type": "object",
        "required": [
          "statusUrl",
          "correlationId"
        ],
        "title": "PlanGenerationAcceptedResponse",
        "description": "Response for async plan generation request (HTTP 202 Accepted).\n\nIssue #1547: Migrate /campaigns/{id}/plan to async publisher pattern.\n\nReturned immediately after publishing plan generation request to indicate\nthe request was accepted and processing has begun asynchronously."
      },
      "PlanGenerationStatusResponse": {
        "properties": {
          "status": {
            "type": "string",
            "enum": [
              "generating",
              "completed",
              "failed"
            ],
            "title": "Status",
            "description": "Plan generation status"
          },
          "plan": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/SceneMixPlanResponse"
              },
              {
                "type": "null"
              }
            ],
            "description": "Generated plan (only present when status is 'completed')"
          },
          "errorMessage": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Errormessage",
            "description": "Error message (only present when status is 'failed')"
          }
        },
        "type": "object",
        "required": [
          "status"
        ],
        "title": "PlanGenerationStatusResponse",
        "description": "Response for plan generation status polling.\n\nIssue #1547: Migrate /campaigns/{id}/plan to async publisher pattern.\n\nUsed to poll the status of an async plan generation request."
      },
      "Platform": {
        "type": "string",
        "enum": [
          "instagram",
          "facebook",
          "linkedin",
          "twitter",
          "tiktok"
        ],
        "title": "Platform",
        "description": "Supported social media platforms.\n\nUsed for platform-specific caption optimization."
      },
      "PolicyRecommendation": {
        "properties": {
          "sceneType": {
            "type": "string",
            "title": "Scenetype",
            "description": "Scene type this recommendation applies to"
          },
          "currentWeight": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Currentweight",
            "description": "Current weight in content mix"
          },
          "recommendedWeight": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Recommendedweight",
            "description": "Recommended new weight"
          },
          "reason": {
            "type": "string",
            "title": "Reason",
            "description": "Explanation for the recommendation"
          },
          "confidence": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Confidence",
            "description": "Confidence level in this recommendation"
          }
        },
        "type": "object",
        "required": [
          "sceneType",
          "currentWeight",
          "recommendedWeight",
          "reason",
          "confidence"
        ],
        "title": "PolicyRecommendation",
        "description": "Recommendation for policy update."
      },
      "PostContent": {
        "properties": {
          "selected_image": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 2083,
                "minLength": 1,
                "format": "uri"
              },
              {
                "type": "null"
              }
            ],
            "title": "Selected Image",
            "description": "URL of the selected image (optional - can be set later)"
          },
          "text": {
            "type": "string",
            "title": "Text",
            "description": "Post caption text (can be empty)",
            "default": ""
          }
        },
        "type": "object",
        "title": "PostContent",
        "description": "Schema for post content in approval request."
      },
      "PostPlan": {
        "properties": {
          "day": {
            "type": "integer",
            "title": "Day",
            "description": "Day of week (1-7)"
          },
          "sceneType": {
            "type": "string",
            "title": "Scenetype",
            "description": "Scene type (e.g., product_showcase, testimonial, educational)"
          },
          "theme": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Theme",
            "description": "Content theme"
          },
          "elements": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Elements",
            "description": "Content elements"
          },
          "captionStyle": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Captionstyle",
            "description": "Caption style"
          }
        },
        "type": "object",
        "required": [
          "day",
          "sceneType"
        ],
        "title": "PostPlan",
        "description": "Individual post within a week."
      },
      "PostSchema": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "text": {
            "type": "string",
            "title": "Text",
            "default": ""
          },
          "imagePrompt": {
            "type": "string",
            "title": "Imageprompt",
            "default": ""
          },
          "imageUrls": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Imageurls"
          },
          "textVersions": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Textversions"
          },
          "generationCount": {
            "type": "integer",
            "title": "Generationcount",
            "default": 1
          },
          "regenerateCount": {
            "type": "integer",
            "title": "Regeneratecount",
            "default": 3
          },
          "posted": {
            "type": "boolean",
            "title": "Posted",
            "default": false
          },
          "approved": {
            "type": "boolean",
            "title": "Approved",
            "default": false
          },
          "selectedImageIndex": {
            "type": "integer",
            "title": "Selectedimageindex",
            "default": 0
          },
          "qualityScore": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Qualityscore",
            "description": "Quality score for the post (0.0 to 1.0)"
          },
          "modelUsed": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Modelused",
            "description": "Image generation model used (e.g., 'fal-ai/nano-banana-pro')"
          }
        },
        "type": "object",
        "required": [
          "id"
        ],
        "title": "PostSchema",
        "description": "Schema for individual social media post."
      },
      "PostSelectionItem": {
        "properties": {
          "postId": {
            "type": "string",
            "title": "Postid",
            "description": "Post ID to update"
          },
          "status": {
            "type": "string",
            "enum": [
              "approved",
              "rejected"
            ],
            "title": "Status",
            "description": "Selection decision"
          }
        },
        "type": "object",
        "required": [
          "postId",
          "status"
        ],
        "title": "PostSelectionItem",
        "description": "Individual post selection item for batch operations."
      },
      "PostSelectionResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "selectionStatus": {
            "type": "string",
            "title": "Selectionstatus"
          },
          "selectedAt": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Selectedat"
          },
          "selectedBy": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Selectedby"
          }
        },
        "type": "object",
        "required": [
          "id",
          "selectionStatus"
        ],
        "title": "PostSelectionResponse",
        "description": "Schema for post selection response."
      },
      "PostSelectionUpdate": {
        "properties": {
          "status": {
            "type": "string",
            "enum": [
              "approved",
              "rejected"
            ],
            "title": "Status",
            "description": "Selection decision (approved or rejected)"
          }
        },
        "type": "object",
        "required": [
          "status"
        ],
        "title": "PostSelectionUpdate",
        "description": "Schema for updating post selection status.\n\nUsed for POST /outputs/{id}/select endpoint."
      },
      "PostVersionItemResponse": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "postId": {
            "type": "string",
            "title": "Postid"
          },
          "versionNumber": {
            "type": "integer",
            "title": "Versionnumber"
          },
          "parentVersionId": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Parentversionid"
          },
          "changeType": {
            "type": "string",
            "title": "Changetype"
          },
          "textSnapshot": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Textsnapshot"
          },
          "mediaSnapshot": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Mediasnapshot"
          },
          "createdBy": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Createdby"
          },
          "createdAt": {
            "type": "string",
            "title": "Createdat"
          }
        },
        "type": "object",
        "required": [
          "id",
          "postId",
          "versionNumber",
          "changeType",
          "createdAt"
        ],
        "title": "PostVersionItemResponse",
        "description": "Single version in history response with camelCase aliases."
      },
      "PostingPatterns": {
        "properties": {
          "posting_frequency": {
            "type": "string",
            "title": "Posting Frequency",
            "description": "Posting frequency (e.g., 'daily', '3x_week', 'weekly')"
          },
          "best_posting_times": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Best Posting Times",
            "description": "Best times to post (e.g., ['9:00 AM', '6:00 PM'])"
          },
          "best_posting_days": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Best Posting Days",
            "description": "Best days to post (e.g., ['Monday', 'Wednesday'])"
          },
          "avg_posts_per_week": {
            "type": "number",
            "title": "Avg Posts Per Week",
            "description": "Average posts per week",
            "default": 0.0
          }
        },
        "type": "object",
        "required": [
          "posting_frequency"
        ],
        "title": "PostingPatterns",
        "description": "Analysis of when and how frequently a brand posts."
      },
      "ProductV2": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Product name"
          },
          "category": {
            "type": "string",
            "title": "Category",
            "description": "Product category"
          }
        },
        "type": "object",
        "required": [
          "name",
          "category"
        ],
        "title": "ProductV2",
        "description": "V2 Product information for brand knowledge."
      },
      "PromptCreate": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Unique prompt identifier"
          },
          "category": {
            "type": "string",
            "title": "Category",
            "description": "Prompt category (brand, content, campaign)"
          },
          "template": {
            "type": "string",
            "title": "Template",
            "description": "Prompt template with {variable} placeholders"
          },
          "variables": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Variables",
            "description": "List of variable names used in template"
          },
          "version": {
            "type": "string",
            "title": "Version",
            "description": "Semantic version (major.minor.patch)",
            "default": "1.0.0"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "Human-readable description of prompt purpose"
          }
        },
        "type": "object",
        "required": [
          "id",
          "category",
          "template"
        ],
        "title": "PromptCreate",
        "description": "Schema for creating a new prompt.\n\nAttributes:\n    id: Unique prompt identifier (e.g., \"brand_summary_v2\")\n    category: Prompt category for filtering (e.g., \"brand\", \"content\", \"campaign\")\n    template: The actual prompt template with variable placeholders\n    variables: List of variable names that can be substituted in the template\n    version: Semantic version of the prompt (e.g., \"1.0.0\")\n    description: Human-readable description of what this prompt does",
        "example": {
          "category": "content",
          "description": "Generate content variations for A/B testing",
          "id": "content_variation_v1",
          "template": "Generate {count} variations of {content_type} for {brand_name}",
          "variables": [
            "count",
            "content_type",
            "brand_name"
          ],
          "version": "1.0.0"
        }
      },
      "PromptResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Unique prompt identifier"
          },
          "category": {
            "type": "string",
            "title": "Category",
            "description": "Prompt category (brand, content, campaign)"
          },
          "template": {
            "type": "string",
            "title": "Template",
            "description": "Prompt template with {variable} placeholders"
          },
          "variables": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Variables",
            "description": "List of variable names used in template"
          },
          "version": {
            "type": "string",
            "title": "Version",
            "description": "Semantic version (major.minor.patch)",
            "default": "1.0.0"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "Human-readable description of prompt purpose"
          }
        },
        "type": "object",
        "required": [
          "id",
          "category",
          "template"
        ],
        "title": "PromptResponse",
        "description": "Response schema for a single application prompt.\n\nAttributes:\n    id: Unique prompt identifier (e.g., \"brand_summary_v1\")\n    category: Prompt category for filtering (e.g., \"brand\", \"content\", \"campaign\")\n    template: The actual prompt template with variable placeholders\n    variables: List of variable names that can be substituted in the template\n    version: Semantic version of the prompt (e.g., \"1.0.0\")\n    description: Human-readable description of what this prompt does",
        "example": {
          "category": "brand",
          "description": "Generate concise brand summary for review",
          "id": "brand_summary_v1",
          "template": "Using the data for {brand_name}, create a 60-word summary highlighting {attributes}",
          "variables": [
            "brand_name",
            "attributes"
          ],
          "version": "1.0.0"
        }
      },
      "PromptsListResponse": {
        "properties": {
          "prompts": {
            "items": {
              "$ref": "#/components/schemas/PromptResponse"
            },
            "type": "array",
            "title": "Prompts",
            "description": "List of application prompts"
          },
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "Total number of prompts in response"
          }
        },
        "type": "object",
        "required": [
          "prompts",
          "total"
        ],
        "title": "PromptsListResponse",
        "description": "Response schema for listing multiple prompts.\n\nAttributes:\n    prompts: List of prompts matching the filter criteria\n    total: Total number of prompts available (useful for pagination if added later)",
        "example": {
          "prompts": [
            {
              "category": "brand",
              "description": "Brand summary generation",
              "id": "brand_summary_v1",
              "template": "Create a summary for {brand_name}",
              "variables": [
                "brand_name"
              ],
              "version": "1.0.0"
            }
          ],
          "total": 1
        }
      },
      "PubSubMessage": {
        "properties": {
          "data": {
            "type": "string",
            "title": "Data",
            "description": "Base64-encoded JSON payload"
          },
          "messageId": {
            "type": "string",
            "title": "Messageid",
            "description": "Pub/Sub message ID"
          },
          "publishTime": {
            "type": "string",
            "title": "Publishtime",
            "description": "ISO-8601 timestamp"
          }
        },
        "type": "object",
        "required": [
          "data",
          "messageId",
          "publishTime"
        ],
        "title": "PubSubMessage",
        "description": "Inner Pub/Sub message structure."
      },
      "PublishedPostSummary": {
        "properties": {
          "week_key": {
            "type": "string",
            "title": "Week Key",
            "description": "Week identifier (e.g., week_1)"
          },
          "day_key": {
            "type": "string",
            "title": "Day Key",
            "description": "Day identifier (e.g., day_1)"
          },
          "post_key": {
            "type": "string",
            "title": "Post Key",
            "description": "Post identifier (e.g., post_1)"
          },
          "post_name": {
            "type": "string",
            "title": "Post Name",
            "description": "Unique post name for tracking"
          },
          "scheduled_time": {
            "type": "string",
            "format": "date-time",
            "title": "Scheduled Time",
            "description": "Scheduled publication time"
          }
        },
        "type": "object",
        "required": [
          "week_key",
          "day_key",
          "post_key",
          "post_name",
          "scheduled_time"
        ],
        "title": "PublishedPostSummary",
        "description": "Summary of a single published post within a publication."
      },
      "RejectionReason": {
        "type": "string",
        "enum": [
          "off_brand",
          "low_quality",
          "wrong_scene_type",
          "inappropriate_content",
          "text_error",
          "image_quality",
          "missing_elements",
          "other"
        ],
        "title": "RejectionReason",
        "description": "Structured rejection reasons for HITL workflow analysis.\n\nThese reasons enable aggregation and analysis of why content is being rejected,\nallowing for targeted improvements to content generation.\n\nSee Issue #2058 for requirements."
      },
      "ResendVerificationRequest": {
        "properties": {
          "email": {
            "type": "string",
            "format": "email",
            "title": "Email",
            "description": "User email address"
          }
        },
        "type": "object",
        "required": [
          "email"
        ],
        "title": "ResendVerificationRequest",
        "description": "Schema for resend verification email request.\n\nFor POST /api/v2/verifications/resend endpoint.\nAllows unauthenticated users to request a new verification email.\nSimilar to forgot-password flow - accepts email, returns generic response."
      },
      "ResendVerificationResponse": {
        "properties": {
          "message": {
            "type": "string",
            "title": "Message",
            "description": "User-friendly message (generic for security)",
            "default": "If the email exists and is not yet verified, a verification email has been sent."
          },
          "emailSent": {
            "type": "boolean",
            "title": "Emailsent",
            "description": "Whether email was sent successfully (always True for security)",
            "default": true
          }
        },
        "type": "object",
        "title": "ResendVerificationResponse",
        "description": "Schema for resend verification email response.\n\nReturned after resending verification email.\nReturns generic message to prevent email enumeration attacks."
      },
      "SceneMixPlanCreate": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Plan name"
          },
          "policyId": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Policyid",
            "description": "Associated policy ID"
          },
          "durationDays": {
            "type": "integer",
            "title": "Durationdays",
            "description": "Plan duration in days"
          },
          "postsPerDay": {
            "type": "integer",
            "title": "Postsperday",
            "description": "Number of posts per day"
          },
          "contentMix": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Contentmix",
            "description": "Content type distribution percentages"
          },
          "themes": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Themes",
            "description": "Content themes"
          },
          "keywords": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Keywords",
            "description": "Target keywords"
          },
          "autoGenerate": {
            "type": "boolean",
            "title": "Autogenerate",
            "description": "Auto-generate content on approval",
            "default": false
          },
          "mixGoal": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Mixgoal",
            "description": "Goal/objective for the content mix strategy"
          },
          "rationale": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Rationale",
            "description": "Explanation for the content mix decisions"
          }
        },
        "type": "object",
        "required": [
          "name",
          "durationDays",
          "postsPerDay",
          "contentMix"
        ],
        "title": "SceneMixPlanCreate",
        "description": "Schema for creating a scene mix plan."
      },
      "SceneMixPlanPreviewRequest": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Plan name"
          },
          "policyId": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Policyid",
            "description": "Associated policy ID"
          },
          "durationDays": {
            "type": "integer",
            "title": "Durationdays",
            "description": "Plan duration in days"
          },
          "postsPerDay": {
            "type": "integer",
            "title": "Postsperday",
            "description": "Number of posts per day"
          },
          "contentMix": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Contentmix",
            "description": "Content type distribution percentages"
          },
          "themes": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Themes",
            "description": "Content themes"
          },
          "keywords": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Keywords",
            "description": "Target keywords"
          },
          "mixGoal": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Mixgoal",
            "description": "Goal/objective for the content mix strategy"
          },
          "rationale": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Rationale",
            "description": "Explanation for the content mix decisions"
          },
          "explorationRate": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Explorationrate",
            "description": "Exploration rate for policy adjustments",
            "default": 0.15
          }
        },
        "type": "object",
        "required": [
          "name",
          "durationDays",
          "postsPerDay",
          "contentMix"
        ],
        "title": "SceneMixPlanPreviewRequest",
        "description": "Schema for previewing a scene mix plan."
      },
      "SceneMixPlanPreviewResponse": {
        "properties": {
          "policyVersion": {
            "type": "string",
            "title": "Policyversion",
            "description": "Policy version",
            "default": "v1"
          },
          "mixGoal": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Mixgoal",
            "description": "Mix goal distribution (human, product, ingredient)"
          },
          "subtypeWeights": {
            "additionalProperties": {
              "additionalProperties": {
                "type": "number"
              },
              "type": "object"
            },
            "type": "object",
            "title": "Subtypeweights",
            "description": "Subtype weights for each content category"
          },
          "rationale": {
            "type": "string",
            "title": "Rationale",
            "description": "Explanation for the selected mix"
          },
          "explorationRate": {
            "type": "number",
            "title": "Explorationrate",
            "description": "Exploration rate for policy adjustments",
            "default": 0.15
          },
          "diversityMetrics": {
            "$ref": "#/components/schemas/DiversityMetrics",
            "description": "Diversity metrics for the plan"
          },
          "estimatedPosts": {
            "type": "integer",
            "title": "Estimatedposts",
            "description": "Estimated total posts for the plan duration"
          },
          "weeksPreview": {
            "items": {
              "$ref": "#/components/schemas/WeekPlan"
            },
            "type": "array",
            "title": "Weekspreview",
            "description": "Preview of week-by-week post planning"
          }
        },
        "type": "object",
        "required": [
          "mixGoal",
          "subtypeWeights",
          "rationale",
          "diversityMetrics",
          "estimatedPosts"
        ],
        "title": "SceneMixPlanPreviewResponse",
        "description": "Schema for scene mix plan preview response with diversity metrics."
      },
      "SceneMixPlanResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Plan ID"
          },
          "campaignId": {
            "type": "string",
            "title": "Campaignid",
            "description": "Campaign ID"
          },
          "policyId": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Policyid",
            "description": "Associated policy ID"
          },
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Plan name"
          },
          "durationDays": {
            "type": "integer",
            "title": "Durationdays",
            "description": "Plan duration in days"
          },
          "postsPerDay": {
            "type": "integer",
            "title": "Postsperday",
            "description": "Number of posts per day"
          },
          "contentMix": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Contentmix",
            "description": "Content type distribution"
          },
          "themes": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Themes",
            "description": "Content themes"
          },
          "keywords": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Keywords",
            "description": "Target keywords"
          },
          "autoGenerate": {
            "type": "boolean",
            "title": "Autogenerate",
            "description": "Auto-generate enabled",
            "default": false
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Plan status (draft, active, completed)",
            "default": "draft"
          },
          "weeks": {
            "items": {
              "$ref": "#/components/schemas/WeekPlan"
            },
            "type": "array",
            "title": "Weeks",
            "description": "Detailed week-by-week post planning"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "title": "Createdat",
            "description": "Creation timestamp"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "title": "Updatedat",
            "description": "Last update timestamp"
          },
          "executionStats": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Executionstats",
            "description": "Execution statistics"
          },
          "mixGoal": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Mixgoal",
            "description": "Goal/objective for the content mix strategy"
          },
          "subtypeWeights": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "number"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Subtypeweights",
            "description": "Weights for content subtypes (alias for content_mix)"
          },
          "rationale": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Rationale",
            "description": "Explanation for the content mix decisions"
          }
        },
        "type": "object",
        "required": [
          "id",
          "campaignId",
          "name",
          "durationDays",
          "postsPerDay",
          "contentMix",
          "createdAt",
          "updatedAt"
        ],
        "title": "SceneMixPlanResponse",
        "description": "Schema for scene mix plan response."
      },
      "SceneMixPlanUpdate": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Name",
            "description": "Plan name"
          },
          "policyId": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Policyid",
            "description": "Associated policy ID"
          },
          "durationDays": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Durationdays",
            "description": "Plan duration in days"
          },
          "postsPerDay": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Postsperday",
            "description": "Number of posts per day"
          },
          "contentMix": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "number"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Contentmix",
            "description": "Content type distribution percentages"
          },
          "themes": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Themes",
            "description": "Content themes"
          },
          "keywords": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Keywords",
            "description": "Target keywords"
          },
          "autoGenerate": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Autogenerate",
            "description": "Auto-generate content on approval"
          },
          "status": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Status",
            "description": "Plan status"
          },
          "mixGoal": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Mixgoal",
            "description": "Goal/objective for the content mix strategy"
          },
          "rationale": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Rationale",
            "description": "Explanation for the content mix decisions"
          }
        },
        "type": "object",
        "title": "SceneMixPlanUpdate",
        "description": "Schema for updating a scene mix plan."
      },
      "SceneMixPolicyCreate": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Policy name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "Policy description"
          },
          "contentTypes": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Contenttypes",
            "description": "Allowed content types"
          },
          "platforms": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Platforms",
            "description": "Target platforms"
          },
          "frequencyRules": {
            "additionalProperties": true,
            "type": "object",
            "title": "Frequencyrules",
            "description": "Content frequency rules"
          },
          "diversitySettings": {
            "additionalProperties": true,
            "type": "object",
            "title": "Diversitysettings",
            "description": "Content diversity settings"
          },
          "qualityThresholds": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Qualitythresholds",
            "description": "Quality thresholds"
          },
          "active": {
            "type": "boolean",
            "title": "Active",
            "description": "Whether policy is active",
            "default": true
          }
        },
        "type": "object",
        "required": [
          "name",
          "contentTypes",
          "platforms",
          "frequencyRules"
        ],
        "title": "SceneMixPolicyCreate",
        "description": "Schema for creating a scene mix policy."
      },
      "SceneMixPolicyResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Policy ID"
          },
          "campaignId": {
            "type": "string",
            "title": "Campaignid",
            "description": "Campaign ID"
          },
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Policy name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "Policy description"
          },
          "contentTypes": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Contenttypes",
            "description": "Allowed content types"
          },
          "platforms": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Platforms",
            "description": "Target platforms"
          },
          "frequencyRules": {
            "additionalProperties": true,
            "type": "object",
            "title": "Frequencyrules",
            "description": "Content frequency rules"
          },
          "diversitySettings": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "additionalProperties": true,
            "title": "Diversitysettings",
            "description": "Content diversity settings"
          },
          "qualityThresholds": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "number"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Qualitythresholds",
            "description": "Quality thresholds"
          },
          "active": {
            "type": "boolean",
            "title": "Active",
            "description": "Whether policy is active",
            "default": true
          },
          "scenes": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/ScenePolicy"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Scenes",
            "description": "Scene-specific policies"
          },
          "diversityScore": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 100.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Diversityscore",
            "description": "Content diversity score"
          },
          "consistencyLevel": {
            "anyOf": [
              {
                "type": "string",
                "enum": [
                  "low",
                  "medium",
                  "high"
                ]
              },
              {
                "type": "null"
              }
            ],
            "title": "Consistencylevel",
            "description": "Consistency enforcement level"
          },
          "createdAt": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Createdat",
            "description": "Creation timestamp"
          },
          "updatedAt": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updatedat",
            "description": "Last update timestamp"
          }
        },
        "type": "object",
        "required": [
          "id",
          "campaignId",
          "name",
          "contentTypes",
          "platforms",
          "frequencyRules"
        ],
        "title": "SceneMixPolicyResponse",
        "description": "Schema for scene mix policy response."
      },
      "ScenePerformanceAggregates": {
        "properties": {
          "campaignId": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Campaignid",
            "description": "Campaign ID if filtered by campaign"
          },
          "sceneTypes": {
            "additionalProperties": {
              "$ref": "#/components/schemas/SceneTypeAggregates"
            },
            "type": "object",
            "title": "Scenetypes",
            "description": "Aggregates by scene type"
          },
          "overallAvgCtr": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Overallavgctr",
            "description": "Overall average click-through rate"
          },
          "overallAvgEr": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Overallavger",
            "description": "Overall average engagement rate"
          },
          "overallAvgCvr": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Overallavgcvr",
            "description": "Overall average conversion rate"
          },
          "totalMetrics": {
            "type": "integer",
            "title": "Totalmetrics",
            "description": "Total number of metric records",
            "default": 0
          }
        },
        "type": "object",
        "title": "ScenePerformanceAggregates",
        "description": "Schema for aggregated performance statistics by scene type.\n\nUsed for GET /performance-metrics/by-scene-type endpoint."
      },
      "ScenePerformanceMetricBatchCreate": {
        "properties": {
          "metrics": {
            "items": {
              "$ref": "#/components/schemas/ScenePerformanceMetricCreate"
            },
            "type": "array",
            "title": "Metrics",
            "description": "List of metrics to ingest"
          }
        },
        "type": "object",
        "required": [
          "metrics"
        ],
        "title": "ScenePerformanceMetricBatchCreate",
        "description": "Schema for batch metric ingestion.\n\nUsed for POST /performance-metrics/batch endpoint."
      },
      "ScenePerformanceMetricCreate": {
        "properties": {
          "campaignId": {
            "type": "integer",
            "title": "Campaignid",
            "description": "Campaign ID for this metric"
          },
          "sceneType": {
            "type": "string",
            "enum": [
              "human",
              "product",
              "ingredient"
            ],
            "title": "Scenetype",
            "description": "Scene type category"
          },
          "ctr": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 1.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Ctr",
            "description": "Click-through rate (0.0 - 1.0)"
          },
          "er": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 1.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Er",
            "description": "Engagement rate (0.0 - 1.0)"
          },
          "cvr": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 1.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Cvr",
            "description": "Conversion rate (0.0 - 1.0)"
          },
          "impressions": {
            "anyOf": [
              {
                "type": "integer",
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Impressions",
            "description": "Total impressions count"
          },
          "clicks": {
            "anyOf": [
              {
                "type": "integer",
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Clicks",
            "description": "Total clicks count"
          },
          "engagements": {
            "anyOf": [
              {
                "type": "integer",
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Engagements",
            "description": "Total engagements (likes, comments, shares)"
          },
          "conversions": {
            "anyOf": [
              {
                "type": "integer",
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Conversions",
            "description": "Total conversions count"
          },
          "measuredAt": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Measuredat",
            "description": "When these metrics were measured"
          },
          "source": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Source",
            "description": "Analytics platform source (e.g., 'instagram_insights', 'meta_business')"
          }
        },
        "type": "object",
        "required": [
          "campaignId",
          "sceneType"
        ],
        "title": "ScenePerformanceMetricCreate",
        "description": "Schema for creating a scene performance metric.\n\nUsed for POST /performance-metrics endpoint."
      },
      "ScenePerformanceMetricResponse": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "campaignId": {
            "type": "integer",
            "title": "Campaignid"
          },
          "sceneType": {
            "type": "string",
            "title": "Scenetype"
          },
          "ctr": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Ctr"
          },
          "er": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Er"
          },
          "cvr": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Cvr"
          },
          "impressions": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Impressions"
          },
          "clicks": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Clicks"
          },
          "engagements": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Engagements"
          },
          "conversions": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Conversions"
          },
          "measuredAt": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Measuredat"
          },
          "source": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Source"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "title": "Createdat"
          }
        },
        "type": "object",
        "required": [
          "id",
          "campaignId",
          "sceneType",
          "createdAt"
        ],
        "title": "ScenePerformanceMetricResponse",
        "description": "Schema for scene performance metric response."
      },
      "ScenePolicy": {
        "properties": {
          "sceneType": {
            "type": "string",
            "title": "Scenetype",
            "description": "Type of scene (e.g., 'product', 'lifestyle', 'testimonial')"
          },
          "minFrequency": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Minfrequency",
            "description": "Minimum occurrence frequency"
          },
          "maxFrequency": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Maxfrequency",
            "description": "Maximum occurrence frequency"
          },
          "priority": {
            "type": "integer",
            "maximum": 10.0,
            "minimum": 1.0,
            "title": "Priority",
            "description": "Scene priority (1-10)"
          }
        },
        "type": "object",
        "required": [
          "sceneType",
          "minFrequency",
          "maxFrequency",
          "priority"
        ],
        "title": "ScenePolicy",
        "description": "Schema for individual scene policy configuration."
      },
      "SceneTypeAggregates": {
        "properties": {
          "sceneType": {
            "type": "string",
            "title": "Scenetype",
            "description": "Scene type category"
          },
          "avgCtr": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Avgctr",
            "description": "Average click-through rate"
          },
          "avgEr": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Avger",
            "description": "Average engagement rate"
          },
          "avgCvr": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Avgcvr",
            "description": "Average conversion rate"
          },
          "totalImpressions": {
            "type": "integer",
            "title": "Totalimpressions",
            "description": "Total impressions",
            "default": 0
          },
          "totalClicks": {
            "type": "integer",
            "title": "Totalclicks",
            "description": "Total clicks",
            "default": 0
          },
          "totalEngagements": {
            "type": "integer",
            "title": "Totalengagements",
            "description": "Total engagements",
            "default": 0
          },
          "totalConversions": {
            "type": "integer",
            "title": "Totalconversions",
            "description": "Total conversions",
            "default": 0
          },
          "metricCount": {
            "type": "integer",
            "title": "Metriccount",
            "description": "Number of metric records",
            "default": 0
          }
        },
        "type": "object",
        "required": [
          "sceneType"
        ],
        "title": "SceneTypeAggregates",
        "description": "Aggregated metrics for a single scene type."
      },
      "SceneTypeLearningSignal": {
        "properties": {
          "sceneType": {
            "type": "string",
            "title": "Scenetype",
            "description": "Scene type identifier"
          },
          "expectedValue": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Expectedvalue",
            "description": "Expected performance value from Thompson Sampling"
          },
          "observations": {
            "type": "integer",
            "title": "Observations",
            "description": "Number of feedback observations",
            "default": 0
          },
          "successRate": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Successrate",
            "description": "Historical success/approval rate",
            "default": 0.0
          },
          "avgCtr": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Avgctr",
            "description": "Average click-through rate"
          },
          "avgEr": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Avger",
            "description": "Average engagement rate"
          },
          "avgCvr": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Avgcvr",
            "description": "Average conversion rate"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Status: 'performing', 'stable', 'underperforming', 'insufficient_data'",
            "default": "stable"
          }
        },
        "type": "object",
        "required": [
          "sceneType",
          "expectedValue"
        ],
        "title": "SceneTypeLearningSignal",
        "description": "Learning signal for a specific scene type."
      },
      "ScheduledPostListResponse": {
        "properties": {
          "posts": {
            "items": {
              "$ref": "#/components/schemas/ScheduledPostResponse"
            },
            "type": "array",
            "title": "Posts",
            "description": "List of scheduled posts"
          },
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "Total number of scheduled posts"
          },
          "campaign_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Campaign Id",
            "description": "Campaign filter if applied"
          },
          "status_filter": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ScheduledPostStatus"
              },
              {
                "type": "null"
              }
            ],
            "description": "Status filter if applied"
          }
        },
        "type": "object",
        "required": [
          "total"
        ],
        "title": "ScheduledPostListResponse",
        "description": "Response schema for listing scheduled posts."
      },
      "ScheduledPostResponse": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id",
            "description": "Database ID"
          },
          "post_id": {
            "type": "string",
            "title": "Post Id",
            "description": "Unique post identifier"
          },
          "campaign_id": {
            "type": "integer",
            "title": "Campaign Id",
            "description": "Campaign ID"
          },
          "week_key": {
            "type": "string",
            "title": "Week Key",
            "description": "Week identifier (e.g., week_1)"
          },
          "day_key": {
            "type": "string",
            "title": "Day Key",
            "description": "Day identifier (e.g., day_1)"
          },
          "post_key": {
            "type": "string",
            "title": "Post Key",
            "description": "Post identifier (e.g., post_1)"
          },
          "scheduled_time": {
            "type": "string",
            "format": "date-time",
            "title": "Scheduled Time",
            "description": "When the post will be published"
          },
          "timezone": {
            "type": "string",
            "title": "Timezone",
            "description": "IANA timezone string"
          },
          "status": {
            "$ref": "#/components/schemas/ScheduledPostStatus",
            "description": "Current status"
          },
          "caption": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Caption",
            "description": "Post caption"
          },
          "image_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Image Url",
            "description": "Post image URL"
          },
          "instagram_account_id": {
            "type": "string",
            "title": "Instagram Account Id",
            "description": "Instagram account ID"
          },
          "instagram_post_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Instagram Post Id",
            "description": "Instagram post ID after publishing"
          },
          "scheduler_job_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Scheduler Job Name",
            "description": "Cloud Scheduler job name"
          },
          "error_message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Message",
            "description": "Error message if failed"
          },
          "retry_count": {
            "type": "integer",
            "title": "Retry Count",
            "description": "Number of retry attempts",
            "default": 0
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "Creation timestamp"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At",
            "description": "Last update timestamp"
          },
          "published_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Published At",
            "description": "When post was published"
          }
        },
        "type": "object",
        "required": [
          "id",
          "post_id",
          "campaign_id",
          "week_key",
          "day_key",
          "post_key",
          "scheduled_time",
          "timezone",
          "status",
          "instagram_account_id",
          "created_at",
          "updated_at"
        ],
        "title": "ScheduledPostResponse",
        "description": "Response schema for a scheduled post."
      },
      "ScheduledPostStatus": {
        "type": "string",
        "enum": [
          "scheduled",
          "publishing",
          "published",
          "failed",
          "cancelled"
        ],
        "title": "ScheduledPostStatus",
        "description": "Status of a scheduled post."
      },
      "ScheduledPostStatusUpdate": {
        "properties": {
          "status": {
            "$ref": "#/components/schemas/ScheduledPostStatus",
            "description": "New status"
          },
          "error_message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Message",
            "description": "Error message if status is FAILED"
          },
          "instagram_post_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Instagram Post Id",
            "description": "Instagram post ID if published"
          },
          "published_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Published At",
            "description": "Timestamp when published"
          }
        },
        "type": "object",
        "required": [
          "status"
        ],
        "title": "ScheduledPostStatusUpdate",
        "description": "Request schema for updating scheduled post status.\n\nUsed by campaign-publisher worker to update status after publishing."
      },
      "SelectionRateBySceneType": {
        "properties": {
          "sceneType": {
            "type": "string",
            "title": "Scenetype",
            "description": "Scene type"
          },
          "totalCount": {
            "type": "integer",
            "title": "Totalcount",
            "description": "Total posts with this scene_type",
            "default": 0
          },
          "approvedCount": {
            "type": "integer",
            "title": "Approvedcount",
            "description": "Number of approved posts",
            "default": 0
          },
          "rejectedCount": {
            "type": "integer",
            "title": "Rejectedcount",
            "description": "Number of rejected posts",
            "default": 0
          },
          "pendingCount": {
            "type": "integer",
            "title": "Pendingcount",
            "description": "Number of pending posts",
            "default": 0
          },
          "approvalRate": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Approvalrate",
            "description": "Approval rate (approved / (approved + rejected))"
          }
        },
        "type": "object",
        "required": [
          "sceneType"
        ],
        "title": "SelectionRateBySceneType",
        "description": "Schema for selection rate aggregated by scene_type.\n\nUsed for GET /outputs/selection-rates endpoint."
      },
      "SessionRequest": {
        "properties": {
          "grantType": {
            "type": "string",
            "pattern": "^(password|refresh_token)$",
            "title": "Granttype",
            "description": "Grant type: 'password' for login, 'refresh_token' for token refresh",
            "default": "password"
          },
          "email": {
            "anyOf": [
              {
                "type": "string",
                "format": "email"
              },
              {
                "type": "null"
              }
            ],
            "title": "Email",
            "description": "User email address (required for password grant)"
          },
          "password": {
            "anyOf": [
              {
                "type": "string",
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Password",
            "description": "User password (required for password grant)"
          },
          "refreshToken": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Refreshtoken",
            "description": "Refresh token from previous session (required for refresh_token grant)"
          }
        },
        "type": "object",
        "title": "SessionRequest",
        "description": "Schema for unified session management (RMM L2 compliant).\n\nFor POST /api/v2/sessions endpoint.\nSupports multiple grant types following OAuth2 patterns:\n- grant_type: \"password\" - Login with email/password (default)\n- grant_type: \"refresh_token\" - Refresh an existing session\n\nRMM Level 2 Compliance:\n- Single resource-based URL: /sessions\n- HTTP method (POST) indicates create/update action\n- Grant type in body differentiates login vs refresh\n- No verbs in URL path\n\nExamples:\n    Login: {\"grant_type\": \"password\", \"email\": \"user@example.com\", \"password\": \"secret\"}\n    Refresh: {\"grant_type\": \"refresh_token\", \"refresh_token\": \"eyJ...\"}"
      },
      "SessionResponse": {
        "properties": {
          "accessToken": {
            "type": "string",
            "title": "Accesstoken",
            "description": "JWT access token"
          },
          "refreshToken": {
            "type": "string",
            "title": "Refreshtoken",
            "description": "Refresh token for next refresh"
          },
          "tokenType": {
            "type": "string",
            "title": "Tokentype",
            "description": "Token type (always 'bearer')",
            "default": "bearer"
          },
          "expiresIn": {
            "type": "integer",
            "title": "Expiresin",
            "description": "Token expiration time in seconds from now"
          },
          "user": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/UserResponse"
              },
              {
                "type": "null"
              }
            ],
            "description": "User profile (included for password grant, optional for refresh)"
          }
        },
        "type": "object",
        "required": [
          "accessToken",
          "refreshToken",
          "expiresIn"
        ],
        "title": "SessionResponse",
        "description": "Unified session response for RMM L2 compliant sessions endpoint.\n\nUsed by POST /api/v2/sessions for both login and token refresh.\nContains all fields needed for both use cases.\n\nFor password grant (login):\n- user: User profile data\n- access_token: JWT access token\n- refresh_token: Token for refreshing session\n- token_type: Always \"bearer\"\n- expires_in: Token expiration in seconds\n\nFor refresh_token grant:\n- access_token: New JWT access token\n- refresh_token: New refresh token\n- token_type: Always \"bearer\"\n- expires_in: Token expiration in seconds\n- user: Optional (may be omitted for refresh)"
      },
      "SignupCreate": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 255,
            "minLength": 2,
            "title": "Name",
            "description": "Signup name"
          },
          "email": {
            "type": "string",
            "format": "email",
            "title": "Email",
            "description": "Signup email address"
          },
          "industry": {
            "type": "string",
            "maxLength": 255,
            "minLength": 1,
            "title": "Industry",
            "description": "Industry"
          }
        },
        "type": "object",
        "required": [
          "name",
          "email",
          "industry"
        ],
        "title": "SignupCreate",
        "description": "Schema for creating a new signup.\n\nUsed for landing page beta signup form submissions."
      },
      "SignupResponse": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 255,
            "minLength": 2,
            "title": "Name",
            "description": "Signup name"
          },
          "email": {
            "type": "string",
            "format": "email",
            "title": "Email",
            "description": "Signup email address"
          },
          "industry": {
            "type": "string",
            "maxLength": 255,
            "minLength": 1,
            "title": "Industry",
            "description": "Industry"
          },
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id",
            "description": "Signup ID"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "title": "Createdat",
            "description": "Signup creation timestamp"
          }
        },
        "type": "object",
        "required": [
          "name",
          "email",
          "industry",
          "id",
          "createdAt"
        ],
        "title": "SignupResponse",
        "description": "Schema for signup responses.\n\nReturned after successful signup creation."
      },
      "SocialAnalysis": {
        "properties": {
          "platform": {
            "type": "string",
            "title": "Platform",
            "description": "Social media platform",
            "default": "instagram"
          },
          "account_id": {
            "type": "string",
            "title": "Account Id",
            "description": "Platform account ID"
          },
          "username": {
            "type": "string",
            "title": "Username",
            "description": "Platform username/handle"
          },
          "followers": {
            "type": "integer",
            "title": "Followers",
            "description": "Number of followers",
            "default": 0
          },
          "following": {
            "type": "integer",
            "title": "Following",
            "description": "Number of accounts followed",
            "default": 0
          },
          "media_count": {
            "type": "integer",
            "title": "Media Count",
            "description": "Total number of posts",
            "default": 0
          },
          "biography": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Biography",
            "description": "Account biography"
          },
          "website": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Website",
            "description": "Website URL from profile"
          },
          "avg_engagement_rate": {
            "type": "number",
            "title": "Avg Engagement Rate",
            "description": "Average engagement rate across posts",
            "default": 0.0
          },
          "top_performing_content_types": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Top Performing Content Types",
            "description": "Best performing content types"
          },
          "posting_frequency": {
            "type": "string",
            "title": "Posting Frequency",
            "description": "How often the brand posts",
            "default": "unknown"
          },
          "best_posting_times": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Best Posting Times",
            "description": "Optimal posting times"
          },
          "hashtag_strategy": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Hashtag Strategy",
            "description": "Commonly used hashtags"
          },
          "content_themes": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Content Themes",
            "description": "Main content themes identified"
          },
          "posting_patterns": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/PostingPatterns"
              },
              {
                "type": "null"
              }
            ],
            "description": "Detailed posting pattern analysis"
          },
          "engagement_analysis": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/EngagementAnalysis"
              },
              {
                "type": "null"
              }
            ],
            "description": "Detailed engagement analysis"
          },
          "analyzed_at": {
            "type": "string",
            "format": "date-time",
            "title": "Analyzed At",
            "description": "When analysis was performed"
          }
        },
        "type": "object",
        "required": [
          "account_id",
          "username"
        ],
        "title": "SocialAnalysis",
        "description": "Complete social media analysis for a brand."
      },
      "StatusErrorResponse": {
        "properties": {
          "message": {
            "type": "string",
            "title": "Message"
          },
          "code": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Code"
          }
        },
        "type": "object",
        "required": [
          "message"
        ],
        "title": "StatusErrorResponse",
        "description": "Error info."
      },
      "StatusProgressResponse": {
        "properties": {
          "step": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Step"
          },
          "percentage": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Percentage"
          }
        },
        "type": "object",
        "title": "StatusProgressResponse",
        "description": "Progress info with camelCase."
      },
      "StatusResultResponse": {
        "properties": {
          "versionId": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Versionid"
          },
          "mediaUrl": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Mediaurl"
          },
          "text": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Text"
          }
        },
        "type": "object",
        "title": "StatusResultResponse",
        "description": "Result info with camelCase."
      },
      "StoryArc": {
        "type": "string",
        "enum": [
          "problem_solution",
          "before_after",
          "list_format",
          "testimonial",
          "educational"
        ],
        "title": "StoryArc",
        "description": "Narrative structure options for captions.\n\nDefines the overall narrative flow of the caption.\n- PROBLEM_SOLUTION: Present problem, offer solution\n- BEFORE_AFTER: Transformation narrative\n- LIST_FORMAT: Numbered or bulleted points\n- TESTIMONIAL: Social proof/customer story\n- EDUCATIONAL: Teaching/informative structure"
      },
      "TextDiffResponse": {
        "properties": {
          "changeType": {
            "type": "string",
            "title": "Changetype"
          },
          "lines": {
            "items": {
              "$ref": "#/components/schemas/DiffLineResponse"
            },
            "type": "array",
            "title": "Lines"
          },
          "additions": {
            "type": "integer",
            "title": "Additions"
          },
          "deletions": {
            "type": "integer",
            "title": "Deletions"
          },
          "similarityRatio": {
            "type": "number",
            "title": "Similarityratio"
          }
        },
        "type": "object",
        "required": [
          "changeType",
          "lines",
          "additions",
          "deletions",
          "similarityRatio"
        ],
        "title": "TextDiffResponse",
        "description": "Text diff details."
      },
      "TextPosition": {
        "type": "string",
        "enum": [
          "top",
          "center",
          "bottom",
          "none"
        ],
        "title": "TextPosition",
        "description": "Text overlay positions."
      },
      "ThreadMessageCreate": {
        "properties": {
          "role": {
            "type": "string",
            "title": "Role",
            "description": "Message role: 'user' or 'assistant'"
          },
          "content": {
            "type": "string",
            "maxLength": 10000,
            "minLength": 1,
            "title": "Content",
            "description": "Message content"
          }
        },
        "type": "object",
        "required": [
          "role",
          "content"
        ],
        "title": "ThreadMessageCreate",
        "description": "Schema for creating a new thread message.",
        "example": {
          "content": "Help me create content for my campaign",
          "role": "user"
        }
      },
      "ThreadMessageResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Message UUID"
          },
          "thread_id": {
            "type": "string",
            "title": "Thread Id",
            "description": "Thread UUID"
          },
          "role": {
            "type": "string",
            "title": "Role",
            "description": "Message role: 'user' or 'assistant'"
          },
          "content": {
            "type": "string",
            "title": "Content",
            "description": "Message content"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "Message creation timestamp"
          }
        },
        "type": "object",
        "required": [
          "id",
          "thread_id",
          "role",
          "content",
          "created_at"
        ],
        "title": "ThreadMessageResponse",
        "description": "Schema for thread message response.",
        "example": {
          "content": "Help me create content for my campaign",
          "created_at": "2024-01-15T10:00:00Z",
          "id": "msg-550e8400-e29b-41d4-a716-446655440000",
          "role": "user",
          "thread_id": "thread-550e8400-e29b-41d4-a716-446655440001"
        }
      },
      "ToneAttributesV2": {
        "properties": {
          "formality": {
            "type": "string",
            "title": "Formality",
            "description": "Formality level (casual, professional, formal)"
          },
          "enthusiasm": {
            "type": "string",
            "title": "Enthusiasm",
            "description": "Enthusiasm level (low, medium, high)"
          },
          "expertise": {
            "type": "string",
            "title": "Expertise",
            "description": "Expertise level (beginner, intermediate, expert)"
          }
        },
        "type": "object",
        "required": [
          "formality",
          "enthusiasm",
          "expertise"
        ],
        "title": "ToneAttributesV2",
        "description": "V2 Tone attributes for brand knowledge."
      },
      "UserRegistrationResponse": {
        "properties": {
          "user": {
            "$ref": "#/components/schemas/UserResponse",
            "description": "Created user profile"
          },
          "emailVerificationSent": {
            "type": "boolean",
            "title": "Emailverificationsent",
            "description": "Whether email verification was sent"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "User-friendly message",
            "default": "Registration successful. Please check your email to verify your account."
          }
        },
        "type": "object",
        "required": [
          "user",
          "emailVerificationSent"
        ],
        "title": "UserRegistrationResponse",
        "description": "Schema for user registration response.\n\nReturned after successful registration, includes status of email verification."
      },
      "UserResponse": {
        "properties": {
          "email": {
            "type": "string",
            "format": "email",
            "title": "Email",
            "description": "User email address"
          },
          "name": {
            "type": "string",
            "maxLength": 255,
            "minLength": 1,
            "title": "Name",
            "description": "User full name"
          },
          "id": {
            "type": "string",
            "title": "Id",
            "description": "User ID"
          },
          "emailVerified": {
            "type": "boolean",
            "title": "Emailverified",
            "description": "Whether email has been verified"
          },
          "plan": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Plan",
            "description": "Subscription plan"
          },
          "role": {
            "type": "string",
            "title": "Role",
            "description": "User role",
            "default": "user"
          },
          "isAdmin": {
            "type": "boolean",
            "title": "Isadmin",
            "description": "Whether user has admin privileges",
            "default": false
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "title": "Createdat",
            "description": "Account creation timestamp"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "title": "Updatedat",
            "description": "Last update timestamp"
          }
        },
        "type": "object",
        "required": [
          "email",
          "name",
          "id",
          "emailVerified",
          "createdAt",
          "updatedAt"
        ],
        "title": "UserResponse",
        "description": "Schema for user responses.\n\nExcludes sensitive fields like password_hash.\nIncludes all public profile information."
      },
      "ValidationError": {
        "properties": {
          "loc": {
            "items": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                }
              ]
            },
            "type": "array",
            "title": "Location"
          },
          "msg": {
            "type": "string",
            "title": "Message"
          },
          "type": {
            "type": "string",
            "title": "Error Type"
          }
        },
        "type": "object",
        "required": [
          "loc",
          "msg",
          "type"
        ],
        "title": "ValidationError"
      },
      "VersionDiffResponse": {
        "properties": {
          "postId": {
            "type": "string",
            "title": "Postid"
          },
          "fromVersion": {
            "type": "integer",
            "title": "Fromversion"
          },
          "toVersion": {
            "type": "integer",
            "title": "Toversion"
          },
          "changeType": {
            "type": "string",
            "title": "Changetype"
          },
          "textDiff": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/TextDiffResponse"
              },
              {
                "type": "null"
              }
            ]
          },
          "mediaChanged": {
            "type": "boolean",
            "title": "Mediachanged"
          },
          "mediaDiff": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Mediadiff"
          }
        },
        "type": "object",
        "required": [
          "postId",
          "fromVersion",
          "toVersion",
          "changeType",
          "mediaChanged"
        ],
        "title": "VersionDiffResponse",
        "description": "Complete diff between two versions."
      },
      "VersionHistoryResponse": {
        "properties": {
          "postId": {
            "type": "string",
            "title": "Postid"
          },
          "currentVersion": {
            "type": "integer",
            "title": "Currentversion"
          },
          "totalVersions": {
            "type": "integer",
            "title": "Totalversions"
          },
          "versions": {
            "items": {
              "$ref": "#/components/schemas/PostVersionItemResponse"
            },
            "type": "array",
            "title": "Versions"
          }
        },
        "type": "object",
        "required": [
          "postId",
          "currentVersion",
          "totalVersions",
          "versions"
        ],
        "title": "VersionHistoryResponse",
        "description": "Version history response with camelCase aliases."
      },
      "VersionModifications": {
        "properties": {
          "feedback": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Feedback",
            "description": "User feedback to incorporate"
          },
          "tone": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tone",
            "description": "Desired tone: professional, casual, etc."
          },
          "prompt": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Prompt",
            "description": "New/modified prompt for media"
          },
          "style": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Style",
            "description": "Style transfer to apply"
          },
          "keep_composition": {
            "type": "boolean",
            "title": "Keep Composition",
            "description": "Preserve layout/composition",
            "default": true
          }
        },
        "type": "object",
        "title": "VersionModifications",
        "description": "Modification parameters for version creation."
      },
      "VersionRequestTarget": {
        "type": "string",
        "enum": [
          "text",
          "media",
          "all"
        ],
        "title": "VersionRequestTarget",
        "description": "Target type for version generation."
      },
      "VersionStatusResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "status": {
            "type": "string",
            "title": "Status"
          },
          "progress": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/StatusProgressResponse"
              },
              {
                "type": "null"
              }
            ]
          },
          "result": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/StatusResultResponse"
              },
              {
                "type": "null"
              }
            ]
          },
          "error": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/StatusErrorResponse"
              },
              {
                "type": "null"
              }
            ]
          },
          "createdAt": {
            "type": "string",
            "title": "Createdat"
          },
          "startedAt": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Startedat"
          },
          "completedAt": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Completedat"
          }
        },
        "type": "object",
        "required": [
          "id",
          "status",
          "createdAt"
        ],
        "title": "VersionStatusResponse",
        "description": "Status polling response with camelCase aliases."
      },
      "VideoApprovalResponse": {
        "properties": {
          "jobId": {
            "type": "string",
            "title": "Jobid",
            "description": "UUID of the video generation job"
          },
          "postId": {
            "type": "string",
            "title": "Postid",
            "description": "ID of the associated post"
          },
          "status": {
            "$ref": "#/components/schemas/VideoJobStatus",
            "description": "Job status (approved)",
            "default": "approved"
          },
          "approvedAt": {
            "type": "string",
            "format": "date-time",
            "title": "Approvedat",
            "description": "Timestamp when approved"
          }
        },
        "type": "object",
        "required": [
          "jobId",
          "postId",
          "approvedAt"
        ],
        "title": "VideoApprovalResponse",
        "description": "Response schema for video approval.\n\nAttributes:\n    job_id: UUID of the approved job\n    post_id: ID of the associated post\n    status: New status (approved)\n    approved_at: Timestamp when approved"
      },
      "VideoConvertStaticResponse": {
        "properties": {
          "postId": {
            "type": "string",
            "title": "Postid",
            "description": "ID of the post"
          },
          "jobId": {
            "type": "string",
            "title": "Jobid",
            "description": "UUID of the video job"
          },
          "status": {
            "$ref": "#/components/schemas/VideoJobStatus",
            "description": "Job status after conversion",
            "default": "cancelled"
          },
          "convertedAt": {
            "type": "string",
            "format": "date-time",
            "title": "Convertedat",
            "description": "Timestamp when converted to static"
          }
        },
        "type": "object",
        "required": [
          "postId",
          "jobId",
          "convertedAt"
        ],
        "title": "VideoConvertStaticResponse",
        "description": "Response schema for converting video back to static image.\n\nIssue #2025: POST /api/v2/posts/{post_id}/videos/{job_id}/static/conversions\n\nAttributes:\n    post_id: ID of the post that was converted\n    job_id: UUID of the video job that was cancelled\n    status: New status of the video job (cancelled)\n    converted_at: Timestamp when conversion occurred"
      },
      "VideoGenerationRequest": {
        "properties": {
          "durationSeconds": {
            "type": "integer",
            "maximum": 60.0,
            "minimum": 10.0,
            "title": "Durationseconds",
            "description": "Video duration in seconds (10-60)",
            "default": 15
          },
          "aspectRatio": {
            "$ref": "#/components/schemas/AspectRatio",
            "description": "Target aspect ratio for the video",
            "default": "9:16"
          },
          "style": {
            "$ref": "#/components/schemas/VideoStyle",
            "description": "Visual style preset",
            "default": "cinematic"
          },
          "includeTextOverlay": {
            "type": "boolean",
            "title": "Includetextoverlay",
            "description": "Whether to include post text as overlay",
            "default": true
          },
          "textPosition": {
            "$ref": "#/components/schemas/TextPosition",
            "description": "Position of text overlay if enabled",
            "default": "bottom"
          },
          "motionType": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Motiontype",
            "description": "Motion effect type (zoom, pan, push, etc.)"
          }
        },
        "type": "object",
        "title": "VideoGenerationRequest",
        "description": "Request schema for initiating video generation.\n\nAttributes:\n    duration_seconds: Video duration (10-60 seconds for full video)\n    aspect_ratio: Target aspect ratio\n    style: Visual style preset\n    include_text_overlay: Whether to include text on the video\n    text_position: Where to position the text overlay\n    motion_type: Type of motion effect (zoom, pan, etc.)"
      },
      "VideoJobResponse": {
        "properties": {
          "jobId": {
            "type": "string",
            "title": "Jobid",
            "description": "UUID of the video generation job"
          },
          "postId": {
            "type": "string",
            "title": "Postid",
            "description": "ID of the post"
          },
          "jobType": {
            "$ref": "#/components/schemas/VideoJobType",
            "description": "Type of video being generated"
          },
          "status": {
            "$ref": "#/components/schemas/VideoJobStatus",
            "description": "Current job status"
          },
          "estimatedDurationSeconds": {
            "type": "integer",
            "title": "Estimateddurationseconds",
            "description": "Estimated processing time in seconds"
          },
          "estimatedCostUsd": {
            "type": "string",
            "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$",
            "title": "Estimatedcostusd",
            "description": "Estimated cost in USD"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "title": "Createdat",
            "description": "Timestamp when job was created"
          }
        },
        "type": "object",
        "required": [
          "jobId",
          "postId",
          "jobType",
          "status",
          "estimatedDurationSeconds",
          "estimatedCostUsd",
          "createdAt"
        ],
        "title": "VideoJobResponse",
        "description": "Response schema for video generation job creation.\n\nReturned when a video generation request is successfully queued.\n\nAttributes:\n    job_id: UUID of the created job\n    post_id: ID of the post being processed\n    job_type: Type of video being generated\n    status: Current job status (initially 'queued')\n    estimated_duration_seconds: Estimated processing time\n    estimated_cost_usd: Estimated cost for this generation"
      },
      "VideoJobStatus": {
        "type": "string",
        "enum": [
          "queued",
          "processing",
          "completed",
          "failed",
          "cancelled",
          "approved",
          "rejected"
        ],
        "title": "VideoJobStatus",
        "description": "Status values for video generation jobs."
      },
      "VideoJobStatusResponse": {
        "properties": {
          "jobId": {
            "type": "string",
            "title": "Jobid",
            "description": "UUID of the video generation job"
          },
          "postId": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Postid",
            "description": "ID of the associated post"
          },
          "jobType": {
            "$ref": "#/components/schemas/VideoJobType",
            "description": "Type of video job"
          },
          "status": {
            "$ref": "#/components/schemas/VideoJobStatus",
            "description": "Current job status"
          },
          "videoUrl": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Videourl",
            "description": "URL of generated video"
          },
          "thumbnailUrl": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Thumbnailurl",
            "description": "URL of video thumbnail"
          },
          "durationSeconds": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Durationseconds",
            "description": "Actual video duration"
          },
          "costUsd": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Costusd",
            "description": "Actual cost incurred"
          },
          "errorMessage": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Errormessage",
            "description": "Error details"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "title": "Createdat",
            "description": "When the job was created"
          },
          "completedAt": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Completedat",
            "description": "When the job completed"
          }
        },
        "type": "object",
        "required": [
          "jobId",
          "jobType",
          "status",
          "createdAt"
        ],
        "title": "VideoJobStatusResponse",
        "description": "Response schema for video job status queries.\n\nUsed by GET /api/v1/video-jobs/{job_id} endpoint (Issue #1697).\n\nAttributes:\n    job_id: UUID of the job\n    post_id: ID of the associated post\n    job_type: Type of video job\n    status: Current status\n    video_url: URL of generated video (if completed)\n    thumbnail_url: URL of video thumbnail (if completed)\n    duration_seconds: Actual video duration (if completed)\n    cost_usd: Actual cost incurred (if available)\n    error_message: Error details (if failed)\n    created_at: When the job was created\n    completed_at: When the job completed (if finished)"
      },
      "VideoJobType": {
        "type": "string",
        "enum": [
          "motion_poster",
          "full_video"
        ],
        "title": "VideoJobType",
        "description": "Types of video generation jobs."
      },
      "VideoRegenerateRequest": {
        "properties": {
          "feedback": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 2000
              },
              {
                "type": "null"
              }
            ],
            "title": "Feedback",
            "description": "Optional feedback to guide video regeneration"
          },
          "jobType": {
            "$ref": "#/components/schemas/VideoJobType",
            "description": "Type of video to generate",
            "default": "motion_poster"
          }
        },
        "type": "object",
        "title": "VideoRegenerateRequest",
        "description": "Request schema for regenerating a video during HITL review.\n\nAllows user to provide feedback for improved regeneration.\n\nAttributes:\n    feedback: Optional feedback to guide regeneration\n    job_type: Type of video to generate (defaults to motion_poster)"
      },
      "VideoRegenerateResponse": {
        "properties": {
          "newJobId": {
            "type": "string",
            "title": "Newjobid",
            "description": "UUID of the new regeneration job"
          },
          "originalJobId": {
            "type": "string",
            "title": "Originaljobid",
            "description": "UUID of the original job"
          },
          "postId": {
            "type": "string",
            "title": "Postid",
            "description": "ID of the associated post"
          },
          "status": {
            "$ref": "#/components/schemas/VideoJobStatus",
            "description": "Job status (queued)",
            "default": "queued"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "title": "Createdat",
            "description": "Timestamp when new job was created"
          }
        },
        "type": "object",
        "required": [
          "newJobId",
          "originalJobId",
          "postId",
          "createdAt"
        ],
        "title": "VideoRegenerateResponse",
        "description": "Response schema for video regeneration.\n\nReturned when a regeneration request is successfully queued.\n\nAttributes:\n    new_job_id: UUID of the new regeneration job\n    original_job_id: UUID of the original job being regenerated from\n    post_id: ID of the associated post\n    status: Status of new job (queued)\n    created_at: Timestamp when new job was created"
      },
      "VideoRejectRequest": {
        "properties": {
          "reason": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 1000
              },
              {
                "type": "null"
              }
            ],
            "title": "Reason",
            "description": "Optional reason for rejecting the video"
          }
        },
        "type": "object",
        "title": "VideoRejectRequest",
        "description": "Request schema for rejecting a video during HITL review.\n\nAttributes:\n    reason: Optional reason for rejection"
      },
      "VideoRejectResponse": {
        "properties": {
          "jobId": {
            "type": "string",
            "title": "Jobid",
            "description": "UUID of the video generation job"
          },
          "postId": {
            "type": "string",
            "title": "Postid",
            "description": "ID of the associated post"
          },
          "status": {
            "$ref": "#/components/schemas/VideoJobStatus",
            "description": "Job status (rejected)",
            "default": "rejected"
          },
          "reason": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Reason",
            "description": "Rejection reason"
          },
          "rejectedAt": {
            "type": "string",
            "format": "date-time",
            "title": "Rejectedat",
            "description": "Timestamp when rejected"
          }
        },
        "type": "object",
        "required": [
          "jobId",
          "postId",
          "rejectedAt"
        ],
        "title": "VideoRejectResponse",
        "description": "Response schema for video rejection.\n\nAttributes:\n    job_id: UUID of the rejected job\n    post_id: ID of the associated post\n    status: New status (rejected)\n    reason: Rejection reason if provided\n    rejected_at: Timestamp when rejected"
      },
      "VideoStyle": {
        "type": "string",
        "enum": [
          "cinematic",
          "dynamic",
          "minimal",
          "energetic"
        ],
        "title": "VideoStyle",
        "description": "Visual styles for video generation."
      },
      "WeekContent": {
        "properties": {
          "weekNumber": {
            "type": "integer",
            "title": "Weeknumber"
          },
          "days": {
            "items": {
              "$ref": "#/components/schemas/DayContent"
            },
            "type": "array",
            "title": "Days"
          }
        },
        "type": "object",
        "required": [
          "weekNumber"
        ],
        "title": "WeekContent",
        "description": "Schema for weekly content."
      },
      "WeekPlan": {
        "properties": {
          "weekNumber": {
            "type": "integer",
            "title": "Weeknumber",
            "description": "Week number (1-indexed)"
          },
          "posts": {
            "items": {
              "$ref": "#/components/schemas/PostPlan"
            },
            "type": "array",
            "title": "Posts",
            "description": "Posts for this week"
          }
        },
        "type": "object",
        "required": [
          "weekNumber",
          "posts"
        ],
        "title": "WeekPlan",
        "description": "Week within a content plan."
      },
      "WorkflowRequest": {
        "properties": {
          "sources": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Sources",
            "description": "Website URLs to crawl"
          },
          "maxPages": {
            "type": "integer",
            "title": "Maxpages",
            "description": "Maximum pages to crawl",
            "default": 100
          }
        },
        "type": "object",
        "required": [
          "sources"
        ],
        "title": "WorkflowRequest",
        "description": "Request for starting a crawling workflow."
      },
      "WorkflowResponse": {
        "properties": {
          "workflowId": {
            "type": "string",
            "title": "Workflowid",
            "description": "Unique workflow identifier"
          },
          "brandId": {
            "type": "string",
            "title": "Brandid",
            "description": "Brand identifier"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Overall workflow status: running, completed, failed"
          },
          "steps": {
            "items": {
              "$ref": "#/components/schemas/WorkflowStep"
            },
            "type": "array",
            "title": "Steps",
            "description": "Workflow steps with status"
          },
          "createdAt": {
            "type": "string",
            "title": "Createdat",
            "description": "ISO timestamp when workflow was created"
          },
          "progress": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 100.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Progress",
            "description": "Overall progress percentage 0-100"
          },
          "currentStep": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Currentstep",
            "description": "Currently executing step"
          },
          "sources": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Sources",
            "description": "URLs being crawled"
          },
          "pagesCrawled": {
            "type": "integer",
            "title": "Pagescrawled",
            "description": "Number of pages successfully downloaded/scraped",
            "default": 0
          },
          "pagesProcessed": {
            "type": "integer",
            "title": "Pagesprocessed",
            "description": "Number of pages analyzed for knowledge extraction",
            "default": 0
          },
          "totalPages": {
            "type": "integer",
            "title": "Totalpages",
            "description": "Total pages discovered (can increase during crawl)",
            "default": 0
          },
          "totalPercentage": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 100.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Totalpercentage",
            "description": "Detailed progress percentage with decimals"
          },
          "result": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Result",
            "description": "Final workflow result (only when completed)"
          }
        },
        "type": "object",
        "required": [
          "workflowId",
          "brandId",
          "status",
          "steps",
          "createdAt"
        ],
        "title": "WorkflowResponse",
        "description": "Response from workflow operations with detailed progress tracking."
      },
      "WorkflowStatusResponse": {
        "properties": {
          "status": {
            "type": "string",
            "title": "Workflow Status",
            "description": "Current workflow status: pending, running, completed, or failed"
          },
          "progress": {
            "type": "integer",
            "maximum": 100.0,
            "minimum": 0.0,
            "title": "Progress Percentage",
            "description": "Workflow completion percentage (0-100)",
            "default": 0
          },
          "message": {
            "type": "string",
            "title": "Status Message",
            "description": "Human-readable status message (e.g., 'Generating post 10 of 21')",
            "default": ""
          },
          "currentStep": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Current Step",
            "description": "Name of the currently executing workflow step"
          },
          "workflowId": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Workflow ID",
            "description": "GCP Workflow execution ID for tracking"
          }
        },
        "type": "object",
        "required": [
          "status"
        ],
        "title": "WorkflowStatusResponse",
        "description": "Schema for workflow status response.\n\nProvides a simplified view of workflow execution status for polling.\nUsed by the frontend to monitor content generation progress.\n\nIssue #1227: Missing workflow-status endpoint for campaigns"
      },
      "WorkflowStep": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Step name: crawling, analyzing, or completed"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Step status: pending, running, completed, or failed"
          },
          "started_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Started At",
            "description": "ISO timestamp when step started"
          },
          "completed_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Completed At",
            "description": "ISO timestamp when step completed"
          }
        },
        "type": "object",
        "required": [
          "name",
          "status"
        ],
        "title": "WorkflowStep",
        "description": "Schema for workflow step tracking."
      },
      "src__schemas__content_generation_status__GenerationStatus": {
        "type": "string",
        "enum": [
          "pending",
          "generating",
          "completed",
          "failed"
        ],
        "title": "GenerationStatus",
        "description": "Status values for content generation operations."
      },
      "src__schemas__content_generation_status__PostGenerationStatus": {
        "properties": {
          "postId": {
            "type": "string",
            "title": "Postid",
            "description": "Post identifier"
          },
          "textStatus": {
            "$ref": "#/components/schemas/src__schemas__content_generation_status__GenerationStatus",
            "description": "Status of text generation",
            "default": "pending"
          },
          "imageStatus": {
            "$ref": "#/components/schemas/src__schemas__content_generation_status__GenerationStatus",
            "description": "Status of image generation",
            "default": "pending"
          },
          "imageCount": {
            "type": "integer",
            "title": "Imagecount",
            "description": "Number of images generated",
            "default": 0
          },
          "errorMessage": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Errormessage",
            "description": "Error message if generation failed"
          }
        },
        "type": "object",
        "required": [
          "postId"
        ],
        "title": "PostGenerationStatus",
        "description": "Status details for an individual post's generation.\n\nTracks both text and image generation status separately to\nsupport partial completion states."
      },
      "src__schemas__content_generator_pubsub__PubSubPushEnvelope": {
        "properties": {
          "message": {
            "$ref": "#/components/schemas/PubSubMessage",
            "description": "The Pub/Sub message"
          },
          "subscription": {
            "type": "string",
            "title": "Subscription",
            "description": "Subscription name"
          }
        },
        "type": "object",
        "required": [
          "message",
          "subscription"
        ],
        "title": "PubSubPushEnvelope",
        "description": "Pub/Sub push subscription envelope format."
      },
      "src__schemas__content_generator_pubsub__PulseAckResponse": {
        "properties": {
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Processing status",
            "default": "acknowledged"
          },
          "correlationId": {
            "type": "string",
            "title": "Correlationid",
            "description": "Correlation ID from message"
          },
          "campaignId": {
            "type": "integer",
            "title": "Campaignid",
            "description": "Campaign ID"
          }
        },
        "type": "object",
        "required": [
          "correlationId",
          "campaignId"
        ],
        "title": "PulseAckResponse",
        "description": "Response for successful pulse processing."
      },
      "src__schemas__content_generator_pubsub__PulseStatusResponse": {
        "properties": {
          "correlationId": {
            "type": "string",
            "title": "Correlationid",
            "description": "Correlation ID"
          },
          "campaignId": {
            "type": "integer",
            "title": "Campaignid",
            "description": "Campaign ID"
          },
          "currentStep": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Currentstep",
            "description": "Current step"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Human-readable status message"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Current status"
          },
          "currentPostId": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Currentpostid",
            "description": "Post currently being generated"
          },
          "timestamp": {
            "type": "string",
            "title": "Timestamp",
            "description": "ISO-8601 timestamp of last update"
          }
        },
        "type": "object",
        "required": [
          "correlationId",
          "campaignId",
          "message",
          "status",
          "timestamp"
        ],
        "title": "PulseStatusResponse",
        "description": "Response for GET /pulses/{correlation_id} polling endpoint."
      },
      "src__schemas__crawler_briefs__PubSubPushEnvelope": {
        "properties": {
          "message": {
            "$ref": "#/components/schemas/PubSubMessage",
            "description": "The Pub/Sub message"
          },
          "subscription": {
            "type": "string",
            "title": "Subscription",
            "description": "Subscription name that sent the message"
          }
        },
        "type": "object",
        "required": [
          "message",
          "subscription"
        ],
        "title": "PubSubPushEnvelope",
        "description": "Pub/Sub push subscription envelope format.\n\nThis is the outer wrapper that Pub/Sub sends to push endpoints.\nThe actual message data is base64-encoded inside message.data."
      },
      "src__schemas__crawler_pulses__PubSubPushEnvelope": {
        "properties": {
          "message": {
            "$ref": "#/components/schemas/PubSubMessage",
            "description": "The Pub/Sub message"
          },
          "subscription": {
            "type": "string",
            "title": "Subscription",
            "description": "Subscription name"
          }
        },
        "type": "object",
        "required": [
          "message",
          "subscription"
        ],
        "title": "PubSubPushEnvelope",
        "description": "Pub/Sub push subscription envelope format."
      },
      "src__schemas__crawler_pulses__PulseAckResponse": {
        "properties": {
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Processing status",
            "default": "acknowledged"
          },
          "correlationId": {
            "type": "string",
            "title": "Correlationid",
            "description": "Correlation ID from message"
          },
          "progressPct": {
            "type": "integer",
            "title": "Progresspct",
            "description": "Progress percentage received"
          }
        },
        "type": "object",
        "required": [
          "correlationId",
          "progressPct"
        ],
        "title": "PulseAckResponse",
        "description": "Response for successful pulse processing."
      },
      "src__schemas__crawler_pulses__PulseStatusResponse": {
        "properties": {
          "correlationId": {
            "type": "string",
            "title": "Correlationid",
            "description": "Correlation ID for this crawl"
          },
          "progressPct": {
            "type": "integer",
            "maximum": 100.0,
            "minimum": 0.0,
            "title": "Progresspct",
            "description": "Current progress percentage"
          },
          "currentStep": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Currentstep",
            "description": "Current crawl step"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Human-readable status message"
          },
          "timestamp": {
            "type": "string",
            "title": "Timestamp",
            "description": "ISO-8601 timestamp of last update"
          }
        },
        "type": "object",
        "required": [
          "correlationId",
          "progressPct",
          "message",
          "timestamp"
        ],
        "title": "PulseStatusResponse",
        "description": "Response for GET /pulses/{correlation_id} polling endpoint.\n\nIssue #2181: Frontend polling endpoint for crawl progress."
      },
      "src__schemas__generation_status__GenerationStatus": {
        "type": "string",
        "enum": [
          "pending",
          "generating",
          "completed",
          "failed"
        ],
        "title": "GenerationStatus",
        "description": "Content generation status values."
      },
      "src__schemas__generation_status__PostGenerationStatus": {
        "properties": {
          "postId": {
            "type": "string",
            "title": "Postid",
            "description": "Unique identifier for the post"
          },
          "textGenerated": {
            "type": "boolean",
            "title": "Textgenerated",
            "description": "Whether post text has been generated",
            "default": false
          },
          "imageGenerationStatus": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ImageGenerationStatus"
              },
              {
                "type": "null"
              }
            ],
            "description": "Status of image generation: pending/generating/completed/failed"
          },
          "imageGenerationAttempts": {
            "type": "integer",
            "title": "Imagegenerationattempts",
            "description": "Number of image generation attempts",
            "default": 0
          },
          "hasImages": {
            "type": "boolean",
            "title": "Hasimages",
            "description": "Whether post has generated images",
            "default": false
          },
          "errorMessage": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Errormessage",
            "description": "Error message if generation failed"
          }
        },
        "type": "object",
        "required": [
          "postId"
        ],
        "title": "PostGenerationStatus",
        "description": "Status of a single post's generation.\n\nProvides granular status for text and image generation per post."
      }
    },
    "securitySchemes": {
      "HTTPBearer": {
        "type": "http",
        "scheme": "bearer"
      }
    }
  }
}
